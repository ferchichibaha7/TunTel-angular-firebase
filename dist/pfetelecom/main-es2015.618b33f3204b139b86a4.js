(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"3Kre":function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return R})),n.d(e,"getGlobalVars",(function(){return P})),n.d(e,"registerAnalytics",(function(){return M})),n.d(e,"resetGlobalVars",(function(){return N})),n.d(e,"settings",(function(){return D}));var r,i=n("mrSG"),o=n("wj3C"),l=n.n(o),s=(n("fSjL"),n("q/0M")),a=n("zVF4"),u=n("S+S0"),c="https://www.googletagmanager.com/gtag/js",h=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),d=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),f=new s.Logger("@firebase/analytics");function p(t,e,n,r,o,l){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,a,u,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:s=r[o],i.label=1;case 1:return i.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return i.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=i.sent(),(u=a.find((function(t){return t.measurementId===o})))?[4,e[u.appId]]:[3,6];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return c=i.sent(),f.error(c),[3,8];case 8:return t(h.CONFIG,o,l),[2]}}))}))}function g(t,e,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var l,s,a,u,c,d,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),l=[],o&&o.send_to?(s=o.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=i.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return l=[],"break";l.push(r)},c=0,d=s;c<d.length&&"break"!==u(d[c]);c++);i.label=2;case 2:return 0===l.length&&(l=Object.values(e)),[4,Promise.all(l)];case 3:return i.sent(),t(h.EVENT,r,o||{}),[3,5];case 4:return p=i.sent(),f.error(p),[3,5];case 5:return[2]}}))}))}var m=((r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',r),v=new a.ErrorFactory("analytics","Analytics",m),y=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function _(t){var e;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,l,s,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n=t.appId,r={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,r)];case 1:if(200===(l=i.sent()).status||304===l.status)return[3,6];s="",i.label=2;case 2:return i.trys.push([2,4,,5]),[4,l.json()];case 3:return a=i.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return i.sent(),[3,5];case 5:throw v.create("config-fetch-failed",{httpStatus:l.status,responseMessage:s});case 6:return[2,l.json()]}var u}))}))}function b(t,e,n,r){var o=e.throttleEndTimeMillis,l=e.backoffCount;return void 0===r&&(r=y),Object(i.__awaiter)(this,void 0,void 0,(function(){var e,s,u,c,h,d,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:e=t.appId,s=t.measurementId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,w(n,o)];case 2:return i.sent(),[3,4];case 3:if(u=i.sent(),s)return f.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u;case 4:return i.trys.push([4,6,,7]),[4,_(t)];case 5:return c=i.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof a.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(h=i.sent())){if(r.deleteThrottleMetadata(e),s)return f.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:s}];throw h}return d=503===Number(h.httpStatus)?Object(a.calculateBackoffMillis)(l,r.intervalMillis,30):Object(a.calculateBackoffMillis)(l,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:l+1},r.setThrottleMetadata(e,p),f.debug("Calling attemptFetch again in "+d+" millis"),[2,b(t,p,n,r)];case 7:return[2]}}))}))}function w(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(v.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var C,E,I=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),T={},S=[],x={},A="dataLayer",k="gtag",O=!1;function N(t,e,n){void 0===t&&(t=!1),void 0===e&&(e={}),void 0===n&&(n=[]),O=t,T=e,S=n,A="dataLayer",k="gtag"}function P(){return{initializationPromisesMap:T,dynamicConfigPromisesList:S}}function D(t){if(O)throw v.create("already-initialized");t.dataLayerName&&(A=t.dataLayerName),t.gtagName&&(k=t.gtagName)}function R(t,e){!function(){var t=[];if(Object(a.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(a.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=v.create("invalid-analytics-context",{errorInfo:e});f.warn(n.message)}}();var n=t.options.appId;if(!n)throw v.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw v.create("no-api-key");f.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=T[n])throw v.create("already-exists",{id:n});if(!O){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(c))return r}return null})()||function(t){var e=document.createElement("script");e.src=c+"?l="+t,e.async=!0,document.head.appendChild(e)}(A),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(A);var r=function(t,e,n,r,o){var l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(l=window[o]),window[o]=function(t,e,n,r){return function(o,l,s){return Object(i.__awaiter)(this,void 0,void 0,(function(){var a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),o!==h.EVENT?[3,2]:[4,g(t,e,n,l,s)];case 1:return i.sent(),[3,5];case 2:return o!==h.CONFIG?[3,4]:[4,p(t,e,n,r,l,s)];case 3:return i.sent(),[3,5];case 4:t(h.SET,l),i.label=5;case 5:return[3,7];case 6:return a=i.sent(),f.error(a),[3,7];case 7:return[2]}}))}))}}(l,t,e,n),{gtagCore:l,wrappedGtag:window[o]}}(T,S,x,A,k);E=r.wrappedGtag,C=r.gtagCore,O=!0}return T[n]=function(t,e,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var l,s,u,c,d,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return(l=function(t,e,n){return void 0===e&&(e=y),Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,l,s,a,u=this;return Object(i.__generator)(this,(function(c){if(o=(n=t.options).apiKey,l=n.measurementId,!(r=n.appId))throw v.create("no-app-id");if(!o){if(l)return[2,{measurementId:l,appId:r}];throw v.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new I,setTimeout((function(){return Object(i.__awaiter)(u,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return a.abort(),[2]}))}))}),6e4),[2,b({appId:r,apiKey:o,measurementId:l},s,a,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&f.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return f.error(t)})),e.push(l),s=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return Object(a.isIndexedDBAvailable)()?[3,1]:(f.warn(v.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),f.warn(v.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([l,s])];case 1:return u=m.sent(),c=u[0],d=u[1],o("js",new Date),(g={}).origin="firebase",g.update=!0,p=g,null!=d&&(p.firebase_id=d),o(h.CONFIG,c.measurementId,p),[2,c.measurementId]}}))}))}(t,S,x,e,C),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var l,s;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return o&&o.global?(t(h.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:l=a.sent(),s=Object(i.__assign)(Object(i.__assign)({},r),{send_to:l}),t(h.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(E,T[n],t,e,r).catch((function(t){return f.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(h.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(h.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}}))}))})(E,T[n],t,e).catch((function(t){return f.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(h.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(h.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}}))}))})(E,T[n],t,e).catch((function(t){return f.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o,l,s,a,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!r||!r.global)return[3,1];for(o={},l=0,s=Object.keys(n);l<s.length;l++)o["user_properties."+(a=s[l])]=n[a];return t(h.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:u=i.sent(),t(h.CONFIG,u,{update:!0,user_properties:n}),i.label=3;case 3:return[2]}}))}))})(E,T[n],t,e).catch((function(t){return f.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(T[n],t).catch((function(t){return f.error(t)}))},INTERNAL:{delete:function(){return delete T[n],Promise.resolve()}}}}function M(t){t.INTERNAL.registerComponent(new u.Component("analytics",(function(t){return R(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:D,EventName:d,isSupported:L})),t.INTERNAL.registerComponent(new u.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw v.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.0")}function L(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:if(Object(a.isBrowserExtension)())return[2,!1];if(!Object(a.areCookiesEnabled)())return[2,!1];if(!Object(a.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}M(l.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("wj3C"),o=n("q/0M"),l=n("zVF4"),s=n("x7I3"),a=n("S+S0"),u=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),d=new o.Logger("@firebase/firestore");function f(){return d.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=o.LogLevel.DEBUG){var i=e.map(v);d.debug.apply(d,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=o.LogLevel.ERROR){var i=e.map(v);d.error.apply(d,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=o.LogLevel.WARN){var i=e.map(v);d.warn.apply(d,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function v(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function y(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function _(t,e){t||y()}function b(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function C(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var I=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var l=o[i];if(l.indexOf("//")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");r.push.apply(r,l.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(I),S=/^[_a-zA-Z][_a-zA-Z0-9]*$/,x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return S.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},l=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new h(c.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new h(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===s?(l=!l,i++):"."!==s||l?(r+=s,i++):(o(),i++)}if(o(),l)throw new h(c.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(I),A=function(){function t(t){this.path=t}return t.D=function(e){return new t(T.g(e))},t.C=function(e){return new t(T.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===T.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return T.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new T(e.slice()))},t}();function k(t,e){if(0!==e.length)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function N(t,e,n){if(e.length<n)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function P(t,e,n,r){if(e.length<n||e.length>r)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function D(t,e,n,r){V(t,e,G(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&D(t,e,n,r)}function M(t,e,n,r){V(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],l=0,s=i;l<s.length;l++){var a=s[l];if(a===r)return;o.push(q(a))}var u=q(r);throw new h(c.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function U(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(c.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+G(n)+" argument. Acceptable values: "+e.join(", "));return r}function V(t,e,n,r){if(!("object"===e?j(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function j(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y()}function B(t,e,n){if(void 0===n)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+G(e)+" argument, but it was undefined.")}function H(t,e,n){C(e,(function(e,r){if(n.indexOf(e)<0)throw new h(c.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function z(t,e,n,r){var i=q(r);return new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(n)+" argument to be a "+e+", but it was: "+i)}function W(t,e,n){if(n<=0)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(e)+" argument to be a positive number, but it was: "+n+".")}function G(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}function $(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Q=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=$(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function X(t,e){return t<e?-1:t>e?1:0}function Y(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function J(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return X(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(c.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){O("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(c.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(O("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return X(this.projectId,t.projectId)||X(this.database,t.database)},t}(),lt=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],l=o[1];if(this.G(o[0],t))return l}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){C(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.m=function(){return E(this.H)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?X(this.nanoseconds,t.nanoseconds):X(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),at=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new st(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function ut(t){return null==t}function ct(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!ct(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var dt=function(t,e,n,r,i,o,l){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===l&&(l=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.tt=null};function ft(t,e,n,r,i,o,l){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===l&&(l=null),new dt(t,e,n,r,i,o,l)}function pt(t){var e=b(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ut(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=lr(e.startAt)),e.endAt&&(n+="|ub:",n+=lr(e.endAt)),e.tt=n}return e.tt}function gt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ar(t.startAt,e.startAt)&&ar(t.endAt,e.endAt)}function mt(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var vt,yt,_t=function(){function t(t,e,n,r,i,o,l){void 0===i&&(i=at.min()),void 0===o&&(o=at.min()),void 0===l&&(l=Z.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),bt=function(t){this.count=t};function wt(t){switch(t){case c.OK:return y();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return y()}}function Ct(t){if(void 0===t)return g("GRPC error has no .code"),c.UNKNOWN;switch(t){case vt.OK:return c.OK;case vt.CANCELLED:return c.CANCELLED;case vt.UNKNOWN:return c.UNKNOWN;case vt.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case vt.INTERNAL:return c.INTERNAL;case vt.UNAVAILABLE:return c.UNAVAILABLE;case vt.UNAUTHENTICATED:return c.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case vt.NOT_FOUND:return c.NOT_FOUND;case vt.ALREADY_EXISTS:return c.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return c.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case vt.ABORTED:return c.ABORTED;case vt.OUT_OF_RANGE:return c.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return c.UNIMPLEMENTED;case vt.DATA_LOSS:return c.DATA_LOSS;default:return y()}}(yt=vt||(vt={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";var Et=function(){function t(t,e){this.i=t,this.root=e||Tt.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,Tt.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,Tt.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new It(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new It(this.root,t,this.i,!1)},t.prototype.dt=function(){return new It(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new It(this.root,t,this.i,!0)},t}(),It=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw y();if(this.right.yt())throw y();var t=this.left.Nt();if(t!==this.right.Nt())throw y();return t+(this.yt()?0:1)},t}();Tt.EMPTY=null,Tt.RED=!0,Tt.at=!1,Tt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new Tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var St=function(){function t(t){this.i=t,this.data=new Et(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new xt(this.data._t())},t.prototype.ft=function(t){return new xt(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),xt=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),At=new Et(A.i);function kt(){return At}function Ot(){return kt()}var Nt=new Et(A.i);function Pt(){return Nt}var Dt=new Et(A.i),Rt=new St(A.i);function Mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lt=new St(X);function Ft(){return Lt}var Ut=function(){function t(t){this.i=t?function(e,n){return t(e,n)||A.i(e.key,n.key)}:function(t,e){return A.i(t.key,e.key)},this.Ot=Pt(),this.Lt=new Et(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Vt=function(){function t(){this.qt=new Et(A.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):y():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),jt=function(){function t(t,e,n,r,i,o,l,s){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=l,this.Kt=s}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ut.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Wn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Bt.Zt(e,n)),new t(at.min(),r,Ft(),kt(),Mt())},t}(),Bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Z.B,n,Mt(),Mt(),Mt())},t}(),Ht=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},zt=function(t,e){this.targetId=t,this.oe=e},Wt=function(t,e,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gt=function(){function t(){this.ae=0,this.ce=Qt(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Mt(),e=Mt(),n=Mt();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:y()}})),new Bt(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Qt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Kt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=kt(),this.Ve=$t(),this.pe=new St(X)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof kn?this.ve(r,t.re):t.re instanceof On&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:y()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(mt(i))if(0===n){var o=new A(i.path);this.Se(e,o,new On(o,at.min()))}else _(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&mt(o.target)){var l=new A(o.target.path);null!==e.ye.get(l)||e.Le(i,l)||e.Se(i,l,new On(l,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Mt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new qt(t,n,this.pe,this.ye,r);return this.ye=kt(),this.Ve=$t(),this.pe=new St(X),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Gt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new St(X),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Gt),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function $t(){return new Et(A.i)}function Qt(){return new Et(A.i)}function Xt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yt(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Jt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xt(t)?4:10:y()}function te(t,e){var n=Zt(t);if(n!==Zt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yt(t).isEqual(Yt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return se(t.bytesValue).isEqual(se(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return le(t.geoPointValue.latitude)===le(e.geoPointValue.latitude)&&le(t.geoPointValue.longitude)===le(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return le(t.integerValue)===le(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=le(t.doubleValue),r=le(e.doubleValue);return n===r?ct(n)===ct(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Y(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return y()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Zt(t),r=Zt(e);if(n!==r)return X(n,r);switch(n){case 0:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=le(t.integerValue||t.doubleValue),r=le(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Yt(t),Yt(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(t,e){var n=se(t),r=se(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=X(n[i],r[i]);if(0!==o)return o}return X(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=X(le(t.latitude),le(e.latitude));return 0!==n?n:X(le(t.longitude),le(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return X(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var l=0;l<r.length&&l<o.length;++l){var s=X(r[l],o[l]);if(0!==s)return s;var a=ne(n[r[l]],i[o[l]]);if(0!==a)return a}return X(r.length,o.length)}(t.mapValue,e.mapValue);default:throw y()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);var n=oe(t),r=oe(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?se(e.bytesValue).toBase64():"referenceValue"in e?A.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var l=o[i];r?r=!1:n+=",",n+=l+":"+t(e.fields[l])}return n+"}"}(e.mapValue):y();var n}(t)}function oe(t){if(_(!!t),"string"==typeof t){var e=0,n=Jt.exec(t);if(_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:le(t.seconds),nanos:le(t.nanos)}}function le(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function se(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function ae(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ue(t){return!!t&&"integerValue"in t}function ce(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function de(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fe(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},me=function(t,e){this.U=t,this.Qe=e};function ve(t){return{integerValue:""+t}}function ye(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ct(e)?"-0":e}}function _e(t,e){return ht(e)?ve(e):ye(t,e)}function be(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Ce(t,e){return be(t,e.Z())}function Ee(t){return _(!!t),at.J(function(t){var e=oe(t);return new st(e.seconds,e.nanos)}(t))}function Ie(t,e){return function(t){return new T(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Te(t){var e=T.g(t);return _(Ge(e)),e}function Se(t,e){return Ie(t.U,e.path)}function xe(t,e){var n=Te(e);return _(n.get(1)===t.U.projectId),_(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new A(Ne(n))}function Ae(t,e){return Ie(t.U,e)}function ke(t){var e=Te(t);return 4===e.length?T.P():Ne(e)}function Oe(t){return new T(["projects",t.U.projectId,"databases",t.U.database]).R()}function Ne(t){return _(t.length>4&&"documents"===t.get(4)),t.u(5)}function Pe(t,e,n){return{name:Se(t,e),fields:n.proto.mapValue.fields}}function De(t,e){var n;if(e instanceof vn)n={update:Pe(t,e.key,e.value)};else if(e instanceof En)n={delete:Se(t,e.key)};else if(e instanceof yn)n={update:Pe(t,e.key,e.data),updateMask:We(e.We)};else if(e instanceof bn)n={transform:{document:Se(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ye)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.je};throw y()}(0,t)}))}};else{if(!(e instanceof In))return y();n={verify:Se(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ce(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.Ge)),n}function Re(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?un.updateTime(Ee(t.updateTime)):void 0!==t.exists?un.exists(t.exists):un.ze()}(e.currentDocument):un.ze();if(e.update){var r=xe(t,e.update.name),i=new Tn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new ln((t.fieldPaths||[]).map((function(t){return x.S(t)})))}(e.updateMask);return new yn(r,i,o,n)}return new vn(r,i,n)}if(e.delete){var l=xe(t,e.delete);return new En(l,n)}if(e.transform){var s=xe(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(_("REQUEST_TIME"===e.setToServerValue),n=new Ye):"appendMissingElements"in e?n=new Je(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):y();var r=x.S(e.fieldPath);return new sn(r,n)}(t,e)}));return _(!0===n.exists),new bn(s,a)}if(e.verify){var u=xe(t,e.verify);return new In(u,n)}return y()}function Me(t,e){return{documents:[Ae(t,e.path)]}}function Le(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ae(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ae(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(de(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(de(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qe(t.field),op:je(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:qe(t.field),direction:Ve(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var l=function(t,e){return t.Qe||ut(e)?e:{value:e}}(t,e.limit);return null!==l&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=Fe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fe(e.endAt)),n}function Fe(t){return{before:t.before,values:t.position}}function Ue(t){return new or(t.values||[],!!t.before)}function Ve(t){return pe[t]}function je(t){return ge[t]}function qe(t){return{fieldPath:t.R()}}function Be(t){return x.S(t.fieldPath)}function He(t){return Xn.create(Be(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}function ze(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Be(t.unaryFilter.field);return Xn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Be(t.unaryFilter.field);return Xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Be(t.unaryFilter.field);return Xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Be(t.unaryFilter.field);return Xn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function We(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Ge(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ke=function(){this.He=void 0};function $e(t,e,n){return t instanceof Ye?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):function(t,e){var n=Xe(t,e),r=rn(n)+rn(t.je);return ue(n)&&ue(t.je)?ve(r):ye(t.serializer,r)}(t,e)}function Qe(t,e,n){return t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):n}function Xe(t,e){return t instanceof nn?ue(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ke),Je=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function Ze(t,e){for(var n=on(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function en(t,e){for(var n=on(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}(Ke);function rn(t){return le(t.integerValue||t.doubleValue)}function on(t){return ce(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ln=function(){function t(t){this.fields=t,t.sort(x.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return Y(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),sn=function(t,e){this.field=t,this.transform=e},an=function(t,e){this.version=t,this.transformResults=e},un=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function cn(t,e){return void 0!==t.updateTime?e instanceof kn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof kn}var hn=function(){};function dn(t,e,n){return t instanceof vn?function(t,e,n){return new kn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof yn?function(t,e,n){if(!cn(t.Ge,e))return new Nn(t.key,n.version);var r=_n(t,e);return new kn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof bn?function(t,e,n){if(_(null!=n.transformResults),!cn(t.Ge,e))return new Nn(t.key,n.version);var r=wn(0,e),i=function(t,e,n){var r=[];_(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],l=o.transform,s=null;e instanceof kn&&(s=e.field(o.field)),r.push(Qe(l,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,l=Cn(t,r.data(),i);return new kn(t.key,o,l,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new On(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function fn(t,e,n,r){return t instanceof vn?function(t,e){if(!cn(t.Ge,e))return e;var n=mn(e);return new kn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof yn?function(t,e){if(!cn(t.Ge,e))return e;var n=mn(e),r=_n(t,e);return new kn(t.key,n,r,{Je:!0})}(t,e):t instanceof bn?function(t,e,n,r){if(!cn(t.Ge,e))return e;var i=wn(0,e),o=function(t,e,n,r){for(var i=[],o=0,l=t;o<l.length;o++){var s=l[o],a=s.transform,u=null;n instanceof kn&&(u=n.field(s.field)),null===u&&r instanceof kn&&(u=r.field(s.field)),i.push($e(a,u,e))}return i}(t.fieldTransforms,n,e,r),l=Cn(t,i.data(),o);return new kn(t.key,i.version,l,{Je:!0})}(t,e,r,n):function(t,e){return cn(t.Ge,e)?new On(t.key,at.min()):e}(t,e)}function pn(t,e){return t instanceof bn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],l=e instanceof kn?e.field(o.field):void 0,s=Xe(o.transform,l||null);null!=s&&(n=null==n?(new Sn).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(t,e):null}function gn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||Y(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Je&&e instanceof Je||t instanceof tn&&e instanceof tn?Y(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.je,e.je):t instanceof Ye&&e instanceof Ye}(t.transform,e.transform)}(t,e)})))}function mn(t){return t instanceof kn?t.version:at.min()}var vn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(hn),yn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(e,t),e}(hn);function _n(t,e){return function(t,e){var n=new Sn(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof kn?e.data():Tn.empty())}var bn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=un.exists(!0),r}return r.__extends(e,t),e}(hn);function wn(t,e){return e}function Cn(t,e,n){for(var r=new Sn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var En=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(hn),In=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(hn),Tn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!fe(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),Sn=function(){function t(t){void 0===t&&(t=Tn.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(x.P(),this.tn);return null!=t?new Tn(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=fe(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var l=n.nn(t.child(i),e);null!=l&&(o[i]=l,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function xn(t){var e=[];return C(t.fields||{},(function(t,n){var r=new x([t]);if(fe(n)){var i=xn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,l=i;o<l.length;o++)e.push(r.child(l[o]))}else e.push(r)})),new ln(e)}var An=function(t,e){this.key=t,this.version=e},kn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(An),On=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),Nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),Pn=function(t,e,n,r,i,o,l,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===l&&(l=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=l,this.endAt=s,this.cn=null,this.un=null};function Dn(t,e,n,r,i,o,l,s){return new Pn(t,e,n,r,i,o,l,s)}function Rn(t){return new Pn(t)}function Mn(t){return!ut(t.limit)&&"F"===t.an}function Ln(t){return!ut(t.limit)&&"L"===t.an}function Fn(t){return t.on.length>0?t.on[0].field:null}function Un(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function Vn(t){return null!==t.collectionGroup}function jn(t){var e=b(t);if(null===e.cn){e.cn=[];var n=Un(e),r=Fn(e);if(null!==n&&null===r)n.p()||e.cn.push(new ur(n)),e.cn.push(new ur(x.v(),"asc"));else{for(var i=!1,o=0,l=e.on;o<l.length;o++){var s=l[o];e.cn.push(s),s.field.p()&&(i=!0)}if(!i){var a=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new ur(x.v(),a))}}}return e.cn}function qn(t){var e=b(t);if(!e.un)if("F"===e.an)e.un=ft(e.path,e.collectionGroup,jn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=jn(e);r<i.length;r++){var o=i[r];n.push(new ur(o.field,"desc"===o.dir?"asc":"desc"))}var l=e.endAt?new or(e.endAt.position,!e.endAt.before):null,s=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.un=ft(e.path,e.collectionGroup,n,e.filters,e.limit,l,s)}return e.un}function Bn(t,e,n){return new Pn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hn(t,e){return new Pn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function zn(t,e){return new Pn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Wn(t,e){return gt(qn(t),qn(e))&&t.an===e.an}function Gn(t){return pt(qn(t))+"|lt:"+t.an}function Kn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ut(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+lr(t.startAt)),t.endAt&&(e+=", endAt: "+lr(t.endAt)),"Target("+e+")"}(qn(t))+"; limitType="+t.an+")"}function $n(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):A.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!sr(t.startAt,jn(t),e)||t.endAt&&sr(t.endAt,jn(t),e))}(t,e)}function Qn(t){return function(e,n){for(var r=!1,i=0,o=jn(t);i<o.length;i++){var l=o[i],s=cr(l,e,n);if(0!==s)return s;r=r||l.field.p()}return 0}}var Xn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new Yn(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(c.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(de(r)){if("=="!==n&&"!="!==n)throw new h(c.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Jn(t,n):new Zn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&Zt(this.value)===Zt(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=A.i(t.key,this.key);return this._n(e)},e}(Xn),Jn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Xn),Zn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Xn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return A.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ce(e)&&ee(e.arrayValue,this.value)},e}(Xn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Xn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Xn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ce(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Xn),or=function(t,e){this.position=t,this.before=e};function lr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function sr(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],l=t.position[i];if(r=o.field.p()?A.i(A.C(l.referenceValue),n.key):ne(l,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ar(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var ur=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function cr(t,e,n){var r=t.field.p()?A.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var dr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},fr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),pr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&y(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),gr=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(l.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),wr(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=l.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new vr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new h(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vr(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,l,s,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:o="readonly"===e,l=0,s=function(){var e,s,u,c,h;return r.__generator(this,(function(r){switch(r.label){case 0:++l,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,a.Wn(t)];case 2:return a.db=r.sent(),e=_r.open(a.db,t,o?"readonly":"readwrite",n),s=i(e).catch((function(t){return e.abort(t),pr.reject(t)})).Fn(),u={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(u.value=(r.sent(),s),u)];case 4:return p("SimpleDb","Transaction failed with error:",(c=r.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&l<3),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),mr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return wr(this.zn.delete())},t}(),vr=function(t){function e(e,n){var r=this;return(r=t.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function yr(t){return"IndexedDbTransactionError"===t.name}var _r=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new dr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new vr(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Er(e.target.error);n.Zn.reject(new vr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vr(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new br(e)},t}(),br=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wr(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),wr(this.store.add(t))},t.prototype.get=function(t){var e=this;return wr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),wr(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),wr(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=Er(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new mr(i),l=e(i.primaryKey,i.value,o);if(l instanceof pr){var s=l.catch((function(t){return o.done(),pr.reject(t)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return pr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wr(t){return new pr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Er(t.target.error);n(e)}}))}var Cr=!1;function Er(t){var e=gr.On(l.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Cr||(Cr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Ir(){return"undefined"!=typeof window?window:null}function Tr(){return"undefined"!=typeof document?document:null}var Sr=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new dr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var l=new t(e,n,Date.now()+r,i,o);return l.start(r),l},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(c.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),xr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new fr(this,"async_queue_retry"),this.Vs=function(){var e=Tr();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Tr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Tr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!yr(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,g("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Sr._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&y()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Ar(t,e){if(g("AsyncQueue",e+": "+t),yr(t))return new h(c.UNAVAILABLE,e+": "+t);throw t}var kr=function(){this.Ls=void 0,this.listeners=[]},Or=function(){this.Bs=new lt((function(t){return Gn(t)}),Wn),this.onlineState="Unknown",this.qs=new Set};function Nr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=b(t),o=!1,(l=n.Bs.get(i=e.query))||(o=!0,l=new kr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=l,[4,n.Us(i)];case 2:return s.Ls=r.sent(),[3,4];case 3:return a=r.sent(),u=Ar(a,"Initialization of query '"+Kn(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.Bs.set(i,l),l.listeners.push(e),e.Qs(n.onlineState),l.Ls&&e.Ws(l.Ls)&&Mr(n),[2]}}))}))}function Pr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s;return r.__generator(this,(function(r){return n=b(t),o=!1,(l=n.Bs.get(i=e.query))&&(s=l.listeners.indexOf(e))>=0&&(l.listeners.splice(s,1),o=0===l.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Dr(t,e){for(var n=b(t),r=!1,i=0,o=e;i<o.length;i++){var l=o[i],s=n.Bs.get(l.query);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].Ws(l)&&(r=!0);s.Ls=l}}r&&Mr(n)}function Rr(t,e,n){var r=b(t),i=r.Bs.get(e);if(i)for(var o=0,l=i.listeners;o<l.length;o++)l[o].onError(n);r.Bs.delete(e)}function Mr(t){t.qs.forEach((function(t){t.next()}))}var Lr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=jt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),Fr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fr.UNAUTHENTICATED=new Fr(null),Fr.ei=new Fr("google-credentials-uid"),Fr.ni=new Fr("first-party-uid");var Ur=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Vr(t,e){return"firestore_clients_"+t+"_"+e}function jr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function qr(t,e){return"firestore_targets_"+t+"_"+e}Ur.ai=-1;var Br=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),l=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(l=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,l):(g("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(g("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ft(),l=0;i&&l<r.activeTargetIds.length;++l)i=ht(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new t(e,o):(g("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(g("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gr=function(){function t(){this.activeTargetIds=Ft()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Et(X),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Vr(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Gr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,l,s,a,u,c,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(Vr(this.persistenceKey,i)))&&(l=zr.ci(i,o))&&(this.Ti=this.Ti.ot(l.clientId,l));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(a=this.vi(s))&&this.Si(a),u=0,c=this.Ii;u<c.length;u++)this.mi(c[u]);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(qr(this.persistenceKey,t));if(n){var r=Hr.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(qr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,l,s;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(l=this.vi(n.newValue)))return[2,this.Si(l)]}else n.key===this.Ri&&(s=function(t){var e=Ur.ai;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n),e=n}catch(t){g("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ur.ai&&this.si(s)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Br(this.currentUser,t,e,n),i=jr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=jr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var r=qr(this.persistenceKey,t),i=new Hr(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return zr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return Br.ci(new Fr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Hr.ci(r,e)},t.prototype.vi=function(t){return Wr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),l=[],s=[];return o.forEach((function(t){i.has(t)||l.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fi.sr(l,s).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=Ft();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),$r=function(){function t(){this.ir=new Gr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Gr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Qr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=dn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=fn(i,e,e,this.ar))}for(var o=e,l=0,s=this.mutations;l<s.length;l++){var a=s[l];a.key.isEqual(t)&&(e=fn(a,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Mt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations,(function(t,e){return gn(t,e)}))&&Y(this.baseMutations,t.baseMutations,(function(t,e){return gn(t,e)}))},t}(),Xr=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){_(e.mutations.length===r.length);for(var i=Dt,o=e.mutations,l=0;l<o.length;l++)i=i.ot(o[l].key,r[l].version);return new t(e,n,r,i)},t}(),Yr=function(){function t(){this.wr=new lt((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?pr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zr=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=Ot();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=kt();return i.forEach((function(t,e){e||(e=new On(t,at.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Vn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new A(e)).next((function(t){var e=Pt();return t instanceof kn&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=Pt();return this.Dr.Qr(t,i).next((function(l){return pr.forEach(l,(function(l){var s=function(t,e){return new Pn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,l.child(i));return r.Ur(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return o.jr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],l=0,s=o.mutations;l<s.length;l++){var a=s[l],u=a.key,c=r.get(u),h=fn(a,c,c,o.ar);r=h instanceof kn?r.ot(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){$n(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Mt(),i=0,o=e;i<o.length;i++)for(var l=0,s=o[i].mutations;l<s.length;l++){var a=s[l];a instanceof yn&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof kn&&(u=u.ot(t,e))})),u}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Mt(),i=Mt(),o=0,l=n.docChanges;o<l.length;o++){var s=l[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[1],r=e[1],i=X(t[0],e[0]);return 0===i?X(n,r):i}var ri=function(){function t(t){this.Hr=t,this.buffer=new St(ni),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Zr:!1,eo:0,no:0,so:0},oi=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();oi.ho=-1,oi.lo=1048576,oi._o=41943040,oi.co=10,oi.uo=1e3,oi.fo=new oi(oi._o,oi.co,oi.uo),oi.do=new oi(oi.ho,0,0);var li=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==oi.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return yr(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,So(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),si=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return pr.resolve(Ur.ai);var r=new ri(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===oi.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.So(t).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ii):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,l,s,a,u,c=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>c.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+e),r=c.params.oo):r=e,l=Date.now(),c.yo(t,r)})).next((function(r){return n=r,s=Date.now(),c.po(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.bo(t,n)})).next((function(t){return u=Date.now(),f()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(l-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-l)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function ai(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ci(e)),e=ui(t.get(n),e);return ci(e)}function ui(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ci(t){return t+"\x01\x01"}function hi(t){var e=t.length;if(_(e>=2),2===e)return _("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),T.P();for(var n=e-2,r=[],i="",o=0;o<e;){var l=t.indexOf("\x01",o);switch((l<0||l>n)&&y(),t.charAt(l+1)){case"\x01":var s=t.substring(o,l),a=void 0;0===i.length?a=s:(a=i+=s,i=""),r.push(a);break;case"\x10":i+=t.substring(o,l),i+="\0";break;case"\x11":i+=t.substring(o,l+1);break;default:y()}o=l+2}return new T(r)}var di=function(t){this.Co=t};function fi(t,e){if(e.document)return function(t,e,n){var r=xe(t,e.name),i=Ee(e.updateTime),o=new Tn({mapValue:{fields:e.fields}});return new kn(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=A.$(e.noDocument.path),r=yi(e.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=A.$(e.unknownDocument.path),o=yi(e.unknownDocument.version);return new Nn(i,o)}return y()}function pi(t,e,n){var r=gi(n),i=e.key.path.h().A();if(e instanceof kn){var o=function(t,e){return{name:Se(t,e.key),fields:e.rn().mapValue.fields,updateTime:be(t,e.version.Z())}}(t.Co,e);return new zi(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof On){var l=e.key.path.A(),s=vi(e.version),a=e.hasCommittedMutations;return new zi(null,new Bi(l,s),null,a,r,i)}if(e instanceof Nn){var u=e.key.path.A(),c=vi(e.version);return new zi(new Hi(u,c),null,null,!0,r,i)}return y()}function gi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function mi(t){var e=new st(t[0],t[1]);return at.J(e)}function vi(t){var e=t.Z();return new Fi(e.seconds,e.nanoseconds)}function yi(t){var e=new st(t.seconds,t.nanoseconds);return at.J(e)}function _i(t,e){var n=(e.baseMutations||[]).map((function(e){return Re(t.Co,e)})),r=e.mutations.map((function(e){return Re(t.Co,e)})),i=st.fromMillis(e.localWriteTimeMs);return new Qr(e.batchId,i,n,r)}function bi(t){var e,n,r=yi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?yi(t.lastLimboFreeSnapshotVersion):at.min();return void 0!==t.query.documents?(_(1===(n=t.query).documents.length),e=qn(Rn(ke(n.documents[0])))):e=function(t){var e=ke(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var l=[];n.where&&(l=function t(e){return e?void 0!==e.unaryFilter?[ze(e)]:void 0!==e.fieldFilter?[He(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):y():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new ur(Be(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return ut(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Ue(n.startAt));var c=null;return n.endAt&&(c=Ue(n.endAt)),qn(Dn(e,i,s,l,a,"F",u,c))}(t.query),new _t(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Z.fromBase64String(t.resumeToken))}function wi(t,e){var n,r=vi(e.nt),i=vi(e.lastLimboFreeSnapshotVersion);n=mt(e.target)?Me(t.Co,e.target):Le(t.Co,e.target);var o=e.resumeToken.toBase64();return new Gi(e.targetId,pt(e.target),r,o,e.sequenceNumber,i,n)}var Ci=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return _(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ti(t).rs({index:ji.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=Si(t),l=Ti(t);return l.add({}).next((function(s){_("number"==typeof s);for(var a=new Qr(s,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return De(t.Co,e)})),i=n.mutations.map((function(e){return De(t.Co,e)}));return new ji(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,a),c=[],h=new St((function(t,e){return X(t.R(),e.R())})),d=0,f=r;d<f.length;d++){var p=f[d],g=qi.key(i.userId,p.key.path,s);h=h.add(p.key.path.h()),c.push(l.put(u)),c.push(o.put(g,qi.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[s]=a.keys()})),pr.$n(c).next((function(){return a}))}))},t.prototype.Oo=function(t,e){var n=this;return Ti(t).get(e).next((function(t){return t?(_(t.userId===n.userId),_i(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?pr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ti(t).rs({index:ji.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_(e.batchId>=r),o=_i(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ti(t).rs({index:ji.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ti(t).ts(ji.userMutationsIndex,n).next((function(t){return t.map((function(t){return _i(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=qi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Si(t).rs({range:i},(function(r,i,l){var s=r[0],a=r[2],u=hi(r[1]);if(s===n.userId&&e.path.isEqual(u))return Ti(t).get(a).next((function(t){if(!t)throw y();_(t.userId===n.userId),o.push(_i(n.serializer,t))}));l.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new St(X),i=[];return e.forEach((function(e){var o=qi.prefixForPath(n.userId,e.path),l=IDBKeyRange.lowerBound(o),s=Si(t).rs({range:l},(function(t,i,o){var l=t[0],s=t[2],a=hi(t[1]);l===n.userId&&e.path.isEqual(a)?r=r.add(s):o.done()}));i.push(s)})),pr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=qi.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(o),s=new St(X);return Si(t).rs({range:l},(function(t,e,o){var l=t[0],a=t[2],u=hi(t[1]);l===n.userId&&r.T(u)?u.length===i&&(s=s.add(a)):o.done()})).next((function(){return n.Qo(t,s)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ti(t).get(e).next((function(t){if(null===t)throw y();_(t.userId===n.userId),r.push(_i(n.serializer,t))})))})),pr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Ii(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),pr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(qi.prefixForUser(e.userId)),i=[];return Si(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=hi(t[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length)}))}))},t.prototype.Ho=function(t,e){return Ei(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return xi(t).get(this.userId).next((function(t){return t||new Vi(e.userId,-1,"")}))},t}();function Ei(t,e,n){var r=qi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),l=!1;return Si(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(l=!0),r.done()})).next((function(){return l}))}function Ii(t,e,n){var r=t.store(ji.store),i=t.store(qi.store),o=[],l=IDBKeyRange.only(n.batchId),s=0,a=r.rs({range:l},(function(t,e,n){return s++,n.delete()}));o.push(a.next((function(){_(1===s)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=qi.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return pr.$n(o).next((function(){return u}))}function Ti(t){return ao.Qn(t,ji.store)}function Si(t){return ao.Qn(t,qi.store)}function xi(t){return ao.Qn(t,Vi.store)}var Ai=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Ni(t).put(Pi(e),n)},t.prototype.Ar=function(t,e){var n=Ni(t),r=Pi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Ni(t).get(Pi(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Ni(t).get(Pi(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:Di(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=Ot(),i=new Et(A.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,Di(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Ni(t).rs({range:r},(function(t,e,r){for(var l=A.$(t);o&&A.i(o,l)<0;)n(o,null),o=i.It();o&&o.isEqual(l)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=Pt(),o=e.path.length+1,l={};if(n.isEqual(at.min())){var s=e.path.A();l.range=IDBKeyRange.lowerBound(s)}else{var a=e.path.A(),u=gi(n);l.range=IDBKeyRange.lowerBound([a,u],!0),l.index=zi.collectionReadTimeIndex}return Ni(t).rs(l,(function(t,n,l){if(t.length===o){var s=fi(r.serializer,n);e.path.T(s.key.path)?s instanceof kn&&$n(e,s)&&(i=i.ot(s.key,s)):l.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new ki(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Oi(t).get(Wi.key).next((function(t){return _(!!t),t}))},t.prototype.Jo=function(t,e){return Oi(t).put(Wi.key,e)},t.prototype.Xo=function(t){if(t){var e=fi(this.serializer,t);return e instanceof On&&e.version.isEqual(at.min())?null:e}return null},t}(),ki=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new lt((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new St((function(t,e){return X(t.R(),e.R())}));return this.wr.forEach((function(o,l){var s=e.ua.get(o);if(l){var a=pi(e.ca.serializer,l,e.readTime);i=i.add(o.path.h());var u=Di(a);r+=u-s,n.push(e.ca.Er(t,o,a))}else if(r-=s,e.oa){var c=pi(e.ca.serializer,new On(o,at.min()),e.readTime);n.push(e.ca.Er(t,o,c))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),pr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(Yr);function Oi(t){return ao.Qn(t,Wi.store)}function Ni(t){return ao.Qn(t,zi.store)}function Pi(t){return t.path.A()}function Di(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}var Ri=function(){function t(){this.ha=new Mi}return t.prototype.Mo=function(t,e){return this.ha.add(e),pr.resolve()},t.prototype.Qr=function(t,e){return pr.resolve(this.ha.getEntries(e))},t}(),Mi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new St(T.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new St(T.i)).A()},t}(),Li=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_(n<r&&n>=0&&r<=10);var o=new _r("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ui.store)}(t),function(t){t.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qi.store)}(t),Xi(t),function(t){t.createObjectStore(zi.store)}(t));var l=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ki.store),t.deleteObjectStore(Gi.store),t.deleteObjectStore($i.store)}(t),Xi(t)),l=l.next((function(){return function(t){var e=t.store($i.store),n=new $i(0,0,at.min().Z(),0);return e.put($i.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(l=l.next((function(){return function(t,e){return e.store(ji.store).ts().next((function(n){t.deleteObjectStore(ji.store),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0});var r=e.store(ji.store),i=n.map((function(t){return r.put(t)}));return pr.$n(i)}))}(t,o)}))),l=l.next((function(){!function(t){t.createObjectStore(Yi.store,{keyPath:Yi.keyPath})}(t)}))),n<5&&r>=5&&(l=l.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(l=l.next((function(){return function(t){t.createObjectStore(Wi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(l=l.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(l=l.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(l=l.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(zi.store);e.createIndex(zi.readTimeIndex,zi.readTimeIndexPath,{unique:!1}),e.createIndex(zi.collectionReadTimeIndex,zi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(l=l.next((function(){return i.rewriteCanonicalIds(o)}))),l},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(zi.store).rs((function(t,n){e+=Di(n)})).next((function(){var n=new Wi(e);return t.store(Wi.store).put(Wi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Vi.store),r=t.store(ji.store);return n.ts().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(ji.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){_(r.userId===n.userId);var i=_i(e.serializer,r);return Ii(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ki.store),n=t.store(zi.store);return t.store($i.store).get($i.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new T(n),l=function(t){return[0,ai(t)]}(o);r.push(e.get(l).next((function(n){return n?pr.resolve():function(n){return e.put(new Ki(0,ai(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Qi.store,{keyPath:Qi.keyPath});var n=e.store(Qi.store),r=new Mi,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ai(i)})}};return e.store(zi.store).rs({ss:!0},(function(t,e){var n=new T(t);return i(n.h())})).next((function(){return e.store(qi.store).rs({ss:!0},(function(t,e){var n=hi(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Gi.store);return n.rs((function(t,r){var i=bi(r),o=wi(e.serializer,i);return n.put(o)}))},t}(),Fi=function(t,e){this.seconds=t,this.nanoseconds=e},Ui=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ui.store="owner",Ui.key="owner";var Vi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vi.store="mutationQueues",Vi.keyPath="userId";var ji=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ji.store="mutations",ji.keyPath="batchId",ji.userMutationsIndex="userMutationsIndex",ji.userMutationsKeyPath=["userId","batchId"];var qi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ai(e)]},t.key=function(t,e,n){return[t,ai(e),n]},t}();qi.store="documentMutations",qi.PLACEHOLDER=new qi;var Bi=function(t,e){this.path=t,this.readTime=e},Hi=function(t,e){this.path=t,this.version=e},zi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zi.store="remoteDocuments",zi.readTimeIndex="readTimeIndex",zi.readTimeIndexPath="readTime",zi.collectionReadTimeIndex="collectionReadTimeIndex",zi.collectionReadTimeIndexPath=["parentPath","readTime"];var Wi=function(t){this.byteSize=t};Wi.store="remoteDocumentGlobal",Wi.key="remoteDocumentGlobalKey";var Gi=function(t,e,n,r,i,o,l){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=l};Gi.store="targets",Gi.keyPath="targetId",Gi.queryTargetsIndexName="queryTargetsIndex",Gi.queryTargetsKeyPath=["canonicalId","targetId"];var Ki=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];var $i=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$i.key="targetGlobalKey",$i.store="targetGlobal";var Qi=function(t,e){this.collectionId=t,this.parent=e};function Xi(t){t.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.queryTargetsIndexName,Gi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($i.store)}Qi.store="collectionParents",Qi.keyPath=["collectionId","parent"];var Yi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Yi.store="clientMetadata",Yi.keyPath="clientId";var Ji=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Vi.store,ji.store,qi.store,zi.store,Gi.store,Ui.store,$i.store,Ki.store],[Yi.store]),[Wi.store]),[Qi.store]),Zi=function(){function t(){this.la=new Mi}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:ai(i)};return to(t).put(o)}return pr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return to(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hi(o.parent))}return n}))},t}();function to(t){return ao.Qn(t,Qi.store)}var eo=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),no=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new eo(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return at.J(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return ro(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return _(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return ro(t).rs((function(l,s){var a=bi(s);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Va(t,a)))})).next((function(){return pr.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return ro(t).rs((function(t,n){var r=bi(n);e(r)}))},t.prototype.ma=function(t){return io(t).get($i.key).next((function(t){return _(null!==t),t}))},t.prototype.Ta=function(t,e){return io(t).put($i.key,e)},t.prototype.ga=function(t,e){return ro(t).put(wi(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ro(t).rs({range:r,index:Gi.queryTargetsIndexName},(function(t,n,r){var o=bi(n);gt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=oo(t);return e.forEach((function(e){var l=ai(e.path);i.push(o.put(new Ki(n,l))),i.push(r.No.Da(t,n,e))})),pr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=oo(t);return pr.forEach(e,(function(e){var o=ai(e.path);return pr.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=oo(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=oo(t),i=Mt();return r.rs({range:n,ss:!0},(function(t,e,n){var r=hi(t[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=ai(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return oo(t).rs({index:Ki.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return ro(t).get(e).next((function(t){return t?bi(t):null}))},t}();function ro(t){return ao.Qn(t,Gi.store)}function io(t){return ao.Qn(t,$i.store)}function oo(t){return ao.Qn(t,Ki.store)}var lo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",so=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}(Zr),ao=function(){function t(e,n,r,i,o,l,s,a,u,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=l,this.document=s,this.$a=u,this.ka=d,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ho(this,i),this.Wa=n+"main",this.serializer=new di(a),this.ja=new gr(this.Wa,10,new Li(this.serializer)),this.Ka=new no(this.No,this.serializer),this.Dr=new Zi,this.vr=function(t,e){return new Ai(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===d&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof so)return gr.Qn(t.jo,e);throw y()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,lo);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new Ur(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return co(e).put(new Yi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(yr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return uo(t).get(Ui.key).next((function(t){return pr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return co(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,Yi.store);return n.ts().next((function(t){var e=o.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return pr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?pr.resolve(!0):uo(t).get(Ui.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,lo);return!1}}return!(!e.networkEnabled||!e.inForeground)||co(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Ui.store,Yi.store],(function(e){var n=new so(e,Ur.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return co(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Ci.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ji,(function(o){return r=new so(o,i.Ma?i.Ma.next():Ur.ai),"readwrite-primary"===e?i.ec(r).next((function(t){return!!t||i.nc(r)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Qa(!1)})),new h(c.FAILED_PRECONDITION,Jr);return n(r)})).next((function(t){return i.ic(r).next((function(){return t}))})):i.Ac(r).next((function(){return n(r)}))})).then((function(t){return r.br(),t}))},t.prototype.Ac=function(t){var e=this;return uo(t).get(Ui.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(c.FAILED_PRECONDITION,lo)}))},t.prototype.ic=function(t){var e=new Ui(this.clientId,this.allowTabSynchronization,Date.now());return uo(t).put(Ui.key,e)},t.Ln=function(){return gr.Ln()},t.prototype.sc=function(t){var e=this,n=uo(t);return n.get(Ui.key).next((function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Ui.key)):pr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){g("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function uo(t){return ao.Qn(t,Ui.store)}function co(t){return ao.Qn(t,Yi.store)}var ho=function(){function t(t,e){this.db=t,this.wo=new si(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return fo(t,n)},t.prototype.Na=function(t,e,n){return fo(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return fo(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return xi(t).os((function(r){return Ei(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(l,s){if(s<=e){var a=n.Pc(t,l).next((function(e){if(!e)return o++,r.Rr(t,l).next((function(){return r.Ar(l),oo(t).delete([0,ai(l.path)])}))}));i.push(a)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return fo(t,e)},t.prototype.gc=function(t,e){var n,r=oo(t),i=Ur.ai;return r.rs({index:Ki.documentTargetsIndex},(function(t,r){var o=r.path,l=r.sequenceNumber;0===t[0]?(i!==Ur.ai&&e(new A(hi(n)),i),i=l,n=o):i=Ur.ai})).next((function(){i!==Ur.ai&&e(new A(hi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function fo(t,e){return oo(t).put(function(t,e){return new Ki(0,ai(t.path),e)}(e,t.xa))}function po(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var go=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new Et(X),this.vc=new lt((function(t){return pt(t)}),gt),this.Sc=at.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ti(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function mo(t,e){var n=b(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),l=pr.resolve();return o.forEach((function(t){l=l.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,l=n.dr.get(t);_(null!==l),(!o||o.version.L(l)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)}))})),l.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function vo(t){var e=b(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function yo(t,e){var n=b(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var l=[];e.zt.forEach((function(e,o){var s=i.get(o);if(s){l.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var a=e.resumeToken;if(a.O()>0){var u=s.it(a,r).st(t.xa);i=i.ot(o,u),function(t,e,n){return _(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,u,e)&&l.push(n.Ka.ya(t,u))}}}));var s=kt(),a=Mt();if(e.Yt.forEach((function(t,e){a=a.add(t)})),l.push(o.getEntries(t,a).next((function(i){e.Yt.forEach((function(a,u){var c=i.get(a);u instanceof On&&u.version.isEqual(at.min())?(o.Ar(a,r),s=s.ot(a,u)):null==c||u.version.L(c.version)>0||0===u.version.L(c.version)&&c.hasPendingWrites?(o.Er(u,r),s=s.ot(a,u)):p("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version),e.Jt.has(a)&&l.push(n.persistence.No.yc(t,a))}))}))),!r.isEqual(at.min())){var u=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));l.push(u)}return pr.$n(l).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,s)}))})).then((function(t){return n.bc=i,t}))}function _o(t,e){var n=b(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function bo(t,e){var n=b(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?pr.resolve(r=i):n.Ka.wa(t).next((function(i){return r=new _t(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=b(t),o=i.bc.get(e),l=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",l,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!yr(s=r.sent()))throw s;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}}))}))}function Co(t,e,n){var r=b(t),i=at.min(),o=Mt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=b(t),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,qn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:at.min(),n?o:Mt())})).next((function(t){return{documents:t,Fc:o}}))}))}function Eo(t,e){var n=b(t),r=b(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Io(t){var e=b(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=b(t),i=kt(),o=gi(n),l=Ni(e),s=IDBKeyRange.lowerBound(o,!0);return l.rs({index:zi.readTimeIndex,range:s},(function(t,e){var n=fi(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{xc:i,readTime:mi(o)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc;return e.Sc=t.readTime,n}))}function To(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return[2,(e=b(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ni(t),n=at.min();return e.rs({index:zi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=mi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function So(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==c.FAILED_PRECONDITION||t.message!==Jr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var xo=function(){function t(){this.$c=new St(Ao.kc),this.Mc=new St(Ao.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new Ao(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new Ao(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new A(new T([])),r=new Ao(n,t),i=new Ao(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new A(new T([])),n=new Ao(e,t),r=new Ao(e,t+1),i=Mt();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new Ao(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),Ao=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return A.i(t.key,e.key)||X(t.jc,e.jc)},t.Oc=function(t,e){return X(t.jc,e.jc)||A.i(t.key,e.key)},t}(),ko=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Oo=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(Fr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),No=function(){function t(t){var e=this;this.Jc=null,this.currentUser=Fr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_("string"==typeof n.accessToken),new ko(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t),new Fr(t)},t}(),Po=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=Fr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Do=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Po(this.eu,this.nu))},t.prototype.Hc=function(t){t(Fr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Ro=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new fr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===c.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===c.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new h(c.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mo=function(t){function e(e,n,r,i,o){var l=this;return(l=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,l}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(_(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(_(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,s=l&&function(t){var e=void 0===t.code?c.UNKNOWN:Ct(t.code);return new h(e,t.message||"")}(l);n=new Wt(r,i,o,s||null)}else if("documentChange"in e){var a=e.documentChange,u=xe(t,a.document.name),d=Ee(a.document.updateTime),f=new Tn({mapValue:{fields:a.document.fields}}),p=new kn(u,d,f,{});n=new Ht(a.targetIds||[],a.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var g=e.documentDelete,m=xe(t,g.document),v=g.readTime?Ee(g.readTime):at.min(),b=new On(m,v);n=new Ht([],g.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){var w=e.documentRemove,C=xe(t,w.document);n=new Ht([],w.removedTargetIds||[],C,null)}else{if(!("filter"in e))return y();var E=e.filter,I=new bt(E.count||0);n=new zt(E.targetId,I)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return at.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?at.min():e.readTime?Ee(e.readTime):at.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=Oe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=mt(r)?{documents:Me(t,r)}:{query:Le(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=we(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=Oe(this.serializer),e.removeTarget=t,this.du(e)},e}(Ro),Lo=function(t){function e(e,n,r,i,o){var l=this;return(l=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,l.bu=!1,l}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(_(void 0!==e),t.map((function(t){return function(t,e){var n=Ee(t.updateTime?t.updateTime:e);n.isEqual(at.min())&&(n=Ee(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new an(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ee(t.commitTime);return this.listener.Du(n,e)}return _(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=Oe(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return De(e.serializer,t)}))};this.du(n)},e}(Ro),Fo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===c.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===c.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Uo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(g(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),Vo=function(t,e,n,i,o){var l=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(t){n.ws((function(){return r.__awaiter(l,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Qo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=b(t)).Yu.add(4),[4,qo(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,jo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Uo(n,i)};function jo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Qo(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function qo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bo(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=b(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,qo(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Ho(t,e){var n=b(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),$o(n)?Ko(n):cl(n).uu()&&Wo(n,e))}function zo(t,e){var n=b(t),r=cl(n);n.Hu.delete(e),r.uu()&&Go(n,e),0===n.Hu.size&&(r.uu()?r._u():Qo(n)&&n.th.set("Unknown"))}function Wo(t,e){t.eh.Ie(e.targetId),cl(t).Vu(e)}function Go(t,e){t.eh.Ie(e),cl(t).pu(e)}function Ko(t){t.eh=new Kt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),cl(t).start(),t.th.Bu()}function $o(t){return Qo(t)&&!cl(t).cu()&&t.Hu.size>0}function Qo(t){return 0===b(t).Yu.size}function Xo(t){t.eh=void 0}function Yo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Hu.forEach((function(e,n){Wo(t,e)})),[2]}))}))}function Jo(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Xo(t),$o(t)?(t.th.Qu(e),Ko(t)):t.th.set("Unknown"),[2]}))}))}function Zo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l;return r.__generator(this,(function(s){switch(s.label){case 0:if(t.th.set("Online"),!(e instanceof Wt&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Hu.has(l=o[i])?[4,t.Gu.nh(l,n)]:[3,3]:[3,5];case 2:r.sent(),t.Hu.delete(l),t.eh.removeTarget(l),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,tl(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ht?t.eh.be(e):e instanceof zt?t.eh.$e(e):t.eh.De(e),n.isEqual(at.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,vo(t.ju)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(Z.B,n.nt)),Go(t,e);var r=new _t(n.target,e,1,n.sequenceNumber);Wo(t,r)}})),t.Gu.sh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",l=s.sent()),[4,tl(t,l)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function tl(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!yr(e))throw e;return t.Yu.add(1),[4,qo(t)];case 1:return o.sent(),t.th.set("Offline"),n||(n=function(){return vo(t.ju)}),t.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,jo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function el(t,e){return e().catch((function(n){return tl(t,n,e)}))}function nl(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,l;return r.__generator(this,(function(r){switch(r.label){case 0:e=b(t),n=hl(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Qo(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,_o(e.ju,i)];case 3:return null===(o=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=hl(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return l=r.sent(),[4,tl(e,l)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return rl(e)&&il(e),[2]}}))}))}function rl(t){return Qo(t)&&!hl(t).cu()&&t.zu.length>0}function il(t){hl(t).start()}function ol(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return hl(t).Nu(),[2]}))}))}function ll(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=hl(t),n=0,i=t.zu;n<i.length;n++)e.Su(i[n].mutations);return[2]}))}))}function sl(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.zu.shift(),o=Xr.from(i,e,n),[4,el(t,(function(){return t.Gu.ih(o)}))];case 1:return r.sent(),[4,nl(t)];case 2:return r.sent(),[2]}}))}))}function al(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&hl(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return wt(i=e.code)&&i!==c.ABORTED?(n=t.zu.shift(),hl(t).lu(),[4,el(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,nl(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return rl(t)&&il(t),[2]}}))}))}function ul(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),e?(n.Yu.delete(2),[4,jo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,qo(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function cl(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=b(t);return r.xu(),new Mo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:Yo.bind(null,t),Tu:Jo.bind(null,t),yu:Zo.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.oh.lu(),$o(t)?Ko(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),Xo(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function hl(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=b(t);return r.xu(),new Lo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:ol.bind(null,t),Tu:al.bind(null,t),Cu:ll.bind(null,t),Du:sl.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,nl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah}var dl=function(t){this.key=t},fl=function(t){this.key=t},pl=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Mt(),this.Wt=Mt(),this._h=Qn(t),this.fh=new Ut(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Vt,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,l=i,s=!1,a=Mn(this.query)&&i.size===this.query.limit?i.last():null,u=Ln(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var c=i.get(t),h=e instanceof kn?e:null;h&&(h=$n(n.query,h)?h:null);var d=!!c&&n.Wt.has(c.key),f=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Th(c,h)||(r.track({type:2,doc:h}),p=!0,(a&&n._h(h,a)>0||u&&n._h(h,u)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(a||u)&&(s=!0)),p&&(h?(l=l.add(h),o=f?o.add(t):o.delete(t)):(l=l.delete(t),o=o.delete(t)))})),Mn(this.query)||Ln(this.query))for(;l.size>this.query.limit;){var c=Mn(this.query)?l.last():l.first();l=l.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fh:l,mh:r,Eh:s,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var l=e?this.Ah():[],s=0===this.lh.size&&this.te?1:0,a=s!==this.hh;return this.hh=s,0!==o.length||a?{snapshot:new jt(this.query,t.fh,i,o,t.Wt,0===s,a,!1),Rh:l}:{Rh:l}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Vt,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Mt(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new fl(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new dl(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Mt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return jt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),gl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ml=function(t){this.key=t,this.Vh=!1},vl=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new lt((function(t){return Gn(t)}),Wn),this.Fh=new Map,this.xh=[],this.$h=new Et(A.i),this.kh=new Map,this.Mh=new xo,this.Oh={},this.Lh=new Map,this.Bh=eo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function yl(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=zl(t),(o=n.Nh.get(e))?(n.Sh.Oi(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,bo(n.ju,qn(e))];case 2:return l=r.sent(),s=n.Sh.Oi(l.targetId),[4,_l(n,e,l.targetId,"current"===s)];case 3:i=r.sent(),n.Uh&&Ho(n.ph,l),r.label=4;case 4:return[2,i]}}))}))}function _l(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,l,s,a,u,c;return r.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,l,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Eh?[4,Co(t.ju,e.query,!1).then((function(t){return e.view.wh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return l=i&&i.zt.get(e.targetId),s=e.view.yr(o,t.Uh,l),[2,(Ol(t,e.targetId,s.Rh),s.snapshot)]}}))}))}(t,e,n,i)},[4,Co(t.ju,e,!0)];case 1:return o=h.sent(),l=new pl(e,o.Fc),s=l.wh(o.documents),a=Bt.Zt(n,i&&"Offline"!==t.onlineState),u=l.yr(s,t.Uh,a),Ol(t,n,u.Rh),c=new gl(e,n,l),[2,(t.Nh.set(e,c),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),u.snapshot)]}}))}))}function bl(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=n.Nh.get(e),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(t){return!Wn(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,wo(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),zo(n.ph,i.targetId),Al(n,i.targetId)})).catch(So)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Al(n,i.targetId),[4,wo(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function wl(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,yo(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(_(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?_(r.Vh):t.se.size>0&&(_(r.Vh),r.Vh=!1))})),[4,Dl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,So(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Cl(t,e,n){var r=b(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=b(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&Mr(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function El(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=b(t)).Sh.Qi(e,"rejected",n),o=i.kh.get(e),(l=o&&o.key)?(s=(s=new Et(A.i)).ot(l,new On(l,at.min())),a=Mt().add(l),u=new qt(at.min(),new Map,new St(X),s,a),[4,wl(i,u)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(l),i.kh.delete(e),Pl(i),[3,4];case 2:return[4,wo(i.ju,e,!1).then((function(){return Al(i,e,n)})).catch(So)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Il(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,mo(n.ju,e)];case 2:return o=r.sent(),xl(n,i,null),Sl(n,i),n.Sh.ki(i,"acknowledged"),[4,Dl(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,So(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Tl(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=b(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=b(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return _(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return o=r.sent(),xl(i,e,n),Sl(i,e),i.Sh.ki(e,"rejected",n),[4,Dl(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,So(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Sl(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function xl(t,e,n){var r=b(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function Al(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||kl(t,e)}))}function kl(t,e){var n=t.$h.get(e);null!==n&&(zo(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),Pl(t))}function Ol(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof dl?(t.Mh.Da(o.key,e),Nl(t,o)):o instanceof fl?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||kl(t,o.key)):y()}}function Nl(t,e){var n=e.key;t.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),Pl(t))}function Pl(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new ml(e)),t.$h=t.$h.ot(e,n),Ho(t.ph,new _t(qn(Rn(e.path)),n,2,Ur.ai))}}function Dl(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l,s;return r.__generator(this,(function(a){switch(a.label){case 0:return i=b(t),o=[],l=[],s=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,r){s.push(i.Qh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ei.zr(r.targetId,t);l.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),i.Ch.yu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return pr.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!yr(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,l=e;o<l.length;o++)a=(s=l[o]).targetId,s.fromCache||(u=n.bc.get(a),c=u.rt(u.nt),n.bc=n.bc.ot(a,c));return[2]}}))}))}(i.ju,l)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Rl(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=b(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(l){return r=l,i=n.persistence.mc(e),o=new ti(n.Dc,i,n.persistence.Ic()),i.Uo(t)})).next((function(e){for(var n=[],i=[],l=Mt(),s=0,a=r;s<a.length;s++){var u=a[s];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)l=l.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)l=l.add(m[g].key)}return o.kr(t,l).next((function(t){return{jh:t,Kh:n,Gh:i}}))}))}))];case 1:return l=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),l)]}}))}))}(n.ju,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new h(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,Dl(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Ml(t,e){var n=b(t),r=n.kh.get(e);if(r&&r.Vh)return Mt().add(r.key);var i=Mt(),o=n.Fh.get(e);if(!o)return i;for(var l=0,s=o;l<s.length;l++){var a=n.Nh.get(s[l]);i=i.kt(a.view.dh)}return i}function Ll(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Co((n=b(t)).ju,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ph(i),[2,(n.Uh&&Ol(n,e.targetId,o.Rh),o)]}}))}))}function Fl(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=b(t),r=b(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):pr.resolve(null)}))}))}((o=b(t)).ju,e)];case 1:return null===(l=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,nl(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(xl(o,e,i||null),Sl(o,e),function(t,e){b(b(t).Sr).Ko(e)}(o.ju,e)):y(),r.label=4;case 4:return[4,Dl(o,l)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Ul(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return zl(n=b(t)),Wl(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Vl(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,ul(n.ph,!0)];case 2:for(r.sent(),l=0,s=o;l<s.length;l++)Ho(n.ph,s[l]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(a=[],u=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?a.push(e):u=u.then((function(){return Al(n,e),wo(n.ju,e,!0)})),zo(n.ph,e)})),[4,u]);case 4:return r.sent(),[4,Vl(n,a)];case 5:return r.sent(),function(t){var e=b(t);e.kh.forEach((function(t,n){zo(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new Et(A.i)}(n),n.qh=!1,[4,ul(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Vl(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s,a,u,c,h,d,f,p,g;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),i=[],o=[],l=0,s=e,r.label=1;case 1:return l<s.length?(u=void 0,(c=n.Fh.get(a=s[l]))&&0!==c.length?[4,bo(n.ju,qn(c[0]))]:[3,7]):[3,13];case 2:u=r.sent(),h=0,d=c,r.label=3;case 3:return h<d.length?(f=n.Nh.get(d[h]),[4,Ll(n,f)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Eo(n.ju,a)];case 8:return g=r.sent(),[4,bo(n.ju,g)];case 9:return u=r.sent(),[4,_l(n,jl(g),a,!1)];case 10:r.sent(),r.label=11;case 11:i.push(u),r.label=12;case 12:return l++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function jl(t){return Dn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ql(t){var e=b(t);return b(b(e.ju).persistence).pi()}function Bl(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,l,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=b(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Io(o.ju)];case 3:return l=r.sent(),s=qt.Xt(e,"current"===n),[4,Dl(o,l,s)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.ju,e,!0)];case 6:return r.sent(),Al(o,e,i),[3,8];case 7:y(),r.label=8;case 8:return[2]}}))}))}function Hl(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l,s,a,u,c,h,d;return r.__generator(this,(function(f){switch(f.label){case 0:if(!(i=zl(t)).qh)return[3,10];o=0,l=e,f.label=1;case 1:return o<l.length?i.Fh.has(s=l[o])?(p("SyncEngine","Adding an already active target "+s),[3,5]):[4,Eo(i.ju,s)]:[3,6];case 2:return a=f.sent(),[4,bo(i.ju,a)];case 3:return u=f.sent(),[4,_l(i,jl(a),u.targetId,!1)];case 4:f.sent(),Ho(i.ph,u),f.label=5;case 5:return o++,[3,1];case 6:c=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,wo(i.ju,t,!1).then((function(){zo(i.ph,t),Al(i,t)})).catch(So)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,f.label=7;case 7:return h<d.length?[5,c(d[h])]:[3,10];case 8:f.sent(),f.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function zl(t){var e=b(t);return e.ph.Gu.sh=wl.bind(null,e),e.ph.Gu.qe=Ml.bind(null,e),e.ph.Gu.nh=El.bind(null,e),e.Ch.yu=Dr.bind(null,e.bh),e.Ch.Wh=Rr.bind(null,e.bh),e}function Wl(t){var e=b(t);return e.ph.Gu.ih=Il.bind(null,e),e.ph.Gu.rh=Tl.bind(null,e),e}var Gl=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(at.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(l){var s=i.Yh(e,l);return(Mn(e)||Ln(e))&&i.Eh(e.an,s,r,n)?i.Hh(t,e):(f()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kn(e)),i.zh.Lr(t,e,n).next((function(t){return s.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new St(Qn(t));return e.forEach((function(e,r){r instanceof kn&&$n(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return f()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Kn(e)),this.zh.Lr(t,e,at.min())},t}(),Kl=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new St(Ao.kc)}return t.prototype.$o=function(t){return pr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++;var o=new Qr(i,e,n,r);this.Sr.push(o);for(var l=0,s=r;l<s.length;l++){var a=s[l];this.Xh=this.Xh.add(new Ao(a.key,i)),this.Dr.Mo(t,a.key.path.h())}return pr.resolve(o)},t.prototype.Oo=function(t,e){return pr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return pr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new Ao(e,0),i=new Ao(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),pr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new St(X);return e.forEach((function(t){var e=new Ao(t,0),i=new Ao(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),pr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new Ao(new A(i),0),l=new St(X);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(l=l.add(t.jc)),!0)}),o),pr.resolve(this.el(l))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;_(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(e.mutations,(function(i){var o=new Ao(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new Ao(e,0),r=this.Xh.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return pr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),$l=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new Et(A.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,l=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:l,readTime:n}),this.size+=l-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),pr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=Pt(),i=new A(e.path.child("")),o=this.docs.ft(i);o.At();){var l=o.It(),s=l.value,a=s.ta,u=s.readTime;if(!e.path.T(l.key.path))break;u.L(n)<=0||a instanceof kn&&$n(e,a)&&(r=r.ot(a.key,a))}return pr.resolve(r)},t.prototype.il=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Ql(this)},t.prototype.aa=function(t){return pr.resolve(this.size)},t}(),Ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),pr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(Yr),Xl=function(){function t(t){this.persistence=t,this.rl=new lt((function(t){return pt(t)}),gt),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.ol=0,this.al=new xo,this.targetCount=0,this.cl=eo.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.Ea=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return pr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),pr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new eo(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,pr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),pr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(l,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.rl.delete(l),o.push(r.pa(t,s.targetId)),i++)})),pr.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return pr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return pr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),pr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),pr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),pr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return pr.resolve(n)},t.prototype.Ho=function(t,e){return pr.resolve(this.al.Ho(e))},t}(),Yl=function(){function t(t){var e=this;this.ul={},this.Ma=new Ur(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Xl(this),this.Dr=new Ri,this.vr=function(t,n){return new $l(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Kl(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Jl(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return pr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),Jl=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}(Zr),Zl=function(){function t(t){this.persistence=t,this.dl=new xo,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw y()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),pr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),pr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,(function(r){var i=A.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),ts=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),es={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ns=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var l=new s.XhrIo;l.listenOnce(s.EventType.COMPLETE,(function(){try{switch(l.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=l.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case s.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new h(c.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=l.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",l.getResponseText()),n>0){var r=l.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(c).indexOf(e)>=0?e:c.UNKNOWN}(r.status);o(new h(a,r.message))}else o(new h(c.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new h(c.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);l.send(e,"POST",a,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),l.isMobileCordova()||l.isReactNative()||l.isElectron()||l.isIE()||l.isUWP()||l.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var a=r.createWebChannel(o,i),u=!1,d=!1,f=new ts({Il:function(t){d?p("Connection","Not sending because WebChannel is closed:",t):(u||(p("Connection","Opening WebChannel transport."),a.open(),u=!0),p("Connection","WebChannel sending:",t),a.send(t))},Al:function(){return a.close()}}),g=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return g(s.WebChannel.EventType.OPEN,(function(){d||p("Connection","WebChannel transport opened.")})),g(s.WebChannel.EventType.CLOSE,(function(){d||(d=!0,p("Connection","WebChannel transport closed"),f.Vl())})),g(s.WebChannel.EventType.ERROR,(function(t){d||(d=!0,m("Connection","WebChannel transport errored:",t),f.Vl(new h(c.UNAVAILABLE,"The operation could not be completed")))})),g(s.WebChannel.EventType.MESSAGE,(function(t){var e;if(!d){var n=t.data[0];_(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=vt[t];if(void 0!==e)return Ct(e)}(i),l=r.message;void 0===o&&(o=c.INTERNAL,l="Unknown error status: "+i+" with message "+r.message),d=!0,f.Vl(new h(o,l)),a.close()}else p("Connection","WebChannel received:",n),f.pl(n)}})),setTimeout((function(){f.yl()}),0),f},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw m("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+es[t]},t}()),rs=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),is=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function os(t){return new me(t,!0)}var ls="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ss=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Gl,new go(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(c.FAILED_PRECONDITION,ls);return new Yl(Zl.ml)},t.prototype.Ll=function(t){return new $r},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(c.FAILED_PRECONDITION,ls)},t}(),as=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Kr?(this.Sh.fi={er:Fl.bind(null,n),nr:Bl.bind(null,n),sr:Hl.bind(null,n),pi:ql.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Ul(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Ir();if(!Kr.Ln(e))throw new h(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=po(t.bl.U,t.bl.persistenceKey);return new Kr(e,t.cs,n,t.clientId,t.Wl)}return new $r},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,To(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Wl(this.Kl.fi)];case 4:return n.sent(),[4,nl(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){return new li(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=po(t.bl.U,t.bl.persistenceKey),n=os(t.bl.U);return new ao(t.persistenceSettings.synchronizeTabs,e,t.clientId,oi.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Ir(),Tr(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new $r},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return gr.Ln()?[4,gr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(po(t,e))},e}(ss)),us=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return Cl(n.fi,t,1)},this.ph.Gu.Jl=Rl.bind(null,this.fi),[4,ul(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new Or},t.prototype.Gl=function(t){var e=os(t.bl.U),n=new ns(t.bl);return function(t,e,n){return new Fo(t,e,n)}(t.credentials,n,e)},t.prototype.zl=function(t){var e,n,r,i,o,l=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return Cl(l.fi,t,0)},o=rs.Ln()?new rs:new is,new Vo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,l){var s=new vl(t,e,n,r,i,o);return l&&(s.qh=!0),s}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Bo(this.ph)},t}(),cs=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),hs=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(c.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(D("FieldPath","string",e,t[e]),0===t[e].length)throw new h(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new x(t)},ds=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(x.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(hs),fs=new RegExp("[~\\*/\\[\\]]"),ps=function(t){this.e_=t},gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ps);function ms(t,e,n){return new As({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new sn(t.path,new Ye)},e.prototype.isEqual=function(t){return t instanceof e},e}(ps),ys=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ms(this,t,!0),n=this.a_.map((function(t){return Rs(t,e)})),r=new Je(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ps),_s=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ms(this,t,!0),n=this.a_.map((function(t){return Rs(t,e)})),r=new tn(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ps),bs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new nn(t.serializer,_e(t.serializer,this.c_));return new sn(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ps),ws=function(){function t(t,e){if(O("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return X(this.u_,t.u_)||X(this.h_,t.h_)},t}(),Cs=function(t){this.l_=t},Es=/^__.*__$/,Is=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Ts=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new yn(t,this.data,this.We,e):new vn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new bn(t,this.fieldTransforms)),n},t}(),Ss=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new yn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new bn(t,this.fieldTransforms)),n},t}();function xs(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var As=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return js(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(xs(this.s_)&&Es.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),ks=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||os(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new As({s_:t,methodName:e,r_:n,path:x.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Os(t,e,n,r,i,o){void 0===o&&(o={});var l=t.P_(o.merge||o.mergeFields?2:0,e,n,i);Fs("Data must be an object, but it was:",l,r);var s,a,u=Ms(r,l);if(o.merge)s=new ln(l.We),a=l.fieldTransforms;else if(o.mergeFields){for(var d=[],f=0,p=o.mergeFields;f<p.length;f++){var g=p[f],m=void 0;if(g instanceof hs)m=g.t_;else{if("string"!=typeof g)throw y();m=Vs(e,g,n)}if(!l.contains(m))throw new h(c.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");qs(d,m)||d.push(m)}s=new ln(d),a=l.fieldTransforms.filter((function(t){return s.Ye(t.field)}))}else s=null,a=l.fieldTransforms;return new Ts(new Tn(u),s,a)}function Ns(t,e,n,r){var i=t.P_(1,e,n);Fs("Data must be an object, but it was:",i,r);var o=[],l=new Sn;C(r,(function(t,r){var s=Vs(e,t,n),a=i.A_(s);if(r instanceof gs||r instanceof Cs&&r.l_ instanceof gs)o.push(s);else{var u=Rs(r,a);null!=u&&(o.push(s),l.set(s,u))}}));var s=new ln(o);return new Ss(l.Xe(),s,i.fieldTransforms)}function Ps(t,e,n,r,i,o){var l=t.P_(1,e,n),s=[Us(e,r,n)],a=[i];if(o.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)s.push(Us(e,o[u])),a.push(o[u+1]);for(var d=[],f=new Sn,p=s.length-1;p>=0;--p)if(!qs(d,s[p])){var g=s[p],m=a[p],v=l.A_(g);if(m instanceof gs||m instanceof Cs&&m.l_ instanceof gs)d.push(g);else{var y=Rs(m,v);null!=y&&(d.push(g),f.set(g,y))}}var _=new ln(d);return new Ss(f.Xe(),_,l.fieldTransforms)}function Ds(t,e,n,r){return void 0===r&&(r=!1),Rs(n,t.P_(r?4:3,e))}function Rs(t,e){if(t instanceof Cs&&(t=t.l_),Ls(t))return Fs("Unsupported field value:",e,t),Ms(t,e);if(t instanceof ps)return function(t,e){if(!xs(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var l=Rs(o[i],e.R_(r));null==l&&(l={nullValue:"NULL_VALUE"}),n.push(l),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _e(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=st.fromDate(t);return{timestampValue:be(e.serializer,n)}}if(t instanceof st){var r=new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:be(e.serializer,r)}}if(t instanceof ws)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof Is){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ie(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+q(t))}(t,e)}function Ms(t,e){var n={};return E(t)?e.path&&e.path.length>0&&e.We.push(e.path):C(t,(function(t,r){var i=Rs(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ls(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof ws||t instanceof tt||t instanceof Is||t instanceof ps)}function Fs(t,e,n){if(!Ls(n)||!j(n)){var r=q(n);throw e.i_("an object"===r?t+" a custom object":t+" "+r)}}function Us(t,e,n){if(e instanceof hs)return e.t_;if("string"==typeof e)return Vs(t,e);throw js("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Vs(t,e,n){try{return function(t){if(t.search(fs)>=0)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ds.bind.apply(ds,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw js((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function js(t,e,n,r,i){var o=r&&!r.m(),l=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var a="";return(o||l)&&(a+=" (found",o&&(a+=" in field "+r),l&&(a+=" in document "+i),a+=")"),new h(c.INVALID_ARGUMENT,(s+=". ")+t+a)}function qs(t,e){return t.some((function(t){return t.isEqual(e)}))}var Bs=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=Oe(n.serializer)+"/documents",o={documents:e.map((function(t){return Se(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return l=r.sent(),s=new Map,l.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){_(!!e.found);var n=xe(t,e.found.name),r=Ee(e.found.updateTime),i=new Tn({mapValue:{fields:e.found.fields}});return new kn(n,r,i,{})}(t,e):"missing"in e?function(t,e){_(!!e.missing),_(!!e.readTime);var n=xe(t,e.missing),r=Ee(e.readTime);return new On(n,r)}(t,e):y()}(n.serializer,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());_(!!e),a.push(e)})),a)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof On||t instanceof kn?n.D_(t):y()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new En(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=A.D(n);e.mutations.push(new In(r,e.Ge(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=Oe(n.serializer)+"/documents",o={writes:e.map((function(t){return De(n.serializer,t)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof kn)e=t.version;else{if(!(t instanceof On))throw y();e=at.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(c.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?un.updateTime(e):un.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(at.min()))throw new h(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(e)}return un.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Hs=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new fr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Bs(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ut(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),zs=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=Q.k(),this.O_=new dr}return t.prototype.start=function(t,e,n,i){var o=this;this.L_(),this.bl=t;var l=new dr,s=!1;return this.credentials.Hc((function(t){if(!s)return s=!0,p("FirestoreClient","Initializing. user=",t.uid),o.B_(e,n,i,t,l).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=b(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=Qo(n),n.Yu.add(3),[4,qo(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,jo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,t)}))})),this.cs.ws((function(){return o.O_.promise})),l.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=b(t);return e.Yu.delete(0),jo(e)}(t.ph)}))},t.prototype.B_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var l,s,a=this;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.initialize(l={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return u.sent(),[4,e.initialize(t,l)];case 2:return u.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=yl.bind(null,this.fi),this.q_.js=bl.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=u.sent(),o.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new ss,new us,{jl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===c.FAILED_PRECONDITION||t.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=b(t)).Yu.add(0),[4,qo(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new dr;return this.cs.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Bo(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Ar(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new dr;return this.cs.ws((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,l,s;return r.__generator(this,(function(r){switch(r.label){case 0:Qo((n=b(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=b(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return l=r.sent(),s=Ar(l,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new cs(n),o=new Lr(t,i,e);return this.cs.ws((function(){return Nr(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Pr(r.q_,o)}))}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new dr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=b(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof kn?n.resolve(i):i instanceof On?n.resolve(null):n.reject(new h(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),l=Ar(o,"Failed to get document '"+e+" from cache"),n.reject(l),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new dr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new cs({next:function(o){e.ws((function(){return Pr(t,l)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new h(c.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),l=new Lr(Rn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Nr(t,l)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new dr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Co(t,e,!0)];case 1:return i=r.sent(),o=new pl(e,i.Fc),l=o.wh(i.documents),s=o.yr(l,!1),n.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=Ar(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new dr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new cs({next:function(n){e.ws((function(){return Pr(t,l)})),n.fromCache&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),l=new Lr(n,o,{includeMetadataChanges:!0,Xs:!0});return Nr(t,l)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new dr;return this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,l,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=Wl(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=b(t),i=st.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Mt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,o).next((function(o){n=o;for(var l=[],s=0,a=e;s<a.length;s++){var u=a[s],c=pn(u,n.get(u.key));null!=c&&l.push(new yn(u.key,c,xn(c.proto.mapValue),un.exists(!0)))}return r.Sr.ko(t,i,l,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new Et(X)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,n),[4,Dl(i,o.wr)];case 3:return r.sent(),[4,nl(i.ph)];case 4:return r.sent(),[3,6];case 5:return l=r.sent(),s=Ar(l,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new cs(t);return this.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){b(t).qs.add(e),e.next()}(this.q_,n)]}))}))})),function(){n.Zl(),e.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){b(t).qs.delete(e)}(this.q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new dr;return this.cs.ws((function(){return new Hs(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();function Ws(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Gs=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(Zt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return le(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(se(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw y()}},t.prototype.if=function(t){var e=this,n={};return C(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new ws(le(t.latitude),le(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Xt(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Yt(t));default:return null}},t.prototype.Z_=function(t){var e=oe(t),n=new st(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=T.g(t);_(Ge(e));var n=new ot(e.get(1),e.get(3)),r=new A(e.u(5));return n.isEqual(this.U)||g("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Ks=oi.ho,$s=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new h(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(H("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),L("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?g("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&g("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=oi._o;else{if(t.cacheSizeBytes!==Ks&&t.cacheSizeBytes<oi.lo)throw new h(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.lo);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,L("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new h(c.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Qs=function(){function t(e,n,i,o){var l=this;if(void 0===i&&(i=new ss),void 0===o&&(o=new us),this.rf=i,this.af=o,this.cf=null,this.uf=new xr,this.INTERNAL={delete:function(){return r.__awaiter(l,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.cf=s,this.__=t._f(s),this.ff=s.name,this.df=new No(n)}else{var a=e;if(!a.projectId)throw new h(c.INVALID_ARGUMENT,"Must provide projectId");this.__=new ot(a.projectId,a.database),this.ff="[DEFAULT]",this.df=new Oo}this.wf=new $s({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new ks(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){O("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new $s(t);if(this.lf&&!this.wf.isEqual(e))throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Oo;switch(t.type){case"gapi":var e=t.client;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Do(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(c.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new dr,[2,(this.uf.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),Ws(t)?this.lf.G_(t):(D("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new ss,new us,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new zs(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(c.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),this.hf(),new ca(T.g(t),this,null)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),this.hf(),Js.Rf(T.g(t),this,null)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new aa(function(t){return new Pn(T.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new Xs(e,n))}))},t.prototype.batch=function(){return this.hf(),new Ys(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){O("Firestore.setLogLevel",arguments,1),U("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),d.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Xs=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=pa("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return y();var r=t[0];if(r instanceof On)return new ta(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof kn)return new ta(e.yf,n.f_,r,!1,!1,n.d_);throw y()}))},t.prototype.set=function(t,e,n){P("Transaction.set",arguments,2,3);var r=pa("Transaction.set",t,this.yf);n=ha("Transaction.set",n);var i=ma(r.d_,e,n),o=Os(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];return"string"==typeof e||e instanceof ds?(N("Transaction.update",arguments,3),r=pa("Transaction.update",t,this.yf),i=Ps(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(O("Transaction.update",arguments,2),r=pa("Transaction.update",t,this.yf),i=Ns(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=pa("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),Ys=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){P("WriteBatch.set",arguments,2,3),this.vf();var r=pa("WriteBatch.set",t,this.yf);n=ha("WriteBatch.set",n);var i=ma(r.d_,e,n),o=Os(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,un.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];return this.vf(),"string"==typeof e||e instanceof ds?(N("WriteBatch.update",arguments,3),r=pa("WriteBatch.update",t,this.yf),i=Ps(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(O("WriteBatch.update",arguments,2),r=pa("WriteBatch.update",t,this.yf),i=Ns(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,un.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.vf();var e=pa("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new En(e.f_,un.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new A(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ca(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new h(c.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=T.g(t);return new ca(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){P("DocumentReference.set",arguments,1,2),e=ha("DocumentReference.set",e);var n=ma(this.d_,t,e),r=Os(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,un.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ds?(N("DocumentReference.update",arguments,2),n=Ps(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(O("DocumentReference.update",arguments,1),n=Ns(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,un.exists(!0)))},e.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.lf.write([new En(this.f_,un.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("DocumentReference.onSnapshot",arguments,1,4);var l={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Ws(i[s])||(H("DocumentReference.onSnapshot",l=i[s],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",l.includeMetadataChanges),s++);var a={includeMetadataChanges:l.includeMetadataChanges};if(Ws(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else D("DocumentReference.onSnapshot","function",s,i[s]),R("DocumentReference.onSnapshot","function",s+1,i[s+1]),R("DocumentReference.onSnapshot","function",s+2,i[s+2]);var c={next:function(t){i[s]&&i[s](r.Sf(t))},error:i[s+1],complete:i[s+2]};return this.lf.listen(Rn(this.f_.path),a,c)},e.prototype.get=function(t){var e=this;P("DocumentReference.get",arguments,0,1),fa("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new ta(e.firestore,e.f_,t,!0,t instanceof kn&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new ta(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(Is),Zs=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ta=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(P("DocumentSnapshot.data",arguments,0,1),t=da("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new ea(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Gs(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new Js(t,e.yf,null)}),(function(t){return new rt(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(P("DocumentSnapshot.get",arguments,1,2),e=da("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Us("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Gs(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new Js(t,n.yf,n.d_)}),(function(t){return new rt(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Js(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Zs(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(ta);function na(t,e,n,r,i,o,l){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){oa(l,o);for(var a=[],u=0,d=l;u<d.length;u++)a.push(ia(r,t,d[u]));s={arrayValue:{values:a}}}else s=ia(r,t,l)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||oa(l,o),s=Ds(n,e,l,"in"===o||"not-in"===o);var f=Xn.create(i,o,s);return function(t,e){if(e.hn()){var n=Un(t);if(null!==n&&!n.isEqual(e.field))throw new h(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Fn(t);null!==r&&la(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new h(c.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}function ra(t,e,n){if(null!==t.startAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ur(e,n);return function(t,e){if(null===Fn(t)){var n=Un(t);null!==n&&la(0,n,e.field)}}(t,r),r}function ia(t,e,n){if("string"==typeof n){if(""===n)throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vn(e)&&-1!==n.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(T.g(n));if(!A.F(r))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ae(t,new A(r))}if(n instanceof Is)return ae(t,n.f_);throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function oa(t,e){if(!Array.isArray(t)||0===t.length)throw new h(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function la(t,e,n){if(!n.isEqual(e))throw new h(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function sa(t){if(Ln(t)&&0===t.on.length)throw new h(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aa=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){O("Query.where",arguments,3),B("Query.where",3,r);var i=U("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Us("Query.where",e),l=na(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Pn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,l),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(P("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(c.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Us("Query.orderBy",e),o=ra(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new Pn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.limit=function(e){return O("Query.limit",arguments,1),D("Query.limit","number",1,e),W("Query.limit",1,e),new t(Bn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return O("Query.limitToLast",arguments,1),D("Query.limitToLast","number",1,e),W("Query.limitToLast",1,e),new t(Bn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(zn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(zn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&Wn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(B(t,1,e),e instanceof ta)return O(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],l=0,s=jn(t);l<s.length;l++){var a=s[l];if(a.field.p())o.push(ae(e,r.key));else{var u=r.field(a.field);if(Xt(u))throw new h(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var d=a.field.R();throw new h(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+d+"' (used as the orderBy) does not exist.")}o.push(u)}}return new or(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var l=t.on;if(i.length>l.length)throw new h(c.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],a=0;a<i.length;a++){var u=i[a];if(l[a].field.p()){if("string"!=typeof u)throw new h(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Vn(t)&&-1!==u.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var d=t.path.child(T.g(u));if(!A.F(d))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+d+"' is not because it contains an odd number of segments.");var f=new A(d);s.push(ae(e,f))}else{var p=Ds(n,r,u);s.push(p)}}return new or(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("Query.onSnapshot",arguments,1,4);var l={},s=0;if("object"!=typeof i[s]||Ws(i[s])||(H("Query.onSnapshot",l=i[s],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",l.includeMetadataChanges),s++),Ws(i[s])){var a=i[s];i[s]=null===(t=a.next)||void 0===t?void 0:t.bind(a),i[s+1]=null===(e=a.error)||void 0===e?void 0:e.bind(a),i[s+2]=null===(n=a.complete)||void 0===n?void 0:n.bind(a)}else D("Query.onSnapshot","function",s,i[s]),R("Query.onSnapshot","function",s+1,i[s+1]),R("Query.onSnapshot","function",s+2,i[s+2]);var u={next:function(t){i[s]&&i[s](new ua(r.firestore,r.Ff,t,r.d_))},error:i[s+1],complete:i[s+2]};return sa(this.Ff),this.firestore.hf().listen(this.Ff,l,u)},t.prototype.get=function(t){var e=this;P("Query.get",arguments,0,1),fa("Query.get",t),sa(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new ua(e.firestore,e.Ff,t,e.d_)}))},t}(),ua=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Zs(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;P("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new aa(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(H("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,l=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(l=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:ga(e.type),doc:r,oldIndex:o,newIndex:l}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Wn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new ea(this.yf,t.key,t,e,n,this.d_)},t}(),ca=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Rn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new Js(new A(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Q.k()),D("CollectionReference.doc","non-empty string",1,t);var e=T.g(t);return Js.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;D("CollectionReference.add","object",1,e);var n=this.doc();return new Js(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(aa);function ha(t,e){if(void 0===e)return{merge:!1};if(H(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(c.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ds}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(c.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function da(t,e){return void 0===e?{}:(H(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function fa(t,e){R(t,"object",1,e),e&&(H(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function pa(t,e,n){if(e instanceof Is){if(e.firestore!==n)throw new h(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function ga(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function ma(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){k("FieldValue.serverTimestamp",arguments);var t=new vs("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){k("FieldValue.delete",arguments);var t=new gs("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("arrayUnion()",arguments,1),new ys("arrayUnion",t)}).apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("arrayRemove()",arguments,1),new _s("arrayRemove",t)}).apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){D("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1);var n=function(t){return new bs("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(Cs),ya={Firestore:Qs,GeoPoint:ws,Timestamp:st,Blob:rt,Transaction:Xs,WriteBatch:Ys,DocumentReference:Js,DocumentSnapshot:ta,Query:aa,QueryDocumentSnapshot:ea,QuerySnapshot:ua,CollectionReference:ca,FieldPath:ds,FieldValue:va,setLogLevel:Qs.setLogLevel,CACHE_SIZE_UNLIMITED:Ks};function _a(t){!function(t,e){t.INTERNAL.registerComponent(new a.Component("firestore",(function(t){return function(t,e){var n=new us,r=new as(n);return new Qs(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ya)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}_a(u.default),e.__PRIVATE_registerFirestore=_a},ABqa:function(t,e,n){"use strict";var r=n("wj3C"),i=n("mrSG"),o=n("S+S0");function l(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=l(r),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},u=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return i.__extends(e,t),e}(Error),c=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function h(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var d,f,p,g=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return h(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?h(t,(function(t){return e.decode(t)})):t},t}(),m=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new g,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new c(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var l=new URL(r);this.customDomain=l.origin,this.region="us-central1"}catch(s){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:n["Content-Type"]="application/json",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}}))}))},t.prototype.call=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,l,s,c,h,d,f,p,g;return i.__generator(this,(function(i){switch(i.label){case 0:return r=this._url(t),e=this.serializer.encode(e),o={data:e},l={},[4,this.contextProvider.getContext()];case 1:return(s=i.sent()).authToken&&(l.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(l["Firebase-Instance-ID-Token"]=s.instanceIdToken),c=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new u("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),h=c.timer,d=c.promise,[4,Promise.race([v(h,this.postJSON(r,o,l)),d,v(h,this.cancelAllRequests)])];case 2:if(!(f=i.sent()))throw new u("cancelled","Firebase Functions instance was deleted.");if(p=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var l=e&&e.error;if(l){var s=l.status;if("string"==typeof s){if(!a[s])return new u("internal","internal");r=a[s],i=s}var c=l.message;"string"==typeof c&&(i=c),void 0!==(o=l.details)&&(o=n.decode(o))}}catch(h){}return"ok"===r?null:new u(r,i,o)}(f.status,f.json,this.serializer))throw p;if(!f.json)throw new u("internal","Response is not valid JSON object.");if(void 0===(g=f.json.data)&&(g=f.json.result),void 0===g)throw new u("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},t}();function v(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}d=s.default,f=fetch.bind(self),p={Functions:m},d.INTERNAL.registerComponent(new o.Component("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new m(n,r,i,e,f)}),"PUBLIC").setServiceProps(p).setMultipleInstances(!0)),s.default.registerVersion("@firebase/functions","0.5.1")},LOEa:function(t,e,n){(function(){var t,e=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function l(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var l=t[o];l in n||(n[l]={}),n=n[l]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,l=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),l},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=l(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)}))},e.all=function(t){var n=l(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){l[e]=n,0==--s&&t(l)}}var l=[],s=0;do{l.push(void 0),s++,r(i.value).Pa(o(l.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function I(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t,e,n){this.code=A+t,this.message=e||k[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var x,A="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function M(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}x=N("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(R,D),R.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new L((function(){return new q}),(function(t){t.reset()}));function j(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,l=0;l<n;l++)if(l in o){var s=o[l];e.call(void 0,s,l,t)&&(r[i++]=s)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=B(t,e)}function $(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function X(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,lt=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var ut=a.navigator;if(ut){var ct=ut.userAgent;if(ct){J=ct;break t}}J=""}function ht(t){return st(J,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(l){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(l){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===wt&&e||"",this.b=bt}function _t(t){return t instanceof yt&&t.constructor===yt&&t.b===bt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt={},wt={},Ct=new yt(wt,"");function Et(t,e){this.a=t===kt&&e||"",this.b=At}function It(t){return t instanceof Et&&t.constructor===Et&&t.b===At?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=_t(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?_t(t):encodeURIComponent(String(t))})),new Et(kt,t)}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},kt={};function Ot(t,e){this.a=t===Mt&&e||"",this.b=Rt}function Nt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Rt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Ot(Mt,t))}var Rt={},Mt={};function Lt(){this.a="",this.b=Ut}function Ft(t){return t instanceof Lt&&t.constructor===Lt&&t.b===Ut?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Vt(t){var e=new Lt;return e.a=t,e}Vt("<!DOCTYPE html>");var jt=Vt("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return lt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Vt("<br>"),Ht[" "]=h;var zt,Wt,Gt=ht("Opera"),Kt=ht("Trident")||ht("MSIE"),$t=ht("Edge"),Qt=$t||Kt,Xt=ht("Gecko")&&!(st(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Yt=st(J.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=a.document;return t?t.documentMode:void 0}t:{var Zt="",te=(Wt=J,Xt?/rv:([^\);]+)(\)|;)/.exec(Wt):$t?/Edge\/([\d\.]+)/.exec(Wt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Yt?/WebKit\/(\S+)/.exec(Wt):Gt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(te&&(Zt=te?te[1]:""),Kt){var ee=Jt();if(null!=ee&&ee>parseFloat(Zt)){zt=String(ee);break t}}zt=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Z(String(zt)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var l=n[o]||"",s=r[o]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==l[0].length&&0==s[0].length)break;e=at(0==l[1].length?0:parseInt(l[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==l[2].length,0==s[2].length)||at(l[2],s[2]),l=l[3],s=s[3]}while(0==e)}return 0<=e}))}ne=a.document&&Kt?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var oe=!Kt||9<=Number(ne);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ce.hasOwnProperty(n)?t.setAttribute(ce[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,ue,ce={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!f(o)||g(o)&&0<o.nodeType?r(o):H(fe(o)?Y(o):o,r)}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function fe(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function pe(t){a.setTimeout((function(){throw t}),0)}function ge(t,e){ue||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ue=function(){t.then(ye)}}else ue=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ht("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",function(t){var e=new Et(kt,_t(Ct));vt(t,"HTMLIFrameElement"),t.src=It(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ft(jt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ae(t)):a.setImmediate(t)}}(),me||(ue(),me=!0),ve.add(t,e)}var me=!1,ve=new U;function ye(){for(var t;t=j();){try{t.a.call(t.b)}catch(e){pe(e)}F(V,t)}me=!1}function _e(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Pe(n,we,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Pe(n,Ce,t)}))}catch(r){Pe(this,Ce,r)}}var be=0,we=2,Ce=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new L((function(){return new Ee}),(function(t){t.reset()}));function Te(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof _e)return t;var e=new _e(h);return Pe(e,we,t),e}function xe(t){return new _e((function(e,n){n(t)}))}function Ae(t,e,n){De(t,e,n,null)||ge(C(e,t))}function ke(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],C(i,o,!0),C(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=we&&t.a!=Ce||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Te(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(l){o(l)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(l){o(l)}}:o})),i.a.c=t,Oe(t,i),i.a}function Pe(t,e,n){t.a==be&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=Ce||n instanceof Ve||function(t,e){t.g=!0,ge((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function De(t,e,n,r){if(t instanceof _e)return Oe(t,Te(e||h,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){l||(l=!0,r.call(i,t))}var l=!1;try{e.call(t,(function(t){l||(l=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,ge(t.fc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(i){Ue.call(null,i)}F(Ie,e)}function Fe(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Ne(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).na=function(t,e){return(t=Te(t,t,e)).c=!0,Oe(this,t),this},t.s=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);ge((function(){!function t(e,n){if(e.a==be)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,l=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(l=s);o&&(r.a==be&&1==i?t(r,n):(l?((i=l).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),Le(r,o,Ce,n)))}e.c=null}else Pe(e,Ce,n)}(this,e)}),this)}},t.Zc=function(t){this.a=be,Pe(this,we,t)},t.$c=function(t){this.a=be,Pe(this,Ce,t)},t.fc=function(){for(var t;t=Me(this);)Le(this,t,this.a,this.i);this.h=!1};var Ue=pe;function Ve(t){D.call(this,t)}function je(){0!=qe&&(Be[m(this)]=this),this.xa=this.xa,this.oa=this.oa}I(Ve,D),Ve.prototype.name="cancel";var qe=0,Be={};function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=m(t);if(0!=qe&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}je.prototype.xa=!1,je.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var ze=Object.freeze||function(t){return t},We=!Kt||9<=Number(ne),Ge=Kt&&!ie("9"),Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Qe,$e);var Xe=ze({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Je,this.va=this.Oa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var l=rn(t,e,r,i);return-1<l?(e=t[l],n||(e.Oa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),ln={};function sn(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?bn(t,e,n,g(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var l=g(i)?!!i.capture:!!i,s=mn(t);if(s||(t[on]=s=new en(t)),!(n=s.add(e,n,r,l,o)).proxy)if(r=function(){var t=gn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ke||(i=l),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?wn(t,e,n,g(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=yn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ye])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function dn(t){return t in ln?ln[t]:ln[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&hn(t),n.call(r,e)}function gn(t,e){if(t.va)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(l){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function _n(){je.call(this),this.v=new en(this),this.$b=this,this.fb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.va&&l.capture==n){var s=l.listener,a=l.Ua||l.src;l.Oa&&nn(t.v,l),i=!1!==s.call(a,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function In(t){var e=null;return new _e((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(_n,je),_n.prototype[Ye]=!0,_n.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;mt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.b=e[o];i=Cn(l,r,!0,t)&&i}if(i=Cn(l=t.b=n,r,!0,t)&&i,i=Cn(l,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(l=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=xn.prototype).V=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,Pn(this,t.f),this.l=t.l,this.a=t.a,Dn(this,t.g),this.c=t.c,Rn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Pn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Dn(this,n[4]),this.c=Vn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Kn(null,this.i))}function Pn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Wn)),t.b=new Kn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Fn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Un(t,e,n,r){var i=new Nn(null,void 0);return t&&Pn(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.c=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Gn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.f;n?Pn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Dn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],l=0;l<i.length;){var s=i[l++];"."==s?r&&l==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&l==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Rn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Wn=/[#\?@]/g,Gn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){$n(t),e=tr(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Yn(t,e){return $n(t),e=tr(t,e),kn(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Y(n)),t.b+=n.length)}function Zn(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",l=0;l<n;l++)r.push(o),t(e,i[l],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(l=n[i])&&(r.push(o),or(i,r),r.push(":"),t(e,l,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,t,e),e.join("")}function nr(){}(t=Kn.prototype).add=function(t,e){$n(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){$n(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){$n(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=X(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var l=i;""!==r[o]&&(l+="="+encodeURIComponent(String(r[o]))),t.push(l)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function lr(){var t=Ir();return Kt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function sr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||a.window;var n="about:blank";t&&(n=Nt(Dt(t))),e.location.href=n}function ur(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function cr(t){t=t||a.window;try{t.close()}catch(e){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(l in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),wr(Ir())==br&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Dt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(l){case"width":case"height":case"top":case"left":i.push(l+"="+t[l]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(l+"="+(t[l]?1:0))}var l=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(l=de(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.sa?e.ra():String(e),Pt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Mt,e)),l.href=Nt(e),l.setAttribute("target",n),t.noreferrer&&l.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),l.dispatchEvent(t),l={}):t.noreferrer?(l=r.open("",n,l),t=Nt(e),l&&(Qt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),l.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),r=l.document)&&(r.write(Ft(t)),r.close())):(l=r.open(Nt(e),n,l))&&t.noopener&&(l.opener=null),l)try{l.focus()}catch(s){}return l}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new _e((function(e){"complete"==a.document.readyState?e():(t=function(){e()},un(window,"load",t))})).s((function(e){throw cn(window,"load",t),e}))}function gr(t){return t=t||Ir(),!("file:"!==kr()&&"ionic:"!==kr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function yr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function _r(){var t=yr();return"ReactNative"===t||"Node"===t}var br="Firefox";function wr(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?br:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Cr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Er(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=wr(i=Ir()):"Worker"===r&&(r=wr(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return a.navigator&&a.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Sr(){try{var t=a.localStorage,e=Rr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!a.indexedDB}catch(n){return vr()&&!!a.indexedDB}return!1}function xr(){return(Ar()||"chrome-extension:"===kr()||gr())&&!_r()&&Sr()&&!vr()}function Ar(){return"http:"===kr()||"https:"===kr()}function kr(){return a.location&&a.location.protocol||null}function Or(t){return!ur(t=t||Ir())&&wr(t)!=br}function Nr(t){return void 0===t?null:er(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Dr(t){if(null!==t)return JSON.parse(t)}function Rr(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=wr(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=yr(),this.b=ur(t)||"ReactNative"===e}function Ur(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function jr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Tr("fireauth.oauthhelper",a)&&!Tr("fireauth.iframe",a))}Fr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==kr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Hr={};function zr(t){Hr[t]||(Hr[t]=!0,Vr(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Wr.abcd}catch(Wt){Br=!1}function Gr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Kr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function $r(t){var e={};return Kr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,Qr(t[n]));return e}function Xr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[ti]),Gr(this,"displayName",t[Jr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Yr(t){try{var e=new ni(t)}catch(n){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Xr.call(this,t),Gr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[si],r=t[ui],i=t[ci];if(t=Yr(t[ai]),!i||i!=oi&&i!=li&&!n||i==li&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[di]=n||null,e[pi]=n||null,e[hi]=r):(e[di]=r||null,e[pi]=r||null,e[hi]=n||null),e[fi]=t||null,Gr(this,mi,i),Gr(this,gi,Qr(e))}I(ni,Xr),ni.prototype.w=function(){var t=ni.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",si="email",ai="mfaInfo",ui="newEmail",ci="requestType",hi="email",di="fromEmail",fi="multiFactorInfo",pi="previousEmail",gi="data",mi="operation";function vi(t){var e=Ln(t=Fn(t),yi)||null,n=Ln(t,_i)||null,r=Ln(t,Ci)||null;if(r=r&&Ii[r]||null,!e||!n||!r)throw new T("argument-error",yi+", "+_i+"and "+Ci+" are required in a valid action code URL.");Kr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,bi)||null,languageCode:Ln(t,wi)||null,tenantId:Ln(t,Ei)||null})}var yi="apiKey",_i="oobCode",bi="continueUrl",wi="languageCode",Ci="mode",Ei="tenantId",Ii={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new vi(t)}catch(e){return null}}function Si(t){var e=t[Ni];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Ri];var r=n[Pi];if(n=n[Di],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[ki])&&"boolean"!=typeof e)throw new T("argument-error",ki+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Ai="dynamicLinkDomain",ki="handleCodeInApp",Oi="iOS",Ni="url",Pi="installApp",Di="minimumVersion",Ri="packageName",Mi="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Ui(t){var e=ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,E(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Vi(t){try{return new Ui(t)}catch(e){return null}}function ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),l=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=l&&(e(o<<4&240|l>>2),64!=s&&e(l<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],Hi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Bi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Bi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Bi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:qi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function zi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Wi(t){var e={};e["facebook.com"]=Xi,e["google.com"]=Ji,e["github.com"]=Yi,e["twitter.com"]=Zi;var n=t&&t[Ki];try{if(n)return e[n]?new e[n](t):new Qi(t);if(void 0!==t[Gi])return new $i(t)}catch(r){}return null}var Gi="idToken",Ki="providerId";function $i(t){var e=t[Ki];if(!e&&t[Gi]){var n=Vi(t[Gi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function Qi(t){$i.call(this,t),Gr(this,"profile",Qr((t=Dr(t.rawUserInfo||"{}"))||{}))}function Xi(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function to(t){var e=Fn(t),n=Ln(e,"link"),r=Ln(Fn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Fn(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}I(Qi,$i),I(Xi,Qi),I(Yi,Qi),I(Ji,Qi),I(Zi,Qi);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[Wl]){var n=Vi(t[Wl]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function lo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function so(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ao(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function uo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function co(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new uo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Pc=e||[],Kr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(zi(t)||{}).Ja||null,this.nb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function go(t){fo.call(this,t,Bi),this.a=[]}function mo(){go.call(this,"facebook.com")}function vo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function yo(){go.call(this,"github.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function bo(){go.call(this,"google.com"),this.Ca("profile")}function wo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new bo).credential({idToken:n,accessToken:e})}function Co(){fo.call(this,"twitter.com",qi)}function Eo(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function So(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Ao(e)))throw new T("argument-error","Invalid email link!");return new Io(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(t){return(t=Ti(t=to(t)))&&t.operation===oi?t:null}function ko(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new ko(e)}return null}function No(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Po(t){try{this.a=t||e.auth()}catch(n){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function Do(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new ko({cb:t,bb:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new ko({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,l=t&&t.pendingToken;try{switch(e){case"google.com":return wo(o,n);case"facebook.com":return vo(n);case"github.com":return _o(n);case"twitter.com":return Eo(n,r);default:return n||r||o||l?l?0==e.indexOf("saml.")?new lo(e,l):new uo(e,{pendingToken:l,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Mo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Lo(t,e,n,r,i,o,l){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=l||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return Se(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ja=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},lo.prototype.ja=function(t){return ds(t,so(this))},lo.prototype.b=function(t,e){var n=so(this);return n.idToken=e,fs(t,n)},lo.prototype.c=function(t,e){return oo(ps(t,so(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ja=function(t){return ds(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,fs(t,n)},uo.prototype.c=function(t,e){return oo(ps(t,co(this)),e)},uo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Hb=pt(t),this},I(po,fo),I(go,fo),go.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},go.prototype.Pb=function(){return Y(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,n,this.providerId)},I(mo,go),Gr(mo,"PROVIDER_ID","facebook.com"),Gr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(yo,go),Gr(yo,"PROVIDER_ID","github.com"),Gr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),I(bo,go),Gr(bo,"PROVIDER_ID","google.com"),Gr(bo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Co,fo),Gr(Co,"PROVIDER_ID","twitter.com"),Gr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ja=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Cs,{email:this.a,oobCode:this.f}):Qs(t,zs,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Es,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,Ls,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return oo(this.ja(t),e)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(So,{PROVIDER_ID:"password"}),Kr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ko.prototype.ja=function(t){return t.eb(No(this))},ko.prototype.b=function(t,e){var n=No(this);return n.idToken=e,Qs(t,Gs,n)},ko.prototype.c=function(t,e){var n=No(this);return n.operation="REAUTH",oo(t=Qs(t,Ks,n),e)},ko.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.eb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then((function(t){return function(t,e){return Qs(t,Us,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(e){return function(t,e){return Qs(t,Vs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Qs(t,Rs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(Po,{PROVIDER_ID:"phone"}),Kr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Lo.prototype.S=function(){return this.h},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,jo=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Bo(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&Gr(this,"email",t.Ib),t.ea&&Gr(this,"phoneNumber",t.ea),t.credential&&Gr(this,"credential",t.credential),t.Yb&&Gr(this,"tenantId",t.Yb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Ro(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function zo(){}function Wo(){}function Go(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function $o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function Qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}I(qo,T),I(Bo,T),Bo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Bo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,I(Wo,zo),Wo.prototype.a=function(){var t=Go(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Go(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Wo,I(Ko,zo),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new $o;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=$o.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Qo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},Jo.prototype.toString=function(){return this.name};var Zo=new Jo("SEVERE",1e3),tl=new Jo("WARNING",900),el=new Jo("CONFIG",700),nl=new Jo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var rl={},il=null;function ol(t){var e;if(il||(il=new Yo(""),rl[""]=il,il.c=el),!(e=rl[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ol(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,rl[t]=e}return e}function ll(t,e){t&&t.log(nl,e,void 0)}function sl(t){this.f=t}function al(t){_n.call(this),this.o=t,this.readyState=ul,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ol("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(sl,zo),sl.prototype.a=function(){return new al(this.f)},sl.prototype.b=function(t){return function(){return t}}({}),I(al,_n);var ul=0;function cl(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function hl(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,dl(t)}function dl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function fl(t){_n.call(this),this.headers=new xn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=pl,this.u=this.R=!1}(t=al.prototype).open=function(t,e){if(this.readyState!=ul)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,dl(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hl(this,!1)),this.readyState=ul},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,dl(this)),this.a&&(this.readyState=3,dl(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,cl(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?hl(this,!0):dl(this),3==this.readyState&&cl(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,hl(this,!0))},t.rc=function(t){this.a&&(this.response=t,hl(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(tl,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&hl(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(tl,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(tl,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},I(fl,_n);var pl="";fl.prototype.b=ol("goog.net.XhrIo");var gl=/^https?$/i,ml=["POST","PUT"];function vl(t){return"content-type"==t.toLowerCase()}function yl(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_l(t),wl(t)}function _l(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bl(t){if(t.c&&void 0!==s)if(t.A[1]&&4==El(t)&&2==Il(t))ll(t.b,Tl(t,"Local request error detected and ignored"));else if(t.i&&4==El(t))En(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==El(t)){ll(t.b,Tl(t,"Request complete")),t.c=!1;try{var e,n=Il(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(On)[1]||null;if(!o&&a.self&&a.self.location){var l=a.self.location.protocol;o=l.substr(0,l.length-1)}i=!gl.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<El(t)?t.a.statusText:""}catch(c){ll(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+Il(t)+"]",_l(t)}}finally{wl(t)}}}function wl(t,e){if(t.a){Cl(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Cl(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function El(t){return t.a?t.a.readyState:0}function Il(t){try{return 2<El(t)?t.a.status:-1}catch(e){return-1}}function Tl(t,e){return e+" ["+t.P+" "+t.l+" "+Il(t)+"]"}function Sl(t){var e=Fl;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function xl(t,e,n){t.a=!0,t.c=n,t.f=!e,Nl(t)}function Al(t){if(t.a){if(!t.m)throw new Pl(t);t.m=!1}}function kl(t,e,n,r){t.g.push([e,n,r]),t.a&&Nl(t)}function Ol(t){return G(t.g,(function(t){return p(t[1])}))}function Nl(t){if(t.h&&t.a&&Ol(t)){var e=t.h,n=Ml[e];n&&(a.clearTimeout(n.a),delete Ml[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],l=i[1];if(i=i[2],o=t.f?l:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,Ol(t)||(n=!0)}}t.c=e,r&&(s=w(t.v,t,!0),r=w(t.v,t,!1),e instanceof Sl?(kl(e,s,r),e.A=!0):e.then(s,r)),n&&(e=new Rl(e),Ml[e.a]=e,t.h=e.a)}function Pl(){D.call(this)}function Dl(){D.call(this)}function Rl(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=fl.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ll(this.b,Tl(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ll(this.b,Tl(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wl(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wl(this,!0)),fl.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?bl(this):this.Ic())},t.Ic=function(){bl(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pl:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ll(this.b,"Can not get response: "+e.message),null}},Sl.prototype.cancel=function(t){if(this.a)this.c instanceof Sl&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Dl(this),Al(this),xl(this,!1,t))}},Sl.prototype.v=function(t,e){this.i=!1,xl(this,t,e)},Sl.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return kl(this,r,(function(t){t instanceof Dl?o.cancel():i(t)})),o.then(t,e,n)},Sl.prototype.$goog_Thenable=!0,I(Pl,D),Pl.prototype.message="Deferred has already fired",Pl.prototype.name="AlreadyCalledError",I(Dl,D),Dl.prototype.message="Deferred was canceled",Dl.prototype.name="CanceledError",Rl.prototype.c=function(){throw delete Ml[this.a],this.b};var Ml={};function Ll(t){var e={},n=e.document||document,r=It(t).toString(),i=de(document,"SCRIPT"),o={Vb:i,Ma:void 0},l=new Sl(o),s=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(s=window.setTimeout((function(){Ul(i,!0);var t=new ql(jl,"Timeout reached for loading script "+r);Al(l),xl(l,!1,t)}),h),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ul(i,e.wd||!1,s),Al(l),xl(l,!0,null))},i.onerror=function(){Ul(i,!0,s);var t=new ql(Vl,"Error while loading script "+r);Al(l),xl(l,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=It(e),null===c&&(c=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),l}function Fl(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Ul(t,!0,this.Ma)}}function Ul(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vl=0,jl=1;function ql(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Bl(t){this.f=t}function Hl(t,n,r){if(this.c=t,this.l=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Gl,this.g=pt(t.secureTokenHeaders||Kl),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||$l,this.a=pt(t.firebaseHeaders||Ql),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==yr(),!(r=a.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!vr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new sl(self):_r()?new Bl(r):new Ko,this.b=null}I(ql,D),I(Bl,zo),Bl.prototype.a=function(){return new this.f},Bl.prototype.b=function(){return{}};var zl,Wl="idToken",Gl=new Fr(3e4,6e4),Kl={"Content-Type":"application/x-www-form-urlencoded"},$l=new Fr(3e4,6e4),Ql={"Content-Type":"application/json"};function Xl(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Yl(t,e){e&&(t.l=Jl("https://securetoken.googleapis.com/v1/token",e),t.h=Jl("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Jl("https://identitytoolkit.googleapis.com/v2/",e))}function Jl(t,e){return t=Fn(t),e=Fn(e.url),t.c=t.a+t.c,Pn(t,e.f),t.a=e.a,Dn(t,e.g),t.toString()}function Zl(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ts(t,e,n,r,i,o,l){(function(){var t=Ir();return!((t="Chrome"!=wr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&ne&&!(9<ne))})()||vr()?t=w(t.u,t):(zl||(zl=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ns]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){kl(t,null,e,void 0)}(Ll(Tt(es,{onload:ns})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.o,t)),t(e,n,r,i,o,l)}Hl.prototype.S=function(){return this.b},Hl.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new fl(this.f);if(o){l.g=Math.max(0,o);var s=setTimeout((function(){l.dispatchEvent("timeout")}),o)}bn(l,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ll(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(l,"ready",(function(){s&&clearTimeout(s),He(this)})),wn(l,"timeout",(function(){s&&clearTimeout(s),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Vo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:Vo),t.a.onreadystatechange=w(t.Ub,t);try{ll(t.b,Tl(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(l){return ll(t.b,Tl(t,"Error opening Xhr: "+l.message)),void yl(t,l)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Sn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=vl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!K(ml,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Cl(t),0<t.g&&(t.u=function(t){return Kt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ll(t.b,Tl(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.o=En(t.Ma,t.g,t)),ll(t.b,Tl(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){ll(t.b,Tl(t,"Send error: "+l.message)),yl(t,l)}}(l,t,n,r,i)};var es=new yt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new T("invalid-email")}function is(t){"email"in t&&rs(t)}function os(t){if(!t[Wl]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,pt(t));throw new T("internal-error")}}function ls(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Hl.prototype.o=function(t,e,n,r,i){var o=this;zl.then((function(){window.gapi.client.setApiKey(o.c);var l=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(l),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Hl.prototype.yb=function(){return Qs(this,Fs,{})},Hl.prototype.Ab=function(t,e){return Qs(this,Ms,{idToken:t,email:e})},Hl.prototype.Bb=function(t,e){return Qs(this,Ls,{idToken:t,password:e})};var ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function as(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function us(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function cs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Yn(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function hs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=Xs(t.errorMessage)),e)throw e;os(t)}function ds(t,e){return e.returnIdpCredential=!0,Qs(t,js,e)}function fs(t,e){return e.returnIdpCredential=!0,Qs(t,Bs,e)}function ps(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,qs,e)}function gs(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Hl.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(ss,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qs(this,Ms,n)},t.ub=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,Os,t)},t.vb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,xs,t)},t.tb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,As,t)},t.Db=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,ks,t)},t.eb=function(t){return Qs(this,Ws,t)},t.mb=function(t,e){return Qs(this,Ds,{oobCode:t,newPassword:e})},t.Qa=function(t){return Qs(this,vs,{oobCode:t})},t.ib=function(t){return Qs(this,ms,{oobCode:t})};var ms={endpoint:"setAccountInfo",B:gs,Z:"email",C:!0},vs={endpoint:"resetPassword",B:gs,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},ys={endpoint:"signupNewUser",B:function(t){if(rs(t),!t.password)throw new T("weak-password")},F:os,U:!0,C:!0},_s={endpoint:"createAuthUri",C:!0},bs={endpoint:"deleteAccount",M:["idToken"]},ws={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=d(t.deleteProvider))throw new T("internal-error")}},Cs={endpoint:"emailLinkSignin",M:["email","oobCode"],B:rs,F:os,U:!0,C:!0},Es={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:rs,F:os,U:!0},Is={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:as,F:os,C:!0,Na:!0},Ts={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:as,F:os,C:!0,Na:!0},Ss={endpoint:"getAccountInfo"},xs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");rs(t)},Z:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},ks={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Os={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");rs(t)},Z:"email",C:!0},Ns={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ps={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ds={endpoint:"resetPassword",B:gs,Z:"email",C:!0},Rs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ms={endpoint:"setAccountInfo",M:["idToken"],B:is,U:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(is(t),!t.password)throw new T("weak-password")},F:os,U:!0},Fs={endpoint:"signupNewUser",F:os,U:!0,C:!0},Us={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Vs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},js={endpoint:"verifyAssertion",B:us,Xa:cs,F:hs,U:!0,C:!0},qs={endpoint:"verifyAssertion",B:us,Xa:cs,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Xs(t.errorMessage);os(t)},U:!0,C:!0},Bs={endpoint:"verifyAssertion",B:function(t){if(us(t),!t.idToken)throw new T("internal-error")},Xa:cs,F:hs,U:!0},Hs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:os,U:!0,C:!0},zs={endpoint:"verifyPassword",B:function(t){if(rs(t),!t.password)throw new T("wrong-password")},F:os,U:!0,C:!0},Ws={endpoint:"verifyPhoneNumber",B:ls,F:os,C:!0},Gs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");ls(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);os(t)}},Ks={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ls,F:os,C:!0},$s={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Wl]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return xe(new T("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Se(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,l){var s=Fn(e+n);Mn(s,"key",t.c),l&&Mn(s,"cb",E().toString());var a="GET"==r;if(a)for(var u in i)i.hasOwnProperty(u)&&Mn(s,u,i[u]);return new _e((function(e,n){ts(t,s.toString(),(function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new T("network-request-failed"))}),r,a?void 0:er(Pr(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function Xs(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Nr(t)),new T("internal-error",e)}function Js(t){this.b=t,this.a=null,this.qb=function(t){return(na||(na=new _e((function(t,e){function n(){Lr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Lr(),e(Error("Network Error"))},timeout:ta.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Se(Ll(r=Tt(Zs,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw na=null,t})))).then((function(){return new _e((function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ea.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Zs=new yt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),ta=new Fr(3e4,6e4),ea=new Fr(5e3,15e3),na=null;function ra(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Fn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function ia(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function oa(t){try{return e.app(t).auth().Ga()}catch(n){return[]}}function la(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function sa(t){var e=sr();return function(t){return Qs(t,Ns,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],l=n,s=r;if(0==o.indexOf("chrome-extension://")?l=Fn(o).a==l&&"chrome-extension"==s:"http"!=s&&"https"!=s?l=!1:dr.test(o)?l=l==o:(o=o.split(".").join("\\."),l=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)),l){t=!0;break t}}t=!1}if(!t)throw new qo(sr())}))}function aa(t){return t.v||(t.v=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=oa(t.b),i=new ra(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.m=new Js(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.v}function ua(t){return t.l||(t.A=t.c?Er(t.c,oa(t.b)):null,t.l=new Hl(t.g,N(t.i),t.A),t.f&&Yl(t.l,t.f)),t.l}function ca(t,e,n,r,i,o,l,s,a,u,c,h){return(t=new ia(t,e,n,r,i,h)).l=o,t.g=l,t.i=s,t.b=pt(a||null),t.f=u,t.xb(c).toString()}function ha(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function da(t){this.b=t,this.a={},this.f=w(this.c,this)}ra.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},ia.prototype.xb=function(t){return this.h=t,this},ia.prototype.toString=function(){if(this.m){var t=Fn(this.m.url);t=Un(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.o),Mn(t,"appName",this.c),Mn(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ka()}catch(a){r=null}for(var i in n.nb=r,Mn(t,"providerId",this.a.providerId),n=Pr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=pt(n);for(var o=0;o<i.length;o++){var l=i[o];l in n&&delete n[l]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),ft(n)||Mn(t,"customParameters",Nr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Mn(t,"scopes",r.join(",")),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(s=oa(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=la.prototype).Nb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,l=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return aa(t).then((function(){return function(t,e){return t.qb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&cr(t),e(i),l=!0)}))})).s((function(){})).then((function(){if(!l)return function(t){return new _e((function(e){return function n(){In(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!l)return In(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Ir();return!Or(t)&&!Mr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,l,s){if(!t)return xe(new T("popup-blocked"));if(l&&!Or())return this.la().s((function(e){cr(t),i(e)})),r(),Se();this.a||(this.a=sa(ua(this)));var a=this;return this.a.then((function(){var e=a.la().s((function(e){throw cr(t),i(e),e}));return r(),e})).then((function(){Mo(n),l||ar(ca(a.o,a.g,a.b,e,n,null,o,a.c,void 0,a.i,s,a.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=sa(ua(this)));var i=this;return this.a.then((function(){Mo(e),ar(ca(i.o,i.g,i.b,t,e,sr(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return aa(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new T("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){Q(this.h,(function(e){return e==t}))},(t=ha.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Dr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Nr(e)))},t.T=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var fa,pa=[];function ga(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ma(t){this.a=t}function va(t){this.c=t,this.b=!1,this.a=[]}function ya(t,e,n,r){var i,o,l,s,a=n||{},u=null;if(t.b)return xe(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),l=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(l),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(l),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:a},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _a(t,u),e})).s((function(e){throw _a(t,u),e}))}function _a(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,(function(t){return t==e}))}}function ba(){if(!Ca())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;vr()&&self?(this.l=function(){var t=vr()?self:null;if(H(pa,(function(n){n.b==t&&(e=n)})),!e){var e=new da(t);pa.push(e)}return e}(),ga(this.l,"keyChanged",(function(e,n){return xa(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),ga(this.l,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new va(new ma(e)),ya(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function wa(t){return t.v||(t.v=function t(e){return new _e((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.v}function Ca(){try{return!!a.indexedDB}catch(Wt){return!1}}function Ea(t){return t.objectStore("firebaseLocalStorage")}function Ia(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ta(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Sa(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ya(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Se()}function xa(t){return wa(t).then((function(t){var e=Ea(Ia(t,!1));return e.getAll?Ta(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Aa(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ka(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Ca()){var t=Rr(),r="__sak"+t;return fa||(fa=new ba),(n=fa).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Oa(){this.a={},this.type="inMemory"}function Na(){if(!function(){var t="Node"==yr();if(!(t=Pa()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Pa()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Pa(){try{var t=a.localStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Da(){this.type="nullStorage"}function Ra(){if(!function(){var t="Node"==yr();if(!(t=Ma()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ma()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ma(){try{var t=a.sessionStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function La(){var t={};t.Browser=Va,t.Node=ja,t.ReactNative=qa,t.Worker=Ba,this.a=t[yr()]}da.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),ke(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ma.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},va.prototype.close=function(){for(;0<this.a.length;)_a(this,this.a[0]);this.b=!0},(t=ba.prototype).set=function(t,e){var n,r=!1,i=this;return wa(this).then((function(e){return Ta((e=Ea(Ia(n=e,!0))).get(t))})).then((function(o){var l=Ea(Ia(n,!0));return o?(o.value=e,Ta(l.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Ta(l.add(o)))})).then((function(){return i.c[t]=e,Sa(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return wa(this).then((function(e){return Ta(Ea(Ia(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return wa(this).then((function(r){return e=!0,n.b++,Ta(Ea(Ia(r,!0)).delete(t))})).then((function(){return delete n.c[t],Sa(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){Aa(t),function e(){t.f=setTimeout((function(){t.i=xa(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t})),0==this.a.length&&Aa(this)},(t=ka.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t}))},(t=Oa.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.T=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Na.prototype).get=function(t){var e=this;return Se().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Nr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&sn(a.window,"storage",t)},t.ia=function(t){a.window&&cn(a.window,"storage",t)},(t=Da.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.T=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Ra.prototype).get=function(t){var e=this;return Se().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Nr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fa,Ua,Va={D:Na,ab:Ra},ja={D:Na,ab:Ra},qa={D:ha,ab:Da},Ba={D:Na,ab:Da},Ha={qd:"local",NONE:"none",sd:"session"};function za(){var t=!(Mr(Ir())||!mr()),e=Or(),n=Sr();this.v=t,this.h=e,this.l=n,this.a={},Fa||(Fa=new La),t=Fa;try{this.g=!lr()&&qr()||!a.indexedDB?new t.a.D:new ka(vr()?new Oa:new t.a.D)}catch(r){this.g=new Oa,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new Oa}this.m=new Oa,this.f=w(this.Xb,this),this.b={}}function Wa(){return Ua||(Ua=new za),Ua}function Ga(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Ka(t,e){return"firebase:"+t.name+(e?":"+e:"")}function $a(t,e,n){return n=Ka(e,n),"local"==e.D&&(t.b[n]=null),Ga(t,e.D).T(n)}function Qa(t){t.c&&(clearInterval(t.c),t.c=null)}function Xa(t){this.a=t,this.b=Wa()}(t=za.prototype).get=function(t,e){return Ga(this,t.D).get(Ka(t,e))},t.set=function(t,e,n){var r=Ka(t,n),i=this,o=Ga(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Ka(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ft(this.a)&&(Ga(this,"local").ca(this.f),this.h||(lr()||!qr())&&a.indexedDB||!this.l||function(t){Qa(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ka(t,e),this.a[t]&&(Q(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Ga(this,"local").ia(this.f),Qa(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ga(this,"local").ia(this.f):Qa(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},Kt&&ne&&10==ne&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.lb,this))},t.lb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var Ya,Ja={name:"authEvent",D:"local"};function Za(){this.a=Wa()}function tu(t,e){this.b=eu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Ya&&(Ya=a.Int32Array?new Int32Array(au):au),this.reset()}I(tu,(function(){this.b=-1}));for(var eu=64,nu=eu-1,ru=[],iu=0;iu<nu;iu++)ru[iu]=0;var ou=X(128,ru);function lu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,l=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+l|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],a=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;l=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((l=(l=u&c^~u&h)+(0|Ya[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=a+l|0,a=s,s=i,i=r,r=l+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+a|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function su(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(lu(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(lu(t),i=0)}}t.c=i,t.g+=n}tu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var au=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function uu(){tu.call(this,8,cu)}I(uu,tu);var cu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hu(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Za,this.g=new Xa(this.h),this.f=null,this.b=[],this.a=this.c=null}function du(t){return new T("invalid-cordova-configuration",t)}function fu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function pu(t){return t.f||(t.f=t.la().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),gu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Ln(o=Fn(i),"firebaseError")||null))?S(o):null)?new Lo(r.c,r.b,null,null,o,null,r.S()):new Lo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}fu(t,i)}))}var n=new Lo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=In(500).then((function(){return gu(t).then((function(){r||fu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},jo||(jo=new Uo),function(t){var e=jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function gu(t){var e=null;return function(t){return t.b.get(Ja,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,$a((n=t.g).b,Ja,n.a)})).then((function(){return e}))}function mu(t){this.a=t,this.b=Wa()}(t=hu.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?pr().then((function(){return new _e((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Tr("universalLinks.subscribe",a))throw du("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",a))throw du("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",a))throw du("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",a))throw du("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Se()},t.Lb=function(){return xe(new T("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return xe(new T("redirect-operation-pending"));var i=this,o=a.document,l=null,s=null,u=null,c=null;return this.c=Se().then((function(){return Mo(e),pu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),l=new Lo(e,r,null,o,new T("no-auth-event"),null,i),s=Tr("BuildInfo.packageName",a);if("string"!=typeof s)throw new T("invalid-cordova-configuration");var u=Tr("BuildInfo.displayName",a),c={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Ir().toLowerCase().match(/android/))return xe(new T("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=function(t){var e=new uu;su(e,t),t=[];var n=8*e.g;su(e,ou,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(lu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=ca(t.m,t.i,t.l,e,n,null,r,t.v,c,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(Ja,l.w(),e)})).then((function(){var e=Tr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){s=function(){var e=Tr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){Ur()&&u()},o.addEventListener("resume",u=function(){l||(l=In(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(t){return gu(i).then((function(){throw t}))}))})).na((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),l&&l.cancel(),s&&i.Ra(s),i.c=null}))},t.Ea=function(t){this.b.push(t),pu(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ra=function(t){Q(this.b,(function(e){return e==t}))};var vu={name:"pendingRedirect",D:"session"};function yu(t){return $a(t.b,vu,t.a)}function _u(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=w(this.o,this),this.b=new Ru,this.A=new Vu,this.g=new mu(Pu(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=bu(this.O,this.m,this.v,x,this.G)}function bu(t,n,r,i,o){var l=e.SDK_VERSION||null;return gr()?new hu(t,n,r,l,i,o):new la(t,n,r,l,i,o)}function wu(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Cu(t){t.a.Wb()&&wu(t).s((function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Au(e)&&t.o(n)})),t.a.Sb()||Mu(t.b)}function Eu(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(vu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?yu(t.g).then((function(){wu(t).s((function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Au(e)&&t.o(n)}))})):Cu(t)})).s((function(){Cu(t)}))}function Iu(t,e){Q(t.h,(function(t){return t==e}))}_u.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=bu(this.O,this.m,this.v,null,this.G),this.i={}},_u.prototype.o=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=E()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=E())),e=!0;break}}return Mu(this.b),e};var Tu=new Fr(2e3,1e4),Su=new Fr(3e4,6e4);function xu(t,e,n,r,i,o,l){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,l)}function Au(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ku(t,e,n,r,i){var o;return function(t){return t.b.set(vu,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Au(e))throw new T("operation-not-supported-in-this-environment");return o=e,yu(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new _e((function(){})):yu(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Ou(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Tu.get())}_u.prototype.qa=function(){return this.b.qa()};var Nu={};function Pu(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Du(t,e,n,r){var i=Pu(e,n,r);return Nu[i]||(Nu[i]=new _u(t,e,n,r)),Nu[i]}function Ru(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mu(t){t.g||(t.g=!0,Uu(t,!1,null,null))}function Lu(t){t.g&&!t.i&&Uu(t,!1,null,null)}function Fu(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fu(t,n):Fu(t,{user:null}),t.f=[],t.c=[]}function Vu(){}function ju(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function qu(t,e){this.a=e,Gr(this,"verificationId",t)}function Bu(t,e,n,r){return new Po(t).eb(e,n).then((function(t){return new qu(t,r)}))}function Hu(t){var e=ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:t,expirationTime:jr(1e3*e.exp),authTime:jr(1e3*e.auth_time),issuedAtTime:jr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zu(t,e,n){var r=e&&e[Gu];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;H(e[Wu]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Ru.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ru.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uu(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,l=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,l,o).then((function(e){Uu(t,s,e,null)})).s((function(e){Uu(t,s,null,e)}))}(this,t,e):xe(new T("invalid-auth-event")):(Uu(this,!1,null,null),Se())}else xe(new T("invalid-auth-event"))},Ru.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=In(Su.get()).then((function(){t.b||(t.g=!0,Uu(t,!0,null,e))}))}(t))}))},Vu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):xe(new T("invalid-auth-event"))}else xe(new T("invalid-auth-event"))},qu.prototype.confirm=function(t){return t=Do(this.verificationId,t),this.a(t)};var Wu="mfaInfo",Gu="mfaPendingCredential";function Ku(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new zu(t,e,n),Gr(this,"resolver",this.b)}function $u(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Ku(e,t.serverResponse,n,t.message)}catch(r){}return null}function Qu(){}function Xu(t){Gr(this,"factorId",t.fa),this.a=t}function Yu(t){if(Xu.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Ju(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function Zu(t,e){this.a=t,this.b=[],this.c=w(this.xc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),tc(this,n)}function tc(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function ec(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nc(t){this.c=t,this.b=this.a=null}function rc(t){return t.b&&1e3*t.b.c||0}function ic(t,e){var n=e.refreshToken;t.b=Vi(e[Wl]||""),t.a=n}function oc(t,e){this.a=t||null,this.b=e||null,Kr(this,{lastSignInTime:jr(e||null),creationTime:jr(t||null)})}function lc(t,e,n,r,i,o){Kr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function sc(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.SDK_VERSION?Er(e.SDK_VERSION):null;this.a=new Hl(this.l,N(x),i),t.emulatorConfig&&Yl(this.a,t.emulatorConfig),this.b=new nc(this.a),gc(this,n[Wl]),ic(this.b,n),Gr(this,"refreshToken",this.b.a),yc(this,r||{}),_n.call(this),this.P=!1,this.o&&xr()&&(this.i=Du(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new ec((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=rc(t.b)-E()-3e5;return 0<e?e:0}))}(this),this.$=w(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Yl(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){cc(o,t.f)},this.aa=null,this.N=new Zu(this,r),Gr(this,"multiFactor",this.N)}function ac(t,e){t.ba&&cn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&sn(e,"languageCodeChanged",t.Ba)}function uc(t,e){t.W&&cn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&sn(e,"emulatorConfigChanged",t.za)}function cc(t,n){t.X=n,Zl(t.a,e.SDK_VERSION?Er(e.SDK_VERSION,t.X):null)}function hc(t,e){t.aa&&cn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&sn(e,"frameworkChanged",t.Aa)}function dc(t){try{return e.app(t.m).auth()}catch(n){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function fc(t){t.A||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.$),sn(t,"tokenChanged",t.$))}function pc(t){cn(t,"tokenChanged",t.$),t.u.stop()}function gc(t,e){t.ya=e,Gr(t,"_lat",e)}function mc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then((function(){return t}))}function vc(t){t.i&&!t.P&&(t.P=!0,Eu(t.i,t))}function yc(t,e){Kr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new oc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function _c(){}function bc(t){return Se().then((function(){if(t.A)throw new T("app-deleted")}))}function wc(t){return W(t.providerData,(function(t){return t.providerId}))}function Cc(t,e){e&&(Ec(t,e.providerId),t.providerData.push(e))}function Ec(t,e){Q(t.providerData,(function(t){return t.providerId==e}))}function Ic(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function Tc(t,e){t!=e&&(Kr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Gr(t,"metadata",e.metadata?function(t){return new oc(t.a,t.b)}(e.metadata):new oc),H(e.providerData,(function(e){Cc(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Gr(t,"refreshToken",t.b.a),tc(t.N,e.N.b))}function Sc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Qs(t.a,Ss,{idToken:e}).then(w(t.Jc,t))}(t,e).then((function(){return n||Ic(t,"isAnonymous",!1),e}))}))}function xc(t,e){e[Wl]&&t.ya!=e[Wl]&&(ic(t.b,e),t.dispatchEvent(new Ju("tokenChanged")),gc(t,e[Wl]),Ic(t,"refreshToken",t.b.a))}function Ac(t,e){return Sc(t).then((function(){if(K(wc(t),e))return mc(t).then((function(){throw new T("provider-already-linked")}))}))}function kc(t,e,n){return $r({user:t,credential:Ro(e),additionalUserInfo:e=Wi(e),operationType:n})}function Oc(t,e){return xc(t,e),t.reload().then((function(){return t}))}function Nc(t,n,r,i,o){if(!xr())return xe(new T("operation-not-supported-in-this-environment"));if(t.f&&!o)return xe(t.f);var l=zi(r.providerId),s=Rr(t.uid+":::"),a=null;(!Or()||mr())&&t.o&&r.isOAuthProvider&&(a=ca(t.o,t.l,t.m,n,r,null,s,e.SDK_VERSION||null,null,null,t.tenantId));var u=hr(a,l&&l.ua,l&&l.ta);return i=i().then((function(){if(Dc(t),!o)return t.I().then((function(){}))})).then((function(){return xu(t.i,u,n,r,s,!!a,t.tenantId)})).then((function(){return new _e((function(e,r){t.ma(n,null,new T("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=s,t.c=Ou(t.i,t,n,u,s)}))})).then((function(t){return u&&cr(u),t?$r(t):null})).s((function(t){throw u&&cr(u),t})),Rc(t,i,o)}function Pc(t,e,n,r,i){if(!xr())return xe(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return xe(t.f);var o=null,l=Rr(t.uid+":::");return r=r().then((function(){if(Dc(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=l,mc(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Fc,t.w(),e.a)),e})).then((function(){return ku(t.i,e,n,l,t.tenantId)})).s((function(e){if(o=e,t.ha)return Uc(t.ha);throw o})).then((function(){if(o)throw o})),Rc(t,r,i)}function Dc(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Rc(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),xe(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new Ju("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){$(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$u(e.w(),dc(t),w(t.ic,t))),n||e}))}function Mc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Wl]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new sc(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Cc(r,$r(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Lc(t){this.a=t,this.b=Wa()}zu.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[Wu],delete n[Gu],mt(n,t),e.g(n)}))},I(Ku,T),Qu.prototype.rb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:No(t.a)}),Qs(e,Is,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:No(t.a)}),Qs(e,Ts,n)}))}(this,t,e)},I(Xu,Qu),I(Yu,Xu),I(Ju,$e),(t=Zu.prototype).xc=function(t){tc(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return xc(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qs(r,$s,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return tc(e,r),xc(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},ec.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Ur()||!t?Se():new _e((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},ec.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nc.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:rc(this)}},nc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new T("user-token-expired")):t||!this.b||E()>rc(this)-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ts(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ys(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.v.get()):r(new T("internal-error"))}))}(t.c,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},oc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(sc,_n),sc.prototype.wa=function(t){this.pa=t,Xl(this.a,t)},sc.prototype.ka=function(){return this.pa},sc.prototype.Ga=function(){return Y(this.X)},sc.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(sc.prototype,"providerId","firebase"),(t=sc.prototype).reload=function(){var t=this;return Rc(this,bc(this).then((function(){return Sc(t).then((function(){return mc(t)})).then(_c)})))},t.nc=function(t){return this.I(t).then((function(t){return new Hu(t)}))},t.I=function(t){var e=this;return Rc(this,bc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(gc(e,t.accessToken),e.dispatchEvent(new Ju("tokenChanged"))),Ic(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");yc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new lc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Cc(this,e[n]);Ic(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Ju("userReloaded",{gd:t}))},t.Kc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Rc(this,t.c(this.a,this.uid).then((function(t){return xc(e,t),n=kc(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Rc(this,Ac(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=kc(e,t,"link"),Oc(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Rc(this,Ac(this,"phone").then((function(){return Bu(dc(n),t,e,w(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Rc(this,Se().then((function(){return Bu(dc(n),t,e,w(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Rc(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return xc(e,t),e.reload()})))},t.dd=function(t){var e=this;return Rc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return xc(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Rc(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return xc(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return bc(this);var e=this;return Rc(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return xc(e,t),Ic(e,"displayName",t.displayName||null),Ic(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),mc(e)})).then(_c))},t.bd=function(t){var e=this;return Rc(this,Sc(this).then((function(n){return K(wc(e),t)?function(t,e,n){return Qs(t,ws,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(wc(e),(function(t){n[t]||Ec(e,t)})),n[Po.PROVIDER_ID]||Gr(e,"phoneNumber",null),mc(e)})):mc(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Rc(this,this.I().then((function(e){return Qs(t.a,bs,{idToken:e})})).then((function(){t.dispatchEvent(new Ju("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ac(t,null),uc(t,null),hc(t,null),t.G=[],t.A=!0,pc(t),Gr(t,"refreshToken",null),t.i&&Iu(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?w(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?w(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):null},t.Dc=function(t){var e=this;return Nc(this,"linkViaPopup",t,(function(){return Ac(e,t.providerId).then((function(){return mc(e)}))}),!1)},t.Mc=function(t){return Nc(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Ec=function(t){var e=this;return Pc(this,"linkViaRedirect",t,(function(){return Ac(e,t.providerId)}),!1)},t.Nc=function(t){return Pc(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rc(this,this.I().then((function(n){return fs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=kc(i,t,"link"),Oc(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rc(this,Se().then((function(){return oo(ps(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=kc(i,t,"reauthenticate"),xc(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Rc(this,this.I().then((function(e){return n=e,void 0===t||ft(t)?{}:Li(new Si(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Rc(this,this.I().then((function(t){return r=t,void 0===e||ft(e)?{}:Li(new Si(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Rc(this,t=oo(Se(t),n.uid).then((function(t){return e=kc(n,t,"reauthenticate"),xc(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.N.w()),t};var Fc={name:"redirectUser",D:"session"};function Uc(t){return $a(t.b,Fc,t.a)}function Vc(t){this.a=t,this.b=Wa(),this.c=null,this.f=function(t){var e=Bc("local"),n=Bc("session"),r=Bc("none");return function(t,e,n){var r=Ka(e,n),i=Ga(t,e.D);return t.get(e,n).then((function(o){var l=null;try{l=Dr(a.localStorage.getItem(r))}catch(s){}if(l&&!o)return a.localStorage.removeItem(r),t.set(e,l,n);l&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(qc,t.a).then((function(t){return t?Bc(t):e}))}))}))})).then((function(e){return t.c=e,jc(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Bc("local"),this.a,w(this.g,this))}function jc(t,e){var n,r=[];for(n in Ha)Ha[n]!==e&&r.push($a(t.b,Bc(Ha[n]),t.a));return r.push($a(t.b,qc,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},l=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],C(o,s),l);else e(i)}))}(r)}Vc.prototype.g=function(){var t=this,e=Bc("local");Gc(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return jc(t,"local").then((function(){t.c=e}))}))}))};var qc={name:"persistence",D:"session"};function Bc(t){return{name:"authUser",D:t}}function Hc(t,e){return Gc(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function zc(t){return Gc(t,(function(){return $a(t.b,t.c,t.a)}))}function Wc(t,e,n){return Gc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Mc(t||{})}))}))}function Gc(t,e){return t.f=t.f.then(e,e),t.f}function Kc(t){if(this.m=!1,Gr(this,"settings",new ju),Gr(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new T("invalid-api-key");t=e.SDK_VERSION?Er(e.SDK_VERSION):null,this.a=new Hl(eh(this).options&&eh(this).options.apiKey,N(x),t),this.R=[],this.u=[],this.P=[],this.ac=e.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=e.INTERNAL.createSubscribe(w(this.zc,this)),Zc(this,null),this.l=new Vc(eh(this).options.apiKey+":"+eh(this).name),this.G=new Lc(eh(this).options.apiKey+":"+eh(this).name),this.$=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Mc(t||{})}))}(t.G,eh(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Uc(t.G)}));return oh(t,e)}(t).then((function(){return Wc(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Hc(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:zc(t.l)}))):null})).then((function(e){Zc(t,e||null)}));return oh(t,n)}(this)),this.i=oh(this,function(t){return t.$.then((function(){return Jc(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Bc("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&xr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Du(e,n,eh(t).name,t.f),Eu(t.b,t),nh(t)&&vc(nh(t)),t.o){vc(t.o);var r=t.o;r.wa(t.ka()),ac(r,t),cc(r=t.o,t.N),hc(r,t),Yl((r=t.o).a,t.f),uc(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function $c(t){$e.call(this,"languageCodeChanged"),this.h=t}function Qc(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function Xc(t){$e.call(this,"frameworkChanged"),this.f=t}function Yc(t){return t.gb||xe(new T("auth-domain-config-required"))}function Jc(t){if(!xr())return xe(new T("operation-not-supported-in-this-environment"));var e=Yc(t).then((function(){return t.b.qa()})).then((function(t){return t?$r(t):null}));return oh(t,e)}function Zc(t,e){nh(t)&&(function(t,e){Q(t.R,(function(t){return t==e}))}(nh(t),t.Ba),cn(nh(t),"tokenChanged",t.ya),cn(nh(t),"userDeleted",t.za),cn(nh(t),"userInvalidated",t.Aa),pc(nh(t))),e&&(e.R.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.A&&fc(e)),Gr(t,"currentUser",e),e&&(e.wa(t.ka()),ac(e,t),cc(e,t.N),hc(e,t),Yl(e.a,t.f),uc(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then((function(e){return n=Ro(e),r=Wi(e),function(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new sc(t,e);return n&&(i.ha=n),r&&cc(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return nh(t)&&e.uid==nh(t).uid?(Tc(nh(t),e),t.da(e)):(Zc(t,e),vc(e),t.da(e))})).then((function(){ih(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$u(e.w(),t,w(t.jc,t))),n||e})).then((function(){return $r({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](rh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](rh(t))}}function oh(t,e){return t.R.push(e),e.na((function(){$(t.R,e)})),e}function lh(){}function sh(){this.a={},this.b=1e12}Vc.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Ha)if(Ha[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ca()&&"none"!==t)throw n;break;default:if(!Sr()&&"none"!==t)throw n}}(t),Gc(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,jc(n,t)})).then((function(){if(n.c=Bc(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},I(Kc,_n),I($c,$e),I(Qc,$e),I(Xc,$e),(t=Kc.prototype).wb=function(t){return oh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Xl(this.a,this.aa),this.dispatchEvent(new $c(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Vr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&pr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Yl(this.a,this.f),this.dispatchEvent(new Qc(this.f))}},t.Fc=function(t){this.N.push(t),Zl(this.a,e.SDK_VERSION?Er(e.SDK_VERSION,this.N):null),this.dispatchEvent(new Xc(this.N))},t.Ga=function(){return Y(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?w(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return th(i,ds(i.a,o))}))},t.Wc=function(t){if(!xr())return xe(new T("operation-not-supported-in-this-environment"));var n=this,r=zi(t.providerId),i=Rr(),o=null;(!Or()||mr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(o=ca(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S(),this.f));var l=hr(o,r&&r.ua,r&&r.ta);return oh(this,r=Yc(this).then((function(e){return xu(e,l,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new _e((function(t,e){n.ma("signInViaPopup",null,new T("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Ou(n.b,n,"signInViaPopup",l,i)}))})).then((function(t){return l&&cr(l),t?$r(t):null})).s((function(t){throw l&&cr(l),t})))},t.Xc=function(t){if(!xr())return xe(new T("operation-not-supported-in-this-environment"));var e=this;return oh(this,Yc(this).then((function(){return function(t){return Gc(t,(function(){return t.b.set(qc,t.c.D,t.a)}))}(e.l)})).then((function(){return ku(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return Jc(this).then((function(e){return t.b&&Lu(t.b.b),e})).s((function(e){throw t.b&&Lu(t.b.b),e}))},t.cd=function(t){if(!t)return xe(new T("null-user"));if(this.W!=t.tenantId)return xe(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Wl]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new sc(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&cc(e,r),Tc(e,t),e}(t,n,e.G,e.Ga());return oh(this,this.i.then((function(){if(eh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return nh(e)&&t.uid==nh(e).uid?(Tc(nh(e),t),e.da(t)):(Zc(e,r),vc(r),e.da(r))})).then((function(){ih(e)})))},t.zb=function(){var t=this;return oh(this,this.i.then((function(){return t.b&&Lu(t.b.b),nh(t)?(Zc(t,null),zc(t.l).then((function(){ih(t)}))):Se()})))},t.Yc=function(){var t=this;return Wc(this.l,eh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tc(nh(t),e),nh(t).I();(nh(t)||e)&&(Zc(t,e),e&&(vc(e),e.ha=t.G),t.b&&Eu(t.b,t),ih(t))}}))},t.da=function(t){return Hc(this.l,t)},t.kc=function(){ih(this),this.da(nh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return th(e,Se(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(nh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),oh(t,t.i.then((function(){!t.m&&K(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(rh(t)))})))}(this,(function(){t.next(nh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return oh(this,this.i.then((function(){return nh(e)?nh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return th(e,Qs(e.a,Hs,{token:t}))})).then((function(t){var n=t.user;return Ic(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return th(n,Qs(n.a,zs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return th(n,Qs(n.a,ys,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return th(e,t.ja(e.a))}))},t.Rc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=nh(t);if(e&&e.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.a.yb()).then((function(e){var n=e.user;return Ic(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&nh(this)&&fc(nh(this))},t.Oc=function(t){var e=this;H(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&nh(this)&&pc(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),oh(this,this.i.then((function(){e.m||K(e.u,t)&&t(rh(e))})))},t.removeAuthTokenListener=function(t){Q(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Bc("local"),t.a,this.pa),this.b&&(Iu(this.b,this),Lu(this.b.b)),Promise.resolve()},t.gc=function(t){return oh(this,function(t,e){return Qs(t,_s,{identifier:e,continueUri:Ar()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Ao(t)},t.vb=function(t,e){var n=this;return oh(this,Se().then((function(){var t=new Si(e);if(!t.c)throw new T("argument-error",ki+" must be true when sending sign in link to email");return Li(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return oh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return oh(this,this.a.Qa(t).then((function(t){return new ri(t)})))},t.ib=function(t){return oh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return oh(this,Se().then((function(){return void 0===e||ft(e)?{}:Li(new Si(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return oh(this,Bu(this,t,e,w(this.Za,this)))},t.Uc=function(t,e){var n=this;return oh(this,Se().then((function(){var r=e||sr(),i=xo(t,r);if(!(r=Ao(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Za(i)})))},lh.prototype.render=function(){},lh.prototype.reset=function(){},lh.prototype.getResponse=function(){},lh.prototype.execute=function(){};var ah=null;function uh(t,e){return(e=ch(e))&&t.a[e]||null}function ch(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function dh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function fh(){}function ph(){}sh.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},sh.prototype.reset=function(t){var e=uh(this,t);t=ch(t),e&&t&&(e.delete(),delete this.a[t])},sh.prototype.getResponse=function(t){return(t=uh(this,t))?t.getResponse():null},sh.prototype.execute=function(t){(t=uh(this,t))&&t.execute()},hh.prototype.getResponse=function(){return dh(this),this.b},hh.prototype.execute=function(){dh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},hh.prototype.delete=function(){dh(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Gr(fh,"FACTOR_ID","phone"),ph.prototype.g=function(){return ah||(ah=new sh),Se(ah)},ph.prototype.c=function(){};var gh=null;function mh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var vh=new yt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yh=new Fr(3e4,6e4);mh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),yh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},Se(Ll(Tt(vh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},mh.prototype.c=function(){this.b--};var _h=null;function bh(t,e,n,r,i,o,l){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,l?(gh||(gh=new ph),l=gh):(_h||(_h=new mh),l=_h),this.v=l,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Eh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ih],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Hl(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var u=this.a[wh];this.a[wh]=function(t){if(Th(s,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Tr(u,a);"function"==typeof e&&e(t)}};var c=this.a[Ch];this.a[Ch]=function(){if(Th(s,null),"function"==typeof c)c();else if("string"==typeof c){var t=Tr(c,a);"function"==typeof t&&t()}}}var wh="callback",Ch="expired-callback",Eh="sitekey",Ih="size";function Th(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Sh(t,e){return t.h.push(e),e.na((function(){$(t.h,e)})),e}function xh(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(t,n,r){var i=!1;try{this.b=r||e.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");r=this.b.options.apiKey;var o=this,l=null;try{l=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}l=e.SDK_VERSION?Er(e.SDK_VERSION,l):null,bh.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),l,N(x),i)}function kh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,l=0;l<e.length;l++)if(e[l].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Oh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Oh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=bh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Sh(this,Se().then((function(){if(Ar()&&!vr())return pr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Qs(t.o,Ps,{})})).then((function(e){t.a[Eh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){xh(this);var t=this;return Sh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),l=r[1];if(!oe&&l&&(l.name||l.type)){if(o=["<",o],l.name&&o.push(' name="',Bt(l.name),'"'),l.type){o.push(' type="',Bt(l.type),'"');var s={};mt(s,l),delete s.type,l=s}o.push(">"),o=o.join("")}return o=de(i,o),l&&("string"==typeof l?o.className=l:Array.isArray(l)?o.className=l.join(" "):se(o,l)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){xh(this);var t=this;return Sh(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){xh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){xh(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Ah,bh);var Oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ph(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Dh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:g}}function Rh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Mh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Lh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Fh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Uh(t){return g(t)&&"string"==typeof t.uid}function Vh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function jh(t,e){for(var n in e){var r=e[n].name;t[r]=Hh(r,t[n],e[n].j)}}function qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,r){kh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Bh(t,e,n,r){t[e]=Hh(e,n,r)}function Hh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return kh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}jh(Kc.prototype,{ib:{name:"applyActionCode",j:[Nh("code")]},Qa:{name:"checkActionCode",j:[Nh("code")]},mb:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Vh(Dh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Vh(Dh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Nh("email"),Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Nh("email"),Dh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Nh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Lh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Lh()]},Sc:{name:"signInWithCustomToken",j:[Nh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Uc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Vh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof sc)}},Mh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Nh("url")]},hd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),qh(Kc.prototype,{lc:{name:"languageCode",jb:Vh(Nh(),Mh(),"languageCode")},ti:{name:"tenantId",jb:Vh(Nh(),Mh(),"tenantId")}}),(Kc.Persistence=Ha).LOCAL="local",Kc.Persistence.SESSION="session",Kc.Persistence.NONE="none",jh(sc.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Ph("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ph("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Lh()]},pb:{name:"linkWithCredential",j:[Lh()]},Cc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lh()]},sb:{name:"reauthenticateWithCredential",j:[Lh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},bd:{name:"unlink",j:[Nh("provider")]},Ab:{name:"updateEmail",j:[Nh("email")]},Bb:{name:"updatePassword",j:[Nh("password")]},dd:{name:"updatePhoneNumber",j:[Lh("phone")]},Cb:{name:"updateProfile",j:[Dh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),jh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),jh(lh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),jh(_e.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),qh(ju.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Ph("appVerificationDisabledForTesting")}}),jh(qu.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),Bh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,To,Oo,ao],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Vh(Nh(),Dh(),"json")]),Bh(So,"credential",(function(t,e){return new Io(t,e)}),[Nh("email"),Nh("password")]),jh(Io.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),jh(mo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(mo,"credential",vo,[Vh(Nh(),Dh(),"token")]),Bh(So,"credentialWithLink",xo,[Nh("email"),Nh("emailLink")]),jh(yo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(yo,"credential",_o,[Vh(Nh(),Dh(),"token")]),jh(bo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(bo,"credential",wo,[Vh(Nh(),Vh(Dh(),Mh()),"idToken"),Vh(Nh(),Mh(),"accessToken",!0)]),jh(Co.prototype,{Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(Co,"credential",Eo,[Vh(Nh(),Dh(),"token"),Nh("secret",!0)]),jh(go.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[Vh(Nh(),Vh(Dh(),Mh()),"optionsOrIdToken"),Vh(Nh(),Mh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),jh(uo.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),jh(lo.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Bh(Po,"credential",Do,[Nh("verificationId"),Nh("verificationCode")]),jh(Po.prototype,{eb:{name:"verifyPhoneNumber",j:[Vh(Nh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,ro)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),jh(ko.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),jh(T.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),jh(Bo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),jh(qo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),jh(Ku.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),jh(zu.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),jh(Zu.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Nh("displayName",!0)]},ad:{name:"unenroll",j:[Vh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Uh},Nh(),"multiFactorInfoIdentifier")]}}),jh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bh(vi,"parseLink",Ti,[Nh("link")]),Bh(fh,"assertion",(function(t){return new Yu(t)}),[Lh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kc,AuthCredential:io,Error:T};Bh(t,"EmailAuthProvider",So,[]),Bh(t,"FacebookAuthProvider",mo,[]),Bh(t,"GithubAuthProvider",yo,[]),Bh(t,"GoogleAuthProvider",bo,[]),Bh(t,"TwitterAuthProvider",Co,[]),Bh(t,"OAuthProvider",go,[Nh("providerId")]),Bh(t,"SAMLAuthProvider",po,[Nh("providerId")]),Bh(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Kc)}}]),Bh(t,"RecaptchaVerifier",Ah,[Vh(Nh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Bh(t,"ActionCodeURL",vi,[]),Bh(t,"PhoneMultiFactorGenerator",fh,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Kc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.mc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.15.0"),e.INTERNAL.extendNamespace({User:sc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},LmZi:function(t,e,n){"use strict";n.r(e),n.d(e,"registerStorage",(function(){return Mt}));var r=n("wj3C"),i=n.n(r),o=n("mrSG"),l=n("S+S0"),s=function(){function t(t,e){this.code_=a(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return a(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}();function a(t){return"storage/"+t}function u(){return new s("unknown","An unknown error occurred, please check the error payload for server response.")}function c(){return new s("canceled","User canceled the upload/download.")}function h(){return new s("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function d(){return new s("no-download-url","The given file does not have any download URLs.")}function f(t,e,n){return new s("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function p(){return new s("app-deleted","The Firebase app was deleted.")}function g(t,e){return new s("invalid-format","String does not match format '"+t+"': "+e)}function m(t){throw new s("internal-error","Internal error: "+t)}var v={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function y(t){switch(t){case v.RAW:case v.BASE64:case v.BASE64URL:case v.DATA_URL:return;default:throw"Expected one of the event types: ["+v.RAW+", "+v.BASE64+", "+v.BASE64URL+", "+v.DATA_URL+"]."}}var _=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function b(t,e){switch(t){case v.RAW:return new _(w(e));case v.BASE64:case v.BASE64URL:return new _(C(t,e));case v.DATA_URL:return new _((n=new E(e)).base64?C(v.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw g(v.DATA_URL,"Malformed data URL.")}return w(e)}(n.rest),function(t){return new E(t).contentType}(e))}var n;throw u()}function w(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function C(t,e){switch(t){case v.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw g(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case v.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw g(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var l;try{l=atob(e)}catch(u){throw g(t,"Invalid character found")}for(var s=new Uint8Array(l.length),a=0;a<l.length;a++)s[a]=l.charCodeAt(a);return s}var E=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw g(v.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),I={STATE_CHANGED:"state_changed"},T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function S(t){switch(t){case"running":case"pausing":case"canceling":return T.RUNNING;case"paused":return T.PAUSED;case"success":return T.SUCCESS;case"canceled":return T.CANCELED;case"error":default:return T.ERROR}}function x(t){return null!=t}function A(t){return void 0!==t}function k(t){return"function"==typeof t}function O(t){return"object"==typeof t}function N(t){return O(t)&&null!==t}function P(t){return"string"==typeof t||t instanceof String}function D(t){return R(t)&&Number.isInteger(t)}function R(t){return"number"==typeof t||t instanceof Number}function M(t){return L()&&t instanceof Blob}function L(){return"undefined"!=typeof Blob}var F=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),U=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=F.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=F.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=F.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw m("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),x(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return x(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw m("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw m("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw m("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){x(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){x(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),V=function(){function t(){}return t.prototype.createXhrIo=function(){return new U},t}();function j(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=j();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(L())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var B=function(){function t(t,e){var n=0,r="";M(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(M(this.data_)){var r=(o=e,l=n,(i=this.data_).webkitSlice?i.webkitSlice(o,l):i.mozSlice?i.mozSlice(o,l):i.slice?i.slice(o,l):null);return null===r?null:new t(r)}var i,o,l;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(L()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(q.apply(null,r))}var i=e.map((function(t){return P(t)?b(v.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var l=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)l[s++]=t[e]})),new t(l,!0)},t.prototype.uploadData=function(){return this.data_},t}(),H=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new s("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),l=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<l.length;a++){var u=l[a],c=u.regex.exec(e);if(c){var h=c[u.indices.path];h||(h=""),n=new t(c[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(t){return new s("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function z(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return O(n=e)&&!Array.isArray(n)?e:null}function W(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function G(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function K(t){return"https://firebasestorage.googleapis.com/v0"+t}function $(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Q(t,e){return e}var X=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Q}}(),Y=null;function J(t,e,n){var r=z(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var l=n[o];r[l.local]=l.xform(r,e[l.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new H(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Z(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function tt(t){if(!O(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!O(n))throw"Expected object for 'customMetadata' mapping."}else if(N(n))throw"Mapping for '"+e+"' cannot be an object."}}function et(t){if(!O(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!D(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!P(t.pageToken))throw"Expected pageToken to be string."}}var nt=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function rt(t){if(!t)throw u()}function it(t,e){return function(n,r){var i=J(t,r,e);return rt(null!==i),i}}function ot(t){return function(e,n){var r;return(r=401===e.getStatus()?new s("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new s("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new s("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function lt(t){var e=ot(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new s("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function st(t,e,n){var r=K(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new nt(r,"GET",it(t,n),i);return o.errorHandler=lt(e),o}function at(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var l=K(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,a=new nt(l,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=z(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var l=o[i].replace(/\/$/,""),s=t.makeStorageReference(new H(e,l));r.prefixes.push(s)}if(n.items)for(var a=0,u=n.items;a<u.length;a++)s=t.makeStorageReference(new H(e,u[a].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return rt(null!==i),i}}(t,e.bucket),s);return a.urlParams=o,a.errorHandler=ot(e),a}function ut(t,e,n){var r=K(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new nt(r,"GET",function(t,e){return function(n,r){var i=J(t,r,e);return rt(null!==i),function(t,e){var n=z(e);if(null===n)return null;if(!P(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return K("/b/"+i(t.bucket)+"/o/"+i(n))+$({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=lt(e),o}function ct(t,e,n,r){var i=K(e.fullServerUrl()),o=Z(n,r),l=t.maxOperationRetryTime,s=new nt(i,"PATCH",it(t,r),l);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=lt(e),s}function ht(t,e){var n=K(e.fullServerUrl()),r=new nt(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=lt(e),r}function dt(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var ft=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function pt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){rt(!1)}return rt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var gt=function(){return function(t,e,n){if(k(t)||x(e)||x(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),mt=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function vt(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var l,a,u,c;if(!(r<=n.length&&n.length<=i))throw(l=r)===(a=i)?(u=l,c=1===l?"argument":"arguments"):(u="between "+l+" and "+a,c="arguments"),new s("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(h){throw h instanceof Error?f(o,t,h.message):f(o,t,h)}}var yt=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!A(e)||t(e)},this.optional=!!e}}();function _t(t,e){function n(t){if(!P(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new yt(r,e)}function bt(){return new yt((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||L()&&t instanceof Blob))throw"Expected Blob or File."}))}function wt(t){return new yt(tt,t)}function Ct(t){return new yt(et,t)}function Et(){return new yt((function(t){if(!(R(t)&&t>=0))throw"Expected a number 0 or greater."}))}function It(t,e){return new yt((function(e){if(!(null===e||x(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function Tt(t){return new yt((function(t){if(null!==t&&!k(t))throw"Expected a Function."}),t)}function St(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var xt=function(){function t(t,e,n,r,i,o){var l=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){l.request_=null,l.chunkMultiplier_=1,t.codeEquals("canceled")?(l.needToFetchStatus_=!0,l.completeTransitions_()):(l.error_=t,l.transition_("error"))},this.metadataErrorHandler_=function(t){l.request_=null,t.codeEquals("canceled")?l.completeTransitions_():(l.error_=t,l.transition_("error"))},this.promise_=new Promise((function(t,e){l.resolve_=t,l.reject_=e,l.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),l=dt(e,r,i),s={name:l.fullPath},a=K(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},c=Z(l,n),h=new nt(a,"POST",(function(t){var e;pt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){rt(!1)}return rt(P(e)),e}),t.maxUploadRetryTime);return h.urlParams=s,h.headers=u,h.body=c,h.errorHandler=ot(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new nt(n,"POST",(function(t){var e=pt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){rt(!1)}n||rt(!1);var i=Number(n);return rt(!isNaN(i)),new ft(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=ot(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new ft(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,l,a){var u=new ft(0,0);if(l?(u.current=l.current,u.total=l.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new s("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,d=c;i>0&&(d=Math.min(d,i));var f=u.current,p={"X-Goog-Upload-Command":d===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},g=r.slice(f,f+d);if(null===g)throw h();var m=new nt(n,"POST",(function(t,n){var i,l=pt(t,["active","final"]),s=u.current+d,a=r.size();return i="final"===l?it(e,o)(t,n):null,new ft(s,a,"final"===l,i)}),e.maxUploadRetryTime);return m.headers=p,m.body=g.uploadData(),m.progressCallback=a||null,m.errorHandler=ot(t),m}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_("error")}var l=t.service_.makeRequest(o,i);t.request_=l,l.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=st(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();l["Content-Type"]="multipart/related; boundary="+s;var a=dt(e,r,i),u=Z(a,n),c=B.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+s+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw h();var d={name:a.fullPath},f=K(o),p=t.maxUploadRetryTime,g=new nt(f,"POST",it(t,n),p);return g.urlParams=d,g.headers=l,g.body=c.uploadData(),g.errorHandler=ot(e),g}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=c(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=S(this.state_);return new mt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==I.STATE_CHANGED)throw"Expected one of the event types: ["+I.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",l=Tt(!0).validator,s=It(null,!0).validator;function a(t){try{return void l(t)}catch(e){}try{if(s(t),!(A(t.next)||A(t.error)||A(t.complete)))throw"";return}catch(e){throw o}}var u=[_t(i),It(a,!0),Tt(!0),Tt(!0)];vt("on",u,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&vt("on",t,arguments);var o=new gt(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function d(t){if(null===t)throw o;a(t)}var f=[It(d),Tt(!0),Tt(!0)],p=!(A(e)||A(n)||A(r));return p?h(f):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(S(this.state_)){case T.SUCCESS:St(this.resolve_.bind(null,this.snapshot))();break;case T.CANCELED:case T.ERROR:St(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(S(this.state_)){case T.RUNNING:case T.PAUSED:t.next&&St(t.next.bind(t,this.snapshot))();break;case T.SUCCESS:t.complete&&St(t.complete.bind(t))();break;case T.CANCELED:case T.ERROR:t.error&&St(t.error.bind(t,this.error_))();break;default:t.error&&St(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){vt("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){vt("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){vt("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),At=function(){function t(t,e){this.service=t,this.location=e instanceof H?e:H.makeFromUrl(e)}return t.prototype.toString=function(){return vt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(Y)return Y;var t=[];t.push(new X("bucket")),t.push(new X("generation")),t.push(new X("metageneration")),t.push(new X("name","fullPath",!0));var e=new X("name");e.xform=function(t,e){return function(t){return!P(t)||t.length<2?t:G(t)}(e)},t.push(e);var n=new X("size");return n.xform=function(t,e){return x(e)?Number(e):e},t.push(n),t.push(new X("timeCreated")),t.push(new X("updated")),t.push(new X("md5Hash",null,!0)),t.push(new X("cacheControl",null,!0)),t.push(new X("contentDisposition",null,!0)),t.push(new X("contentEncoding",null,!0)),t.push(new X("contentLanguage",null,!0)),t.push(new X("contentType",null,!0)),t.push(new X("metadata","customMetadata",!0)),Y=t}()},t.prototype.child=function(t){vt("child",[_t()],arguments);var e=W(this.location.path,t),n=new H(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new H(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new H(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return G(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),vt("put",[bt(),wt(!0)],arguments),this.throwIfRoot_("put"),new xt(this,this.service,this.location,this.mappings(),new B(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=v.RAW),vt("putString",[_t(),_t(y,!0),wt(!0)],arguments),this.throwIfRoot_("putString");var r=b(e,t),i=Object.assign({},n);return!x(i.contentType)&&x(r.contentType)&&(i.contentType=r.contentType),new xt(this,this.service,this.location,this.mappings(),new B(r.data,!0),i)},t.prototype.delete=function(){var t=this;return vt("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=ht(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){vt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){vt("list",[Ct(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=at(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return vt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=st(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return vt("updateMetadata",[wt()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=ct(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return vt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=ut(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw d();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new s("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),kt=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Ot=function(){function t(t,e,n,r,i,o,l,s,a,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=l,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=a,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,l=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(l,l.getResponseText());A(a)?i(a):i()}catch(h){o(h)}else null!==l?((r=u()).setServerResponseProp(l.getResponseText()),o(t.errorCallback_?t.errorCallback_(l,r):r)):o(r=n.canceled?t.appDelete_?p():c():new s("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Nt(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,l=null,s=!1,a=0;function u(){return 2===a}var c=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function d(e){l=setTimeout((function(){l=null,function(e,n){if(n)e(!1,new Nt(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===F.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var l=-1!==t.successCodes_.indexOf(o);e(!0,new Nt(l,n))}else{var s=n.getErrorCode()===F.ABORT;e(!1,new Nt(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)h.call.apply(h,Object(o.__spreadArrays)([null,t],e));else{var r,l=u()||s;l?h.call.apply(h,Object(o.__spreadArrays)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),d(r))}}var p=!1;function g(t){p||(p=!0,c||(null!==l?(t||(a=2),clearTimeout(l),d(0)):t||(a=1)))}return d(0),setTimeout((function(){s=!0,g(!0)}),r),g}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Nt=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}(),Pt=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?H.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new Dt(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:H.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new At(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new kt(p());var r=function(t,e,n,r){var o=$(t.urlParams),l=t.url+o,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==i.a?i.a.SDK_VERSION:"AppManager")}(s),new Ot(l,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(vt("ref",[_t(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new At(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{H.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return vt("refFromURL",[_t(e,!1)],arguments),new At(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){vt("setMaxUploadRetryTime",[Et()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){vt("setMaxOperationRetryTime",[Et()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),Dt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function Rt(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Pt(n,r,new V,e)}function Mt(t){var e={TaskState:T,TaskEvent:I,StringFormat:v,Storage:Pt,Reference:At};t.INTERNAL.registerComponent(new l.Component("storage",Rt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.43")}Mt(i.a)},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C"),i=n("mrSG"),o=n("zVF4"),l=n("q/0M"),s=n("S+S0");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,c=a(r),h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),o.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:o.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return o.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new d},p=f("localStorage"),g=f("sessionStorage"),m=new l.Logger("@firebase/database"),v=(u=1,function(){return u++}),y=function(t){var e=o.stringToByteArray(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=_.apply(null,i):n+="object"==typeof i?o.stringify(i):i,n+=" "}return n},b=null,w=!0,C=function(t,e){o.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=l.LogLevel.VERBOSE,b=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,g.remove("logging_enabled"))},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===b&&!0===g.get("logging_enabled")&&C(!0)),b){var n=_.apply(null,t);b(n)}},I=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];E.apply(void 0,i.__spread([t],e))}},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,i.__spread(t));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,i.__spread(t));throw m.error(n),new Error(n)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,i.__spread(t));m.warn(n)},A=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",O="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===k||e===O)return-1;if(e===k||t===O)return 1;var n=Q(t),r=Q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+o.stringify(e))},R=function(t){if("object"!=typeof t||null===t)return o.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=o.stringify(e[i]),r+=":",r+=R(t[e[i]]);return r+"}"},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F,U,V,j,q,B,H,z,W,G,K=function(t){var e,n,r,i,l;o.assert(!A(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(l=52;l;l-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(l=11;l;l-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(""),u="";for(l=0;l<64;l+=8){var c=parseInt(a.substr(l,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},$=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(t){if($.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},X=function(t){try{t()}catch(e){setTimeout((function(){throw x("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=o.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=o.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt=function(){function t(t,e,n,r,i,o,l){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===l&&(l=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(o.assert("string"==typeof t,"typeof type must == string"),o.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return L(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t,e){var n=nt(t),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new J(n.pathString)}},nt=function(t){var e="",n="",r="",o="",l="",s=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=i.__values(t.split("&")),l=o.next();!l.done;l=o.next()){var s=l.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):x("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),l=r}"ns"in f&&(l=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:o,namespace:l}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},lt=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!A(t)||t&&"object"==typeof t&&o.contains(t,".sv")},at=function(t,e,n,r,i){i&&void 0===n||ut(o.errorPrefix(t,e,i),n,r)},ut=function(t,e,n){var r=n instanceof J?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(A(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&o.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,l=!1;if(L(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(l=!0,!ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ut(t,n,r),r.pop()})),i&&l)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,r,i){if(!i||void 0!==n){var l=o.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(l+" must be an object containing the children to replace.");var s=[];L(n,(function(t,e){var n=new J(t);if(ut(l,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(l+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(J.comparePaths);var l=null;for(n=0;n<e.length;n++){if(r=e[n],null!==l&&l.contains(r))throw new Error(t+"contains a path "+l.toString()+" that is ancestor of another path "+r.toString());l=r}}(l,s)}},ht=function(t,e,n,r){if(!r||void 0!==n){if(A(n))throw new Error(o.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(o.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ft=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pt=function(t,e,n,r){if(!(r&&void 0===n||lt(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pt(t,e,n,r)},mt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lt(t)}(r))throw new Error(o.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(o.errorPrefix(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),o.validateCallback("OnDisconnect.set",2,e,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),mt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),o.validateCallback("OnDisconnect.update",2,e,!0);var i=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),bt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(F="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",U=0,V=[],function(t){var e,n=t===U;U=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=F.charAt(t%64),t=Math.floor(t/64);o.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===V[e];e--)V[e]=0;V[e]++}else for(e=0;e<12;e++)V[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=F.charAt(V[e]);return o.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ct=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ct(k,t),r=new Ct(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ct.MIN},t}(),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(O,j)},e.prototype.makePost=function(t,e){return o.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ct(t,j)},e.prototype.toString=function(){return".key"},e}(Et),Tt=new It,St=function(t){return"number"==typeof t?"number:"+K(t):"string:"+t},xt=function(t){if(t.isLeafNode()){var e=t.val();o.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&o.contains(e,".sv"),"Priority must be a string or number.")}else o.assert(t===q||t.isEmpty(),"priority of unexpected type.");o.assert(t===q||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},At=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,o.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return B},set:function(t){B=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(o.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?K(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(o.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),l=t.VALUE_TYPE_ORDER.indexOf(r);return o.assert(i>=0,"Unknown leaf type: "+n),o.assert(l>=0,"Unknown leaf type: "+r),i===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(O,new At("[PRIORITY-POST]",z))},e.prototype.makePost=function(t,e){var n=H(t);return new Ct(e,new At("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),Ot=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Dt.EMPTY_NODE,this.right=null!=o?o:Dt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Dt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Dt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Pt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Nt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Dt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Pt,t}(),Rt=Math.log(2),Mt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Rt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,l,s=r-e;if(0===s)return null;if(1===s)return o=t[e],l=n?n(o):o,new Nt(l,o.node,Nt.BLACK,null,null);var a=parseInt(s/2,10)+e,u=i(e,a),c=i(a+1,r);return o=t[a],l=n?n(o):o,new Nt(l,o.node,Nt.BLACK,u,c)},o=function(e){for(var r=null,o=null,l=t.length,s=function(e,r){var o=l-e,s=l;l-=e;var u=i(o+1,s),c=t[o],h=n?n(c):c;a(new Nt(h,c.node,r,null,u))},a=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?s(h,Nt.BLACK):(s(h,Nt.BLACK),s(h,Nt.RED))}return o}(new Mt(t.length));return new Dt(r||e,o)},Ft={},Ut=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return o.assert(Ft&&kt,"ChildrenNode.ts has not been loaded"),W=W||new t({".priority":Ft},{".priority":kt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=o.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Dt?e:null},t.prototype.hasIndex=function(t){return o.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){o.assert(e!==Tt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,l=[],s=!1,a=n.getIterator(Ct.Wrap),u=a.getNext();u;)s=s||e.isDefinedOn(u.node),l.push(u),u=a.getNext();r=s?Lt(l,e.getCompare()):Ft;var c=e.toString(),h=i.__assign({},this.indexSet_);h[c]=e;var d=i.__assign({},this.indexes_);return d[c]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(o.map(this.indexes_,(function(t,i){var l=o.safeGet(r.indexSet_,i);if(o.assert(l,"Missing index implementation for "+i),t===Ft){if(l.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(Ct.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),Lt(s,l.getCompare())}return Ft}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Ct(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(o.map(this.indexes_,(function(t){if(t===Ft)return t;var r=n.get(e.name);return r?t.remove(new Ct(e.name,r)):t})),this.indexSet_)},t}();function Vt(t,e){return N(t.name,e.name)}function jt(t,e){return N(t,e)}var qt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&xt(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return G||(G=new t(new Dt(jt),null,Ut.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||G},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?G:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ct(e,n),i=void 0,l=void 0;n.isEmpty()?(i=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?G:this.priorityNode_;return new t(i,s,l)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;o.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(kt,(function(l,s){n[l]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1})),!e&&o&&i<2*r){var l=[];for(var s in n)l[s]=n[s];return l}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(kt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ct(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bt?-1:0},t.prototype.withIndex=function(e){if(e===Tt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Tt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(kt),r=e.getIterator(kt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Tt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Bt=new(function(t){function e(){return t.call(this,new Dt(jt),qt.EMPTY_NODE,Ut.Default)||this}return i.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return qt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(qt));function Ht(t,e){if(void 0===e&&(e=null),null===t)return qt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),o.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new At(t,Ht(e));if(t instanceof Array){var n=qt.EMPTY_NODE;return L(t,(function(e,r){if(o.contains(t,e)&&"."!==e.substring(0,1)){var i=Ht(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Ht(e))}var r=[],i=!1;if(L(t,(function(t,e){if("."!==t.substring(0,1)){var n=Ht(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ct(t,n)))}})),0===r.length)return qt.EMPTY_NODE;var l=Lt(r,Vt,(function(t){return t.name}),jt);if(i){var s=Lt(r,kt.getCompare());return new qt(l,Ht(e),new Ut({".priority":s},{".priority":kt}))}return new qt(l,Ht(e),Ut.Default)}Object.defineProperties(Ct,{MIN:{value:new Ct(k,qt.EMPTY_NODE)},MAX:{value:new Ct(O,Bt)}}),It.__EMPTY_NODE=qt.EMPTY_NODE,At.__childrenNodeConstructor=qt,q=Bt,function(t){z=t}(Bt),function(t){H=t}(Ht);var zt,Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return Ct.MAX},e.prototype.makePost=function(t,e){var n=Ht(t);return new Ct(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),Gt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,o.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ht(t),r=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ct(e,r)},e.prototype.maxPost=function(){var t=qt.EMPTY_NODE.updateChild(this.indexPath_,Bt);return new Ct(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),pt("DataSnapshot.child",1,e,!1);var n=new J(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,kt)},t.prototype.hasChild=function(t){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pt("DataSnapshot.hasChild",1,t,!1);var e=new J(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),kt))}))},t.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),$t=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},t}(),Qt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new $t("value",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Yt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return o.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.createEvent=function(t,e){o.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new $t(t.type,this,new Kt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var l=r[0],s=i[0];return!(s!==l||e.callbacks_[l]&&this.callbacks_[s]&&e.callbacks_[l]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Jt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Tt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===kt){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(t.getIndex()instanceof Gt||t.getIndex()===Wt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){o.validateArgCount("Query.on",2,4,arguments.length),dt("Query.on",1,e,!1),o.validateCallback("Query.on",2,n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,l.cancel,l.context);else{var s={};s[e]=n,this.onChildEvent(s,l.cancel,l.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Yt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){o.validateArgCount("Query.off",0,3,arguments.length),dt("Query.off",1,t,!0),o.validateCallback("Query.off",2,e,!0),o.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var l=e||null;r=new Xt(l,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Yt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var l=this;o.validateArgCount("Query.once",1,4,arguments.length),dt("Query.once",1,e,!1),o.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=!0,u=new o.Deferred;u.promise.catch((function(){}));var c=function(t){a&&(a=!1,l.off(e,c),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,c,(function(t){l.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Gt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Wt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),ft("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),ft("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),ft("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=R(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),l=this.queryIdentifier()===e.queryIdentifier();return r&&i&&l},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,o.validateCallback(t,3,r.cancel,!0),r.context=n,o.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(o.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Zt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),te=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ee=function(t,e,n){return t&&"object"==typeof t?(o.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ne(t[".sv"],e,n):"object"==typeof t[".sv"]?re(t[".sv"],e):void o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ne=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:o.assert(!1,"Unexpected server value: "+t)}},re=function(t,e,n){t.hasOwnProperty("increment")||o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&o.assert(!1,"Unexpected increment value: "+r);var i=e.node();if(o.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var l=i.getValue();return"number"!=typeof l?r:l+r},ie=function(t,e,n,r){return le(e,new te(n,t),r)},oe=function(t,e,n){return le(t,new Zt(e),n)};function le(t,e,n){var r,i=t.getPriority().val(),o=ee(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var l=t,s=ee(l.getValue(),e,n);return s!==l.getValue()||o!==l.getPriority().val()?new At(s,Ht(o)):t}var a=t;return r=a,o!==a.getPriority().val()&&(r=r.updatePriority(new At(o))),a.forEachChild(kt,(function(t,i){var o=le(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var se,ae,ue=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(kt,(function(t,e){n.remember(new J(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new J(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ce=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),he=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,o.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),de=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ce.ACK_USER_WRITE,this.source=he.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(e));return new t(J.Empty,n,this.revert)}return o.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),fe=function(){function t(t,e){void 0===e&&(se||(se=new Dt(P)),e=se),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return L(e,(function(t,e){n=n.set(new J(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:J.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new J(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(J.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,J.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,J.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(J.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),pe=function(){function t(t,e){this.source=t,this.path=e,this.type=ce.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty):new t(this.source,this.path.popFront())},t}(),ge=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ce.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ce.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new ge(this.source,J.Empty,n.value):new t(this.source,J.Empty,n)}return o.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ve=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ve(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ve(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ve(qt.EMPTY_NODE,!1,!1),new ve(qt.EMPTY_NODE,!1,!1)),t}(),_e=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,l){o.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=l&&(n.isEmpty()?t.hasChild(e)?l.trackChildChange(_e.childRemovedChange(e,s)):o.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?l.trackChildChange(_e.childAddedChange(e,n)):l.trackChildChange(_e.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(kt,(function(t,r){e.hasChild(t)||n.trackChildChange(_e.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(kt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e.childChangedChange(e,r,i))}else n.trackChildChange(_e.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?qt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),we=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;o.assert(e===_e.CHILD_ADDED||e===_e.CHILD_CHANGED||e===_e.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===_e.CHILD_ADDED&&i===_e.CHILD_REMOVED)this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_ADDED)this.changeMap.delete(n);else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_CHANGED)this.changeMap.set(n,_e.childRemovedChange(n,r.oldSnap));else if(e===_e.CHILD_CHANGED&&i===_e.CHILD_ADDED)this.changeMap.set(n,_e.childAddedChange(n,t.snapshotNode));else{if(e!==_e.CHILD_CHANGED||i!==_e.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ce=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ee=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ve(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ie=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Te=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){o.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var l,s,a=new we;if(n.type===ce.OVERWRITE){var u=n;u.source.fromUser?l=this.applyUserOverwrite_(e,u.path,u.snap,r,i,a):(o.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),l=this.applyServerOverwrite_(e,u.path,u.snap,r,i,s,a))}else if(n.type===ce.MERGE){var c=n;c.source.fromUser?l=this.applyUserMerge_(e,c.path,c.children,r,i,a):(o.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),l=this.applyServerMerge_(e,c.path,c.children,r,i,s,a))}else if(n.type===ce.ACK_USER_WRITE){var h=n;l=h.revert?this.revertUserWrite_(e,h.path,r,i,a):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,a)}else{if(n.type!==ce.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);l=this.listenComplete_(e,n.path,r,a)}var d=a.getChanges();return t.maybeAddValueEvent_(e,l,d),new Ie(l,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_e.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var l=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(o.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof qt?u:qt.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"===d){o.assert(1===e.getLength(),"Can't have a priority with additional path components");var f=l.getNode();a=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,a);s=null!=p?this.filter_.updatePriority(f,p):l.getNode()}else{var g=e.popFront(),m=void 0;if(l.isCompleteForChild(d)){a=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,l.getNode(),a);m=null!=v?l.getNode().getImmediateChild(d).updateChild(g,v):l.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());s=null!=m?this.filter_.updateChild(l.getNode(),d,m,g,r,i):l.getNode()}}return t.updateEventSnap(s,l.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,l){var s,a=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=u.updateFullNode(a.getNode(),n,null);else if(u.filtersNodes()&&!a.isFiltered()){var c=a.getNode().updateChild(e,n);s=u.updateFullNode(a.getNode(),c,null)}else{var h=e.getFront();if(!a.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=a.getNode().getImmediateChild(h).updateChild(d,n);s=".priority"===h?u.updatePriority(a.getNode(),f):u.updateChild(a.getNode(),h,f,d,Ce,null)}var p=t.updateServerSnap(s,a.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),g=new Ee(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,g,l)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var l,s,a=t.getEventCache(),u=new Ee(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),l=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),l=t.updateEventSnap(s,a.isFullyInitialized(),a.isFiltered());else{var h=e.popFront(),d=a.getNode().getImmediateChild(c),f=void 0;if(h.isEmpty())f=n;else{var p=u.getCompleteChild(c);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):qt.EMPTY_NODE}if(d.equals(f))l=t;else{var g=this.filter_.updateChild(a.getNode(),c,f,h,u,o);l=t.updateEventSnap(g,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,l){var s=this,a=e;return r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(a=s.applyUserOverwrite_(a,c,u,i,o,l))})),r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(a=s.applyUserOverwrite_(a,c,u,i,o,l))})),a},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,l){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var a,u=t;a=e.isEmpty()?n:fe.Empty.setTree(e,n);var c=t.getServerCache().getNode();return a.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var a=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(a,n);u=s.applyServerOverwrite_(u,new J(e),h,r,i,o,l)}})),a.children.inorderTraversal((function(e,n){var a=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!a){var h=t.getServerCache().getNode().getImmediateChild(e),d=s.applyMerge_(h,n);u=s.applyServerOverwrite_(u,new J(e),d,r,i,o,l)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var l=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,l,o);if(e.isEmpty()){var a=fe.Empty;return s.getNode().forEachChild(Tt,(function(t,e){a=a.set(new J(t),e)})),this.applyServerMerge_(t,e,a,r,i,l,o)}return t}var u=fe.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(u=u.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,l,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ce,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var l;if(null!=n.shadowingWrite(e))return t;var s=new Ee(n,t,r),a=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();o.assert(h instanceof qt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(a,c=c,i)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=a.getImmediateChild(d)),(u=null!=f?this.filter_.updateChild(a,d,f,e.popFront(),s,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(a,d,qt.EMPTY_NODE,e.popFront(),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(l=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,l,i))}return l=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),t.updateEventSnap(u,l,this.filter_.filtersNodes())},t}(),Se=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===_e.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(_e.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,_e.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,_e.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,_e.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,_e.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,_e.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,l=n.filter((function(t){return t.type===e}));l.sort(this.compareChanges_.bind(this)),l.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw o.assertionError("Should only compare child_ events.");var n=new Ct(t.childName,t.snapshotNode),r=new Ct(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),xe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new be(n.getIndex()),i=n.getNodeFilter();this.processor_=new Te(i);var o=e.getServerCache(),l=e.getEventCache(),s=r.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),a=i.updateFullNode(qt.EMPTY_NODE,l.getNode(),null),u=new ve(s,o.isFullyInitialized(),r.filtersNodes()),c=new ve(a,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ye(c,u),this.eventGenerator_=new Se(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){o.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],l=0;l<this.eventRegistrations_.length;++l){var s=this.eventRegistrations_[l];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(l+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ce.MERGE&&null!==t.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),o.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(kt,(function(t,e){n.push(_e.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(_e.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ae=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(ae,"Reference.ts has not been loaded"),ae},set:function(t){o.assert(!ae,"__referenceConstructor has already been defined"),ae=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,l,s=t.source.queryId;if(null!==s){var a=this.views.get(s);return o.assert(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var u=[];try{for(var c=i.__values(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((a=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(l=c.return)&&l.call(c)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),l=this.views.get(o);if(!l){var s=n.calcCompleteEventCache(i?r:null),a=!1;s?a=!0:r instanceof qt?(s=n.calcCompleteEventChildren(r),a=!1):(s=qt.EMPTY_NODE,a=!1);var u=new ye(new ve(s,a,!1),new ve(r,i,!1));l=new xe(t,u),this.views.set(o,l)}return l.addEventRegistration(e),l.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,l,s=e.queryIdentifier(),a=[],u=[],c=this.hasCompleteView();if("default"===s)try{for(var h=i.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var f,p=i.__read(d.value,2),g=p[0];u=u.concat((f=p[1]).removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(g),f.getQuery().getQueryParams().loadsAllData()||a.push(f.getQuery()))}}catch(m){o={error:m}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}else(f=this.views.get(s))&&(u=u.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(s),f.getQuery().getQueryParams().loadsAllData()||a.push(f.getQuery())));return c&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=i.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var l=o.value;l.getQuery().getQueryParams().loadsAllData()||n.push(l)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=i.__values(this.views.values()),l=o.next();!l.done;l=o.next())r=r||l.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=i.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(l){t={error:l}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),ke=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new fe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,l=J.relativePath(i,e);return o=o.updateChild(l,n),new t(this.writeTree_.set(i,o))}var s=new fe(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return L(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,fe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(J.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(kt,(function(e,n){t.push(new Ct(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ct(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new fe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,l){".priority"===n?(o.assert(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):r=t(e.child(n),l,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(J.Empty,this.writeTree_,t)},t.Empty=new t(new fe(null)),t}(),Oe=function(){function t(){this.visibleWrites_=ke.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ne(t,this)},t.prototype.addOverwrite=function(t,e,n,r){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));o.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,l=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(l=!0)),s--}return!!i&&(l?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):L(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(J.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||qt.EMPTY_NODE):null}var l=this.visibleWrites_.getCompleteNode(e);if(null!=l)return l;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(J.Empty)?s.apply(n||qt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=qt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(kt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(kt,(function(t,e){var r=i.childCompoundWrite(new J(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){o.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var l=this.visibleWrites_.childCompoundWrite(i);return l.isEmpty()?r.getChild(e):l.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var l,s=this.visibleWrites_.childCompoundWrite(t),a=s.getCompleteNode(J.Empty);if(null!=a)l=a;else{if(null==e)return[];l=s.apply(e)}if((l=l.withIndex(o)).isEmpty()||l.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?l.getReverseIteratorFrom(n,o):l.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=ke.Empty,i=0;i<t.length;++i){var l=t[i];if(e(l)){var s=l.path,a=void 0;if(l.snap)n.contains(s)?(a=J.relativePath(n,s),r=r.addWrite(a,l.snap)):s.contains(n)&&(a=J.relativePath(s,n),r=r.addWrite(J.Empty,l.snap.getChild(a)));else{if(!l.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))a=J.relativePath(n,s),r=r.addWrites(a,l.children);else if(s.contains(n))if((a=J.relativePath(s,n)).isEmpty())r=r.addWrites(J.Empty,l.children);else{var u=o.safeGet(l.children,a.getFront());if(u){var c=u.getChild(a.popFront());r=r.addWrite(J.Empty,c)}}}}}return r},t}(),Ne=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Pe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=fe.Empty,this.pendingWriteTree_=new Oe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ge(he.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=fe.fromObject(e);return this.applyOperationToSyncPoints_(new me(he.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=fe.Empty;return null!=n.snap?r=r.set(J.Empty,!0):L(n.children,(function(t,e){r=r.set(new J(t),e)})),this.applyOperationToSyncPoints_(new de(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ge(he.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=fe.fromObject(e);return this.applyOperationToSyncPoints_(new me(he.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new pe(he.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),l=o.path,s=o.queryId,a=J.relativePath(l,e),u=new ge(he.forServerTaggedQuery(s),a,n);return this.applyTaggedOperation_(l,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),l=o.path,s=o.queryId,a=J.relativePath(l,e),u=fe.fromObject(n),c=new me(he.forServerTaggedQuery(s),a,u);return this.applyTaggedOperation_(l,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,l=i.queryId,s=J.relativePath(o,e),a=new pe(he.forServerTaggedQuery(l),s);return this.applyTaggedOperation_(o,a)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,l=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=J.relativePath(t,r);i=i||e.getCompleteServerCache(n),l=l||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);a?(l=l||a.hasCompleteView(),i=i||a.getCompleteServerCache(J.Empty)):(a=new Ae,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i?s=!0:(s=!1,i=qt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(J.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);o.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(e,n,d,i,s);if(!u&&!l){var p=a.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,l=this.syncPointTree_.get(o),s=[];if(l&&("default"===e.queryIdentifier()||l.viewExistsForQuery(e))){var a=l.removeEventRegistration(e,n,r);l.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=a.removed;s=a.events;var c=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var g=f[p],m=g.getQuery(),v=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),v.hashFn,v.onComplete)}}!h&&u.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=J.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),L(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),l=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,l.hashFn,l.onComplete),a=this.syncPointTree_.subtree(r);if(i)o.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),L(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||qt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return o.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);o.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(J.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(J.Empty));var o=[],l=t.path.getFront(),s=t.operationForChild(l),a=e.children.get(l);if(a&&s){var u=n?n.getImmediateChild(l):null,c=r.child(l);o=o.concat(this.applyOperationHelper_(s,a,u,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(J.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(J.Empty));var l=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,a=r.child(e),u=t.operationForChild(e);u&&(l=l.concat(i.applyOperationDescendantsHelper_(u,o,s,a)))})),o&&(l=l.concat(o.applyOperation(t,r,n))),l},t.nextQueryTag_=1,t}(),De=function(){function t(){this.rootNode_=qt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Re=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),o.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return o.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Re),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=i.__assign({},t);return this.last_&&L(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=1e4+2e4*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,(function(e,i){i>0&&o.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ue=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();b&&E("event: "+e.toString()),X(n)}}},t.prototype.getPath=function(){return this.path_},t}(),je=function(){function t(t){this.allowedEvents_=t,this.listeners_={},o.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=i.__spread(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){o.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),qe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(je),Be=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(je),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&X((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),ze=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(o.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new We((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,5),o=r[0],l=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=l,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);l?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(l,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,2),o=r[0],l=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,l)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(o.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=o.base64Encode(e),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=o.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),We=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(l='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){E("frame writing exception"),a.stack&&E(a.stack),E(a)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||E("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;o.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){E("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ge="",Ke=null;"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var $e=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!o.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Ge+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,l=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;l&&(r.proxy={origin:l}),this.mySock=new Ke(this.connURL,[],r)}else this.mySock=new Ke(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(a){this.log_("Error instantiating WebSocket.");var s=a.message||a.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=o.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(o.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=M(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Qe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ze,$e]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=$e&&$e.isAvailable(),l=o&&!$e.previouslyFailed();if(e.webSocketOnly&&(o||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[$e];else{var s=this.transports_=[];try{for(var a=i.__values(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Xe=function(){function t(t,e,n,r,i,o,l,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new Qe(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?T("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ye=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=function(t){function e(n,r,i,l,s,a,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=l,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=I("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),qe.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Be.getInstance().on("online",c.onOnline_,c),c}return i.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_(o.stringify(i)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),l=t.path.toString();this.log_("Listen called for "+l+" "+i),this.listens.has(l)||this.listens.set(l,new Map),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens.get(l).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(l).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var l={p:i};t.tag&&(l.q=r.queryObject(),l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,(function(l){var s=l.d,a=l.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",l),"ok"!==a&&n.removeListen_(i,o),t.onComplete&&t.onComplete(a,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&o.contains(t,"w")){var n=o.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||o.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=o.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+o.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):T("Unrecognized action received from server: "+o.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+e.nextConnectionId_++,s=this,a=this.lastSessionId,u=!1,c=null,h=function(){c?c.close():(u=!0,i())};this.realtime_={close:h,sendRequest:function(t){o.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then((function(t){u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,c=new Xe(l,s.repoInfo_,s.applicationId_,n,r,i,(function(t){x(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),a))})).then(null,(function(e){s.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&x(e),h())}))}},e.prototype.interrupt=function(t){E("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){E("Resuming connection for reason: "+t),delete this.interruptReasons_[t],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new J(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){E("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=i.__values(this.listens.values()),l=o.next();!l.done;l=o.next()){var s=l.value;try{for(var a=(n=void 0,i.__values(s.values())),u=a.next();!u.done;u=a.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{l&&!l.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";o.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ge.replace(/\./g,"-")]=1,o.isMobileCordova()?t["framework.cordova"]=1:o.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Be.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ye),Ze=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=I("p:rest:"),i.listens_={},i}return i.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(o.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var l=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&l.onDataUpdate_(s,n,!1,r),o.safeGet(l.listens_,a)===u&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var l=i&&i.accessToken;l&&(e.auth=l);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+o.querystring(e);r.log_("Sending REST request for "+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=o.jsonEval(a.responseText)}catch(e){x("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&x("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))},e}(Ye),tn=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ue,this.persistentConnection_=null,this.stats_=Me.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var l=n.options.databaseAuthVariableOverride;if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(l)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new Je(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,l),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new Fe(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new De,this.infoSyncTree_=new Pe({startListening:function(t,e,n,r){var o=[],l=i.infoData_.getNode(t.path);return l.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,l),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Pe({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new J(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var l=[];if(r)if(n){var s=o.map(e,(function(t){return Ht(t)}));l=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=Ht(e);l=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var u=o.map(e,(function(t){return Ht(t)}));l=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Ht(e);l=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;l.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,l)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;L(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new J("/.info/"+t),r=Ht(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),l=Ht(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),a=oe(l,s,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,a,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),l.val(!0),(function(e,n){var o="ok"===e;o||x("set at "+t+" failed: "+e);var l=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,l),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),l={};if(L(e,(function(e,n){i=!1,l[e]=ie(t.child(e),Ht(n),r.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),a=this.serverSyncTree_.applyUserMerge(t,l,s);this.eventQueue_.queueEvents(a),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||x("update at "+t+" failed: "+e);var l=r.serverSyncTree_.ackUserWrite(s,!o),a=l.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(a,l),r.callOnCompleteCallback(n,e,i)})),L(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ue;this.onDisconnect_.forEachTree(J.Empty,(function(r,i){var o=ie(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(J.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new ue,this.eventQueue_.raiseEventsForChangedPath(J.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Ht(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Ht(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(o.isEmpty(e))return E("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&L(e,(function(e,n){var i=Ht(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);L(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),E.apply(void 0,i.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&X((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new fn(this))},enumerable:!1,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ct(e,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=qt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(qt.EMPTY_NODE);var i=this;return e.forEachChild(kt,(function(t,e){i.matches(new Ct(t,e))||(r=r.updateImmediateChild(t,qt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ct(e,n))||(n=qt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=qt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var l=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:this.index_.compare(l,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(l.name,l.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(qt.EMPTY_NODE);var s=void 0,a=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)l=i.getNext(),!h&&u(s,l)<=0&&(h=!0),h&&o<this.limit_&&u(l,a)<=0?o++:r=r.updateImmediateChild(l.name,qt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var l;if(this.reverse_){var s=this.index_.getCompare();l=function(t,e){return s(e,t)}}else l=this.index_.getCompare();var a=t;o.assert(a.numChildren()===this.limit_,"");var u=new Ct(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var d=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:l(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_e.childChangedChange(e,n,d)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(_e.childRemovedChange(e,d));var g=a.updateImmediateChild(e,qt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(_e.childAddedChange(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&l(c,u)>=0?(null!=i&&(i.trackChildChange(_e.childRemovedChange(c.name,c.node)),i.trackChildChange(_e.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,qt.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==kt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===kt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new be(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===kt?e=n.PRIORITY_INDEX:this.index_===Wt?e=n.VALUE_INDEX:this.index_===Tt?e=n.KEY_INDEX:(o.assert(this.index_ instanceof Gt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=o.stringify(e),this.startSet_&&(r[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return i.__extends(e,t),e.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof J||(null===this.path.getFront()?gt("Reference.child",1,t,!1):pt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){o.validateArgCount("Reference.set",1,2,arguments.length),mt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),o.validateCallback("Reference.set",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(o.validateArgCount("Reference.update",1,2,arguments.length),mt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),o.validateCallback("Reference.update",2,e,!0);var i=new o.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return o.validateArgCount("Reference.remove",0,1,arguments.length),mt("Reference.remove",this.path),o.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),mt("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,t,!1),o.validateCallback("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new bt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){o.validateArgCount("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),o.validateCallback("Reference.setPriority",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){o.validateArgCount("Reference.push",0,2,arguments.length),mt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),o.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=wt(r),l=this.child(i),s=this.child(i);return n=null!=t?l.set(t,e).then((function(){return s})):Promise.resolve(s),l.then=n.then.bind(n),l.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),l},e.prototype.onDisconnect=function(){return mt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Jt);Jt.__referenceConstructor=on,Ae.__referenceConstructor=on;var ln=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),sn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new ln),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof J?e:new J(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,o.safeGet(r.node_.children,i)||new ln),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){o.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;L(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=o.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),an=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new sn},tn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},l=new on(this,t);l.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){l.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Kt(s.currentInputSnapshot,new on(this,s.path),kt);s.onComplete(null,!1,c)}}else{ut("transaction failed: Data returned ",u,s.path),s.status=an.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(s),h.setValue(d);var f=void 0;"object"==typeof u&&null!==u&&o.contains(u,".priority")?(f=o.safeGet(u,".priority"),o.assert(st(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||qt.EMPTY_NODE).getPriority().val(),f=f;var p=this.generateServerValues(),g=Ht(u,f),m=oe(g,a,p);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,m,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||qt.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);o.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===an.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),l=i,s=i.hash(),a=0;a<e.length;a++){var u=e[a];o.assert(u.status===an.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=an.SENT,u.retryCount++;var c=J.relativePath(t,u.path);l=l.updateChild(c,u.currentOutputSnapshotRaw)}var h=l.val(!0),d=t;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],l=0;l<e.length;l++){if(e[l].status=an.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[l].currentWriteId)),e[l].onComplete){var s=e[l].currentOutputSnapshotResolved,a=new on(n,e[l].path),u=new Kt(s,a,kt);o.push(e[l].onComplete.bind(null,null,!0,u))}e[l].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),l=0;l<o.length;l++)X(o[l])}else{if("datastale"===r)for(l=0;l<e.length;l++)e[l].status=e[l].status===an.SENT_NEEDS_ABORT?an.NEEDS_ABORT:an.RUN;else for(x("transaction at "+d.toString()+" failed: "+r),l=0;l<e.length;l++)e[l].status=an.NEEDS_ABORT,e[l].abortReason=r;n.rerunTransactions_(t)}}),s)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===an.RUN})).map((function(t){return t.currentWriteId})),l=0;l<t.length;l++){var s=t[l],a=J.relativePath(e,s.path),u=!1,c=void 0;if(o.assert(null!==a,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===an.NEEDS_ABORT)u=!0,c=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===an.RUN)if(s.retryCount>=tn.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var d=t[l].update(h.val());if(void 0!==d){ut("transaction failed: Data returned ",d,s.path);var f=Ht(d);"object"==typeof d&&null!=d&&o.contains(d,".priority")||(f=f.updatePriority(h.getPriority()));var p=s.currentWriteId,g=this.generateServerValues(),m=oe(f,h,g);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else u=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[l].status=an.COMPLETED,setTimeout(t[l].unwatcher,Math.floor(0)),t[l].onComplete))if("nodata"===c){var v=new on(this,t[l].path),y=new Kt(t[l].currentInputSnapshot,v,kt);n.push(t[l].onComplete.bind(null,null,!1,y))}else n.push(t[l].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),l=0;l<n.length;l++)X(n[l]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==an.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,l=0;l<e.length;l++)e[l].status===an.SENT_NEEDS_ABORT||(e[l].status===an.SENT?(o.assert(i===l-1,"All SENT items should be at beginning of queue."),i=l,e[l].status=an.SENT_NEEDS_ABORT,e[l].abortReason="set"):(o.assert(e[l].status===an.RUN,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[l].currentWriteId,!0)),e[l].onComplete&&n.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),l=0;l<n.length;l++)X(n[l])}};var un,cn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';x(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),hn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),dn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return un||(un=new t),un},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),l=o.next();!l.done;l=o.next()){var s=l.value;try{for(var a=(n=void 0,i.__values(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next())this.repos_[s][u.value].interrupt()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),l=o.next();!l.done;l=o.next()){var s=l.value;try{for(var a=(n=void 0,i.__values(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next())this.repos_[s][u.value].resume()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,l=et(i,r),s=l.repoInfo,a=void 0;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=(l=et(i="http://"+a+"?ns="+s.namespace,r)).repoInfo):o=!l.repoInfo.secure;var u=r&&o?new hn:new cn(t,e);return vt("Invalid Firebase Database URL",1,l),l.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,u).database},t.prototype.deleteRepo=function(t){var e=o.safeGet(this.repos_,t.app.name);e&&o.safeGet(e,t.repoInfo_.toURLString())===t||S("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=o.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=o.safeGet(r,t.toURLString());return i&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new tn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),fn=function(){function t(t){this.repo_=t,t instanceof tn||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,J.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),o.validateArgCount(e,1,1,arguments.length);var n=et(t,this.repo_.repoInfo_.nodeAdmin);vt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&S(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&S("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),pn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.database.checkDeleted_("delete"),dn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),gn=Object.freeze({__proto__:null,forceLongPolling:function(){$e.forceDisallow(),ze.forceAllow()},forceWebSockets:function(){ze.forceDisallow()},isWebSocketsAvailable:function(){return $e.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),mn=Je;Je.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Je.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var vn=Object.freeze({__proto__:null,DataConnection:mn,RealTimeConnection:Xe,hijackHash:function(t){var e=Je.prototype.put;return Je.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Je.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){dn.getInstance().forceRestClient(t)}}),yn=fn.ServerValue;function _n(e){Ge=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new s.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return dn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:on,Query:Jt,Database:fn,DataSnapshot:Kt,enableLogging:C,INTERNAL:gn,ServerValue:yn,TEST_ACCESS:vn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.13"),o.isNodeSdk()&&(t.exports=n)}_n(c.default),e.DataSnapshot=Kt,e.Database=fn,e.OnDisconnect=_t,e.Query=Jt,e.Reference=on,e.ServerValue=yn,e.enableLogging=C,e.registerDatabase=_n},O1kn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C");n("fSjL");var i=n("mrSG"),o=n("zVF4"),l=n("q/0M"),s=n("S+S0");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,c=a(r),h=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,l;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=i.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return o=i.sent(),l=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&l.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(l)];case 3:return i.sent(),[2,o]}}))}))},t}(),d=((u={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",u["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",u["registration-api-key"]="Undefined API key. Check Firebase app initialization.",u["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",u["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',u["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',u["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u),f=new o.ErrorFactory("remoteconfig","Remote Config",d),p=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,l,s,a,u,c,h,d,p,g,m,v,y;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=i.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,o={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},l={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(o)},s=fetch(r,l),a=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return i.sent(),[4,s];case 4:return u=i.sent(),[3,6];case 5:throw c=i.sent(),h="fetch-client-network","AbortError"===c.name&&(h="fetch-timeout"),f.create(h,{originalErrorMessage:c.message});case 6:if(d=u.status,p=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,i.label=7;case 7:return i.trys.push([7,9,,10]),[4,u.json()];case 8:return v=i.sent(),[3,10];case 9:throw y=i.sent(),f.create("fetch-client-parse",{originalErrorMessage:y.message});case 10:g=v.entries,m=v.state,i.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?d=500:"NO_CHANGE"===m?d=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==d&&200!==d)throw f.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:p,config:g}]}var _}))}))},t}(),g=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),m=["1","true","t","yes","y","on"],v=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&m.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),y=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=l.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=l.LogLevel.SILENT;break;default:this._logger.logLevel=l.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r=this;return i.__generator(this,(function(l){switch(l.label){case 0:t=new g,setTimeout((function(){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),l.label=1;case 1:return l.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return l.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return l.sent(),[3,6];case 4:return e=l.sent(),n=(s=e)instanceof o.FirebaseError&&-1!==s.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw l.sent(),e;case 6:return[2]}var s}))}))},t.prototype.fetchAndActivate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(i.__assign(i.__assign({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new v("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new v("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new v("static"))},t}();function _(t,e){var n=t.target.error||void 0;return f.create(e,{originalErrorMessage:n&&n.message})}var b=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(_(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),l=n.createCompositeKey(t);try{var s=o.get(l);s.onerror=function(t){i(_(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(a){i(f.create("storage-get",{originalErrorMessage:a&&a.message}))}}))]}}))}))},t.prototype.set=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var l=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var a=l.put({compositeKey:s,value:e});a.onerror=function(t){o(_(t,"storage-set"))},a.onsuccess=function(){i()}}catch(u){o(f.create("storage-set",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.delete=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),l=n.createCompositeKey(t);try{var s=o.delete(l);s.onerror=function(t){i(_(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(a){i(f.create("storage-delete",{originalErrorMessage:a&&a.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),w=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,l;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=i.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(o=i.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(l=i.sent())&&(this.activeConfig=l),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function C(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(f.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var E=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return i.__awaiter(this,void 0,void 0,(function(){var e,l,s;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,C(t.signal,n)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=i.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return i.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof o.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(l=i.sent()))throw l;return s={throttleEndTimeMillis:Date.now()+o.calculateBackoffMillis(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(s)];case 6:return i.sent(),[2,this.attemptFetch(t,s)];case 7:return[2]}}))}))},t}(),I="@firebase/remote-config";function T(t){t.INTERNAL.registerComponent(new s.Component("remoteConfig",(function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw f.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw f.create("registration-project-id");if(!a)throw f.create("registration-api-key");if(!u)throw f.create("registration-app-id");var c=new b(u,r.name,n=n||"firebase"),d=new w(c),g=new l.Logger(I);g.logLevel=l.LogLevel.ERROR;var m=new p(i,t.SDK_VERSION,n,s,a,u),v=new E(m,c),_=new h(v,c,d,g),C=new y(r,_,d,c,g);return C.ensureInitialized(),C}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(I,"0.1.28")}T(c.default),e.registerRemoteConfig=T},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(l){if(n)return null;throw l}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var l=r.__read(o.value,2),s=l[1],a=this.normalizeInstanceIdentifier(l[0]);try{var u=this.getOrInitializeService(a);s.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=l},Wcq6:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n("wj3C"));i.default.registerVersion("firebase","7.24.0","app"),t.exports=i.default},bQlE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C");n("fSjL");var i=n("mrSG"),o=n("zVF4"),l=n("q/0M"),s=n("S+S0");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,c,h,d=a(r),f=((u={})["trace started"]="Trace {$traceName} was started before.",u["trace stopped"]="Trace {$traceName} is not running.",u["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",u["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",u["no window"]="Window is not available.",u["no app id"]="App id is not available.",u["no project id"]="Project id is not available.",u["no api key"]="Api key is not available.",u["invalid cc log"]="Attempted to queue invalid cc event",u["FB not default"]="Performance can only start when Firebase app instance is the default one.",u["RC response not ok"]="RC response is not ok",u["invalid attribute name"]="Attribute name {$attributeName} is invalid.",u["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",u["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",u["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",u),p=new o.ErrorFactory("performance","Performance",f),g=new l.Logger("Performance");g.logLevel=l.LogLevel.INFO;var m,v=function(){function t(t){if(this.window=t,!t)throw p.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!o.isIndexedDBAvailable()||(g.info("IndexedDB is not supported by current browswer"),!1):(g.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===c&&(c=new t(h)),c},t}();function y(t,e){var n=t.length-e.length;if(n<0||n>1)throw p.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var _,b=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=y("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=y("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw p.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw p.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw p.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===m&&(m=new t),m},t}();function w(){return _}var C=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),E=["firebase_","google_","ga_"],I=new RegExp("^[a-zA-Z]\\w*$");function T(){var t=v.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function S(){switch(v.getInstance().document.visibilityState){case"visible":return C.VISIBLE;case"hidden":return C.HIDDEN;default:return C.UNKNOWN}}function x(){var t=v.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function A(t){if(!t)return t;var e=b.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=k(e.tracesSamplingRate),e.logNetworkAfterSampling=k(e.networkRequestsSamplingRate),t}function k(t){return Math.random()<=t}var O,N=1;function P(){return N=2,O=O||function(){var t=v.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=b.getInstance().installationsService.getId()).then((function(t){_=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=v.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(u){return}}}}();return e?(A(e),Promise.resolve()):function(t){return(e=b.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+b.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+b.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:b.getInstance().getAppId(),app_version:"0.4.2",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw p.create("RC response not ok")}))})).catch((function(){g.info("Could not fetch config, will use default configs")}));var e}(t).then(A).then((function(t){return function(t){var e=v.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*b.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return D()}),(function(){return D()}))}function D(){N=3}var R,M=3,L=[],F=!1;function U(t){if(!t.eventTime||!t.message)throw p.create("invalid cc log");L=i.__spreadArrays(L,[t])}function V(t,e){R||(R=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);U({message:r,eventTime:Date.now()})}}(B)),R(t,e)}function j(t){var e=b.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&v.getInstance().requiredApisAvailable()&&(t.isAuto&&S()!==C.VISIBLE||(3===N?q(t):P().then((function(){return q(t)}),(function(){return q(t)}))))}function q(t){if(w()){var e=b.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return V(t,1)}),0)}}function B(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:H(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:H(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function H(){return{google_app_id:b.getInstance().getAppId(),app_instance_id:w(),web_app_info:{sdk_version:"0.4.2",page_url:v.getInstance().getUrl(),service_worker_status:T(),visibility_state:S(),effective_connection_type:x()},application_process_state:0}}var z=["_fp","_fcp","_fid"],W=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=v.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw p.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw p.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),j(this)},t.prototype.record=function(t,e,n){if(t<=0)throw p.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw p.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=i.__assign({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var l=o[r];isNaN(Number(n.metrics[l]))||(this.counters[l]=Number(Math.floor(n.metrics[l])))}j(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&z.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw p.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&g.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||E.some((function(e){return t.startsWith(e)}))||!t.match(I))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw p.create("invalid attribute name",{attributeName:t});if(!r)throw p.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return i.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=v.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),l=Math.floor(1e3*v.getInstance().getTimeOrigin());if(o.setStartTime(l),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var a=n.find((function(t){return"first-contentful-paint"===t.name}));a&&a.startTime&&o.putMetric("_fcp",Math.floor(1e3*a.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}j(o)}},t.createUserTimingTrace=function(e){j(new t(e,!1,e))},t}();function G(t){var e=t;if(e&&void 0!==e.responseStart){var n=v.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=b.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return V(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function K(){w()&&(setTimeout((function(){return function(){var t=v.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){W.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),W.createOobTrace(e,n,t))}))}else W.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)G(n[e]);t.setupObserver("resource",G)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)$(n[e]);t.setupObserver("measure",$)}()}),0))}function $(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&W.createUserTimingTrace(e)}var Q=function(){function t(t){this.app=t,v.getInstance().requiredApisAvailable()&&o.validateIndexedDBOpenable().then((function(t){t&&(F||(function t(e){setTimeout((function(){if(0!==M)return L.length?void function(){var e=i.__spreadArrays(L);L=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(e,n){return function(t){var e=b.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||g.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),o=1e4;isNaN(r)||(o=Math.max(r,o));var l=e.logResponseDetails;Array.isArray(l)&&l.length>0&&"RETRY_REQUEST_LATER"===l[0].responseAction&&(L=i.__spreadArrays(n,L),g.info("Retry transport request later.")),M=3,t(o)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:b.getInstance().logSource,log_event:n},e).catch((function(){L=i.__spreadArrays(e,L),M--,g.info("Tries left: "+M+"."),t(1e4)}))}():t(1e4)}),e)}(5500),F=!0),P().then(K,K))})).catch((function(t){g.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new W(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return b.getInstance().instrumentationEnabled},set:function(t){b.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return b.getInstance().dataCollectionEnabled},set:function(t){b.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();function X(t){t.INTERNAL.registerComponent(new s.Component("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw p.create("FB not default");if("undefined"==typeof window)throw p.create("no window");return function(t){h=t}(window),b.getInstance().firebaseAppInstance=t,b.getInstance().installationsService=e,new Q(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.2")}X(d.default),e.registerPerformance=X},fSjL:function(t,e,n){"use strict";n.r(e),n.d(e,"registerInstallations",(function(){return K}));var r,i=n("wj3C"),o=n.n(i),l=n("S+S0"),s=n("mrSG"),a=n("zVF4"),u=n("nbvr"),c=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),h=new a.ErrorFactory("installations","Installations",c);function d(t){return t instanceof a.FirebaseError&&t.code.includes("request-failed")}function f(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function p(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function g(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,h.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function m(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function v(t,e){var n=e.refreshToken,r=m(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function y(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function _(t,e){var n=e.fid;return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,r,i,o,l;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return e=f(t),r=m(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.17"})},[4,y((function(){return fetch(e,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(l=s.sent()).fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:p(l.authToken)}];case 3:return[4,g("Create Installation",o)];case 4:throw s.sent()}}))}))}function b(t){return new Promise((function(e){setTimeout(e,t)}))}var w=/^[cdef][\w-]{21}$/;function C(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(s.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return w.test(e)?e:""}catch(r){return""}}function E(t){return t.appName+"!"+t.appId}var I=new Map;function T(t,e){var n=E(t);S(n,e),function(t,e){var n=A();n&&n.postMessage({key:t,fid:e}),k()}(n,e)}function S(t,e){var n,r,i=I.get(t);if(i)try{for(var o=Object(s.__values)(i),l=o.next();!l.done;l=o.next())(0,l.value)(e)}catch(a){n={error:a}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var x=null;function A(){return!x&&"BroadcastChannel"in self&&((x=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){S(t.data.key,t.data.fid)}),x}function k(){0===I.size&&x&&(x.close(),x=null)}var O="firebase-installations-store",N=null;function P(){return N||(N=Object(u.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(O)}}))),N}function D(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,l;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=E(t),[4,P()];case 1:return r=s.sent(),i=r.transaction(O,"readwrite"),[4,(o=i.objectStore(O)).get(n)];case 2:return l=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),l&&l.fid===e.fid||T(t,e.fid),[2,e]}}))}))}function R(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return e=E(t),[4,P()];case 1:return n=i.sent(),[4,(r=n.transaction(O,"readwrite")).objectStore(O).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function M(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,l,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=E(t),[4,P()];case 1:return r=s.sent(),i=r.transaction(O,"readwrite"),[4,(o=i.objectStore(O)).get(n)];case 2:return l=s.sent(),void 0!==(a=e(l))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!a||l&&l.fid===a.fid||T(t,a.fid),[2,a]}}))}))}function L(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,M(t,(function(n){var r=function(t){return V(t||{fid:C(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(h.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,_(t,e)];case 1:return n=i.sent(),[2,D(t,n)];case 2:return d(r=i.sent())&&409===r.serverCode?[4,R(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,D(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:F(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function F(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,U(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,b(100)];case 3:return o.sent(),[4,U(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,L(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function U(t){return M(t,(function(t){if(!t)throw h.create("installation-not-found");return V(t)}))}function V(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function j(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,i,o,l,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return t=function(t,e){var n=e.fid;return f(t)+"/"+n+"/authTokens:generate"}(n,e),i=v(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),l={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.17"}})},[4,y((function(){return fetch(t,l)}))];case 1:return(a=s.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,p(s.sent())];case 3:return[4,g("Generate Auth Token",a)];case 4:throw s.sent()}}))}))}function q(t,e){return void 0===e&&(e=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,M(t.appConfig,(function(r){if(!H(r))throw h.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,B(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,b(100)];case 3:return i.sent(),[4,B(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,q(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw h.create("app-offline");var l=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(s.__assign)(Object(s.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,j(t,e)];case 1:return n=o.sent(),i=Object(s.__assign)(Object(s.__assign)({},e),{authToken:n}),[4,D(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!d(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,R(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(s.__assign)(Object(s.__assign)({},e),{authToken:{requestStatus:0}}),[4,D(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,l),l}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function B(t){return M(t,(function(t){if(!H(t))throw h.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(s.__assign)(Object(s.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function H(t){return void 0!==t&&2===t.registrationStatus}function z(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,L(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function W(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(l){switch(l.label){case 0:return n=function(t,e){var n=e.fid;return f(t)+"/"+n}(t,e),r=v(t,e),i={method:"DELETE",headers:r},[4,y((function(){return fetch(n,i)}))];case 1:return(o=l.sent()).ok?[3,3]:[4,g("Delete Installation",o)];case 2:throw l.sent();case 3:return[2]}}))}))}function G(t){return h.create("missing-app-config-values",{valueName:t})}function K(t){t.INTERNAL.registerComponent(new l.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw G("App Configuration");if(!t.name)throw G("App Name");try{for(var r=Object(s.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw G(o)}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,L(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):q(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,z(t.appConfig)];case 1:return n.sent(),[4,q(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,M(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw h.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw h.create("app-offline");case 3:return[4,W(e,n)];case 4:return r.sent(),[4,R(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){A();var n=E(t),r=I.get(n);r||(r=new Set,I.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=E(t),r=I.get(n);r&&(r.delete(e),0===r.size&&I.delete(n),k())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.17")}K(o.a)},gHGA:function(t,e,n){"use strict";n.r(e),n("fSjL");var r,i=n("S+S0"),o=n("zVF4"),l=n("mrSG"),s=n("nbvr"),a=n("wj3C"),u=n.n(a),c=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["permission-default"]="The notification permission was not granted and dismissed instead.",r["permission-blocked"]="The notification permission was not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",r["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",r["invalid-vapid-key"]="The public VAPID key must be a string.",r["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r),h=new o.ErrorFactory("messaging","Messaging",c),d="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",f=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function p(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(l.__spread)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function m(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,Object(s.openDb)("fcm_token_details_db",5,(function(r){return Object(l.__awaiter)(n,void 0,void 0,(function(){var n,i,o,s;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=l.sent(),[4,n.clear()];case 2:if(l.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:p(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:p(o.auth),p256dh:p(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:p(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(s.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(s.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(s.deleteDb)("undefined")];case 6:return r.sent(),[2,v(e)?e:null]}}))}))}function v(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var y="firebase-messaging-store",_=null;function b(){return _||(_=Object(s.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(y)}}))),_}function w(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return e=I(t),[4,b()];case 1:return[4,i.sent().transaction(y).objectStore(y).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,m(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,C(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function C(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return n=I(t),[4,b()];case 1:return r=o.sent(),[4,(i=r.transaction(y,"readwrite")).objectStore(y).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function E(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return e=I(t),[4,b()];case 1:return n=i.sent(),[4,(r=n.transaction(y,"readwrite")).objectStore(y).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function I(t){return t.appConfig.appId}function T(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return[4,k(t)];case 1:n=l.sent(),r=O(e),i={method:"POST",headers:n,body:JSON.stringify(r)},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(A(t.appConfig),i)];case 3:return[4,l.sent().json()];case 4:return o=l.sent(),[3,6];case 5:throw s=l.sent(),h.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw h.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw h.create("token-subscribe-no-token");return[2,o.token]}}))}))}function S(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return[4,k(t)];case 1:n=l.sent(),r=O(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(A(t.appConfig)+"/"+e.token,i)];case 3:return[4,l.sent().json()];case 4:return o=l.sent(),[3,6];case 5:throw s=l.sent(),h.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw h.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw h.create("token-update-no-token");return[2,o.token]}}))}))}function x(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return[4,k(t)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(A(t.appConfig)+"/"+e,r)];case 3:return[4,l.sent().json()];case 4:if((i=l.sent()).error)throw h.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=l.sent(),h.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function A(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function k(t){var e=t.appConfig,n=t.installations;return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function O(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==d&&(n.web.applicationPubKey=e),n}function N(t,e,n){return Object(l.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,M(e,n)];case 1:return r=l.sent(),[4,w(t)];case 2:return i=l.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:p(r.getKey("auth")),p256dh:p(r.getKey("p256dh"))},i?[3,3]:[2,R(t,o)];case 3:if(c=(u=o).endpoint===(a=i.subscriptionOptions).endpoint,u.vapidKey===a.vapidKey&&c&&u.auth===a.auth&&u.p256dh===a.p256dh)return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,x(t,i.token)];case 5:return l.sent(),[3,7];case 6:return s=l.sent(),console.warn(s),[3,7];case 7:return[2,R(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,D({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var a,u,c}))}))}function P(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return[4,w(t)];case 1:return(n=i.sent())?[4,x(t,n.token)]:[3,4];case 2:return i.sent(),[4,E(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function D(t,e,n){return Object(l.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(l.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,S(e,t)];case 1:return r=s.sent(),i=Object(l.__assign)(Object(l.__assign)({},t),{token:r,createTime:Date.now()}),[4,C(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,P(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function R(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return[4,T(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,C(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function M(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:g(e)})]}}))}))}function L(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}var F=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw h.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(l.__awaiter)(this,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,w(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:d,r.label=2;case 2:return[2,N(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return P(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw h.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw h.create("only-available-in-window")},t.prototype.onMessage=function(){throw h.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw h.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,q()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,j(n,e)]:(r=!1,e.notification?[4,B(U(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(l.__awaiter)(this,void 0,void 0,(function(){var r;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,P(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,w(this.firebaseDependencies)];case 3:return r=i.sent(),[4,P(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,N(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:d)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(l.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(L(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,V(o)]):[2]):[2];case 1:return(a=l.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=l.sent(),[4,new Promise((function(t){setTimeout(t,3e3)}))];case 3:return l.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=l.sent(),l.label=6;case 6:return a?(r.messageType=f.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function U(t){var e,n=Object(l.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function V(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return[4,q()];case 1:e=u.sent();try{for(n=Object(l.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){s={error:c}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function j(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=f.PUSH_RECEIVED;try{for(var i=Object(l.__values)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function q(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function B(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var H=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===f.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),L(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,N(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=d),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(l.__awaiter)(this,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),h.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(l.__awaiter)(this,void 0,void 0,(function(){return Object(l.__generator)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,P(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw h.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");if(this.swRegistration)throw h.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw h.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw h.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case f.NOTIFICATION_CLICKED:return"notification_open";case f.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function z(t){return h.create("missing-app-config-values",{valueName:t})}var W={isSupported:G};function G(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}u.a.INTERNAL.registerComponent(new i.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw z("App Configuration Object");if(!t.name)throw z("App Name");var r=t.options;try{for(var i=Object(l.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw z(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!G())throw h.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new F(n):new H(n)}),"PUBLIC").setServiceProps(W))},iqUP:function(t,e,n){"use strict";var r=n("wj3C");function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}n("LOEa"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),n("bQlE"),n("3Kre"),n("O1kn");var o=i(r);o.default.registerVersion("firebase","7.24.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","7.24.0"),t.exports=o.default},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return I})),n.d(e,"__classPrivateFieldGet",(function(){return T})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function a(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{a(r.next(t))}catch(e){o(e)}}function s(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,s)}a((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,s=o.length;l<s;l++,i++)r[i]=o[l];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(a,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function a(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,l){n(i=t[e].apply(t,r)).then(o,l)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new c(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function l(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),l(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),l(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),l(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),s(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,s=o.length;l<s;l++,i++)r[i]=o[l];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return l})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],l=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},a=l.INFO,u=((i={})[l.DEBUG]="log",i[l.VERBOSE]="log",i[l.INFO]="info",i[l.WARN]="warn",i[l.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),l=u[e];if(!l)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[l].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in l))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.DEBUG],t)),this._logHandler.apply(this,r([this,l.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.VERBOSE],t)),this._logHandler.apply(this,r([this,l.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.INFO],t)),this._logHandler.apply(this,r([this,l.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.WARN],t)),this._logHandler.apply(this,r([this,l.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.ERROR],t)),this._logHandler.apply(this,r([this,l.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:l[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),l=n("zVF4"),s=n("S+S0"),a=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new l.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new a.Logger("@firebase/app"),f=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=l.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return a}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(l.contains(e,s))throw c.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&l&&a.push("and"),l&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(a.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});a.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!l.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(s){var a,u,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&l.deepExtend(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(s)}catch(m){a={error:m}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){l.deepExtend(e,t)},createSubscribe:l.createSubscribe,ErrorFactory:l.ErrorFactory,deepExtend:l.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(l.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Jn})),n.d(e,"EventType",(function(){return Zn})),n.d(e,"WebChannel",(function(){return tr})),n.d(e,"XhrIo",(function(){return er})),n.d(e,"createWebChannelTransport",(function(){return Yn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},a=l||self;function u(){}function c(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now;function b(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function S(t){return/^[\s\xa0]*$/.test(t)}var x,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var N=a.navigator;if(N){var P=N.userAgent;if(P){x=P;break t}}x=""}function D(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=u;var U,V,j=k(x,"Opera"),q=k(x,"Trident")||k(x,"MSIE"),B=k(x,"Edge"),H=B||q,z=k(x,"Gecko")&&!(k(x.toLowerCase(),"webkit")&&!k(x,"Edge"))&&!(k(x,"Trident")||k(x,"MSIE"))&&!k(x,"Edge"),W=k(x.toLowerCase(),"webkit")&&!k(x,"Edge");function G(){var t=a.document;return t?t.documentMode:void 0}t:{var K="",$=(V=x,z?/rv:([^\);]+)(\)|;)/.exec(V):B?/Edge\/([\d\.]+)/.exec(V):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):W?/WebKit\/(\S+)/.exec(V):j?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if($&&(K=$?$[1]:""),q){var Q=G();if(null!=Q&&Q>parseFloat(K)){U=String(Q);break t}}U=K}var X={};function Y(t){return function(t,e){var n=X;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(U)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var l=n[o]||"",s=r[o]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==l[0].length&&0==s[0].length)break;e=O(0==l[1].length?0:parseInt(l[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==l[2].length,0==s[2].length)||O(l[2],s[2]),l=l[3],s=s[3]}while(0==e)}return 0<=e}))}var J=a.document&&q&&(G()||parseInt(U,10))||void 0,Z=!q||9<=Number(J),tt=q&&!Y("9"),et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},b(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),lt=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function at(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ut(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(at(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ut.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var l=ht(t,e,r,i);return-1<l?(e=t[l],n||(e.Z=!1)):((e=new st(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var l=0;l<n.length;l++)t(e,n[l],r,i,o);return null}return r=Ct(r),e&&e[ot]?e.wa(n,r,d(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Ct(n),t&&t[ot]?t.va(e,n,d(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var l=d(i)?!!i.capture:!!i;if(l&&!Z)return null;var s=bt(t);if(s||(t[dt]=s=new ut(t)),(n=s.add(e,n,r,l,o)).proxy)return n;if(r=function(){var t=_t,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=l),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])ct(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(ct(n,t),0==n.b&&(n.src=null,e[dt]=null)):at(t)}}}function vt(t){return t in ft?ft[t]:ft[t]="on"+t}function yt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mt(t),n.call(r,e)}function _t(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new rt(e,this))}return yt(t,new rt(e,this))}function bt(t){return(t=t[dt])instanceof ut?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==c(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Et(){w.call(this),this.c=new ut(this),this.J=this,this.C=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.Y&&l.capture==n){var s=l.listener,a=l.ca||l.src;l.Z&&ct(t.c,l),i=!1!==s.call(a,r)&&i}}return i&&!r.defaultPrevented}b(Et,w),Et.prototype[ot]=!0,(o=Et.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var l=0;l<n.length;l++)t(e,n[l],r,i,o);else i=d(i)?!!i.capture:!!i,r=Ct(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(l=e.a[n],r,i,o))&&(at(l[r]),Array.prototype.splice.call(l,r,1),0==l.length&&(delete e.a[n],e.b--))):e&&(e=bt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&mt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;L(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.a=e[o];i=It(l,r,!0,t)&&i}if(i=It(l=t.a=n,r,!0,t)&&i,i=It(l,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(l=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(Et.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)at(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Tt=a.JSON.stringify;function St(){this.b=this.a=null}var xt,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ot}),(function(t){t.reset()}),100);function kt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ot(){this.next=this.b=this.a=null}function Nt(t){a.setTimeout((function(){throw t}),0)}function Pt(t,e){xt||function(){var t=a.Promise.resolve(void 0);xt=function(){t.then(Mt)}}(),Dt||(xt(),Dt=!0),Rt.add(t,e)}St.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var Dt=!1,Rt=new St;function Mt(){for(var t;t=kt();){try{t.a.call(t.b)}catch(n){Nt(n)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dt=!1}function Lt(t,e){Et.call(this),this.b=t||1,this.a=e||a,this.f=v(this.Ya,this),this.g=_()}function Ft(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ut(t,e,n){if("function"==c(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Vt(t){t.a=Ut((function(){t.a=null,t.c&&(t.c=!1,Vt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}b(Lt,Et),(o=Lt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=_()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ft(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},o.G=function(){Lt.S.G.call(this),Ft(this),delete this.a};var jt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Vt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(a.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function qt(t){w.call(this),this.b=t,this.a={}}b(qt,w);var Bt=[];function Ht(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){D(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function Wt(){this.a=!0}function Gt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<i.length;l++)i[l]=""}}}return Tt(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}qt.prototype.G=function(){qt.S.G.call(this),zt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.info=function(){};var Kt=null;function $t(){return Kt=Kt||new Et}function Qt(t){nt.call(this,"serverreachability",t)}function Xt(t){var e=$t();e.dispatchEvent(new Qt(e,t))}function Yt(t){nt.call(this,"statevent",t)}function Jt(t){var e=$t();e.dispatchEvent(new Yt(e,t))}function Zt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}b(Qt,nt),b(Yt,nt),b(Zt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function se(){nt.call(this,"d")}function ae(){nt.call(this,"c")}function ue(){}function ce(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new qt(this),this.P=he,this.R=new Lt(t=H?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}b(se,nt),b(ae,nt),b(ue,re),oe=new ue;var he=45e3,de={},fe={};function pe(t,e,n){t.H=1,t.i=Le(Oe(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=_(),ye(t),t.l=Oe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Qe(n.b,"t",r),t.D=0,t.a=zn(t.g,t.g.C?e:null),0<t.O&&(t.F=new jt(v(t.Ca,t,t.a),t.O)),Ht(t.J,t.a,"readystatechange",t.Wa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Xt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var l="",s=o.split("&"),a=0;a<s.length;a++){var u=s[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");l=2<=h.length&&"type"==h[1]?l+(c+"=")+u+"&":l+(c+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+l}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function me(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ve(t,n);if(i==fe){4==e&&(t.h=4,Jt(14),r=!1),Gt(t.c,t.f,null,"[Incomplete Response]");break}if(i==de){t.h=4,Jt(15),Gt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Gt(t.c,t.f,i,null),Ee(t,i)}4==e&&0==n.length&&(t.h=1,Jt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(e),e.F=!0)):(Gt(t.c,t.f,n,"[Invalid Chunked Response]"),Ce(t),we(t))}function ve(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.D=r+n,e))}function ye(t){t.U=_()+t.P,_e(t,t.P)}function _e(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(v(t.Ua,t),e)}function be(t){t.o&&(a.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Vn(t.g,t)}function Ce(t){be(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ft(t.R),zt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ee(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Un(n),xn(n)}Mn(n),Jt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(v(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Un(n),!S(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var l=i[4];null!=l&&(n.pa=l,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var a=1.5*s;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=a.b;!h.a&&(k(c,"spdy")||k(c,"quic")||k(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(a.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(a.na=d,Me(a.B,a.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=_()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((a=n).la=Hn(a,a.C?a.ga:null,a.fa),f.C){on(a.b,f);var p=f,g=a.D;g&&p.setTimeout(g),p.o&&(be(p),ye(p)),a.a=f}else Rn(a);0<n.g.length&&On(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):Sn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Xt(4)}catch(m){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Te)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Se(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=ce.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==Cn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=Cn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!H&&!this.a.$())){this.A||4!=e||7==n||Xt(8==n||0>=r?3:2),be(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,l){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+l}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var l,s=this.a;if((l=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var a=l;break e}}a=null}if(!a){this.b=!1,this.h=3,Jt(12),Ce(this),we(this);break t}Gt(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ee(this,a)}this.I?(me(this,e,o),H&&this.b&&3==e&&(Ht(this.J,this.R,"tick",this.Va),this.R.start())):(Gt(this.c,this.f,o,null),Ee(this,o)),4==e&&Ce(this),this.b&&!this.A&&(4==e?Vn(this.g,this):(this.b=!1,ye(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Jt(12)):(this.h=0,Jt(13)),Ce(this),we(this)}}}catch(u){}},o.Va=function(){if(this.a){var t=Cn(this.a),e=this.a.$();this.D<e.length&&(be(this),me(this,t,e),this.b&&4!=t&&ye(this))}},o.cancel=function(){this.A=!0,Ce(this)},o.Ua=function(){this.o=null;var t=_();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Xt(3),Jt(17)),Ce(this),this.h=2,we(this)):_e(this,this.U-t)},(o=Te.prototype).K=function(){Se(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Se(this),this.a.concat()},o.get=function(t,e){return xe(this.b,t)?this.b[t]:e},o.set=function(t,e){xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ke(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ke){this.a=void 0!==e?e:t.a,Ne(this,t.f),this.j=t.j,Pe(this,t.c),De(this,t.h),this.g=t.g,e=t.b;var n=new We;n.c=e.c,e.a&&(n.a=new Te(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Ne(this,n[1]||"",!0),this.j=Fe(n[2]||""),Pe(this,n[3]||"",!0),De(this,n[4]),this.g=Fe(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=Fe(n[7]||"")):(this.a=!!e,this.b=new We(null,this.a))}function Oe(t){return new ke(t)}function Ne(t,e,n){t.f=n?Fe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pe(t,e,n){t.c=n?Fe(e,!0):e}function De(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof We?(t.b=e,function(t,e){e&&!t.f&&(Ge(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ke(this,e),Qe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ue(e,He)),t.b=new We(e,t.a))}function Me(t,e,n){t.b.set(e,n)}function Le(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function Fe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ke.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,je,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?Be:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ue(n,ze)),t.join("")};var je=/[#\/\?@]/g,qe=/[#\?:]/g,Be=/[#\?]/g,He=/[#\?@]/g,ze=/#/g;function We(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ge(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ke(t,e){Ge(t),e=Xe(t,e),xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Se(t)))}function $e(t,e){return Ge(t),e=Xe(t,e),xe(t.a.b,e)}function Qe(t,e,n){Ke(t,e),0<n.length&&(t.c=null,t.a.set(Xe(t,e),T(n)),t.b+=n.length)}function Xe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Je(t){this.g=t||Ze,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ia&&a.ia.ya&&a.ia.ya()&&a.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=We.prototype).add=function(t,e){Ge(this),this.c=null,t=Xe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Ge(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Ge(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Ge(this);var e=[];if("string"==typeof t)$e(this,t)&&(e=I(e,this.a.get(Xe(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},o.set=function(t,e){return Ge(this),this.c=null,$e(this,t=Xe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var l=i;""!==r[o]&&(l+="="+encodeURIComponent(String(r[o]))),t.push(l)}}return this.c=t.join("&")};var Ze=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),l=o.next();!l.done;l=o.next())r=r.concat(l.value.s)}catch(s){e={error:s}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return T(t.c)}function sn(){}function an(){this.a=new sn}function un(t,e,n){var r=n||"";try{Ie(t,(function(t,n){var i=t;d(t)&&(i=Tt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Je.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},sn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},sn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var hn=a.JSON.parse;function dn(t){Et.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fn,this.D=this.F=!1}b(dn,Et);var fn="",pn=/^https?$/i,gn=["POST","PUT"];function mn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yn(t),bn(t)}function yn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _n(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Cn(t)||2!=t.X()))if(t.l&&4==Cn(t))Ut(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Cn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ae)[1]||null;if(!o&&a.self&&a.self.location){var l=a.self.location.protocol;o=l.substr(0,l.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Cn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.X()+"]",yn(t)}}finally{bn(t)}}}function bn(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Cn(t){return t.a?t.a.readyState:0}function En(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return D(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function In(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tn(t){this.pa=0,this.g=[],this.c=new Wt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=In("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=In("baseRetryDelayMs",5e3,t),this.Ma=In("retryDelaySeedMs",1e4,t),this.Ja=In("forwardChannelMaxRetries",2,t),this.ma=In("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Je(t&&t.concurrentRequestLimit),this.ka=new an,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Sn(t){if(An(t),3==t.v){var e=t.R++,n=Oe(t.B);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),Pn(t,n),(e=new ce(t,t.c,e,void 0)).H=2,e.i=Le(Oe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.i.toString(),"")),!n&&a.Image&&((new Image).src=e.i,n=!0),n||(e.a=zn(e.g,null),e.a.ba(e.i)),e.u=_(),ye(e)}Bn(t)}function xn(t){t.a&&(Ln(t),t.a.cancel(),t.a=null)}function An(t){xn(t),t.j&&(a.clearTimeout(t.j),t.j=null),Un(t),t.b.cancel(),t.h&&("number"==typeof t.h&&a.clearTimeout(t.h),t.h=null)}function kn(t,e){t.g.push(new Ye(t.La++,e)),3==t.v&&On(t)}function On(t){tn(t.b)||t.h||(t.h=!0,Pt(t.Ba,t),t.u=0)}function Nn(t,e){var n;n=e?e.f:t.R++;var r=Oe(t.B);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.P),Pn(t,r),t.i&&t.l&&En(r,t.i,t.l),n=new ce(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Pn(t,e){t.f&&Ie({},(function(t,n){Me(e,n,t)}))}function Dn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?v(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var l=["count="+n];-1==o?0<n?l.push("ofs="+(o=i[0].b)):o=0:l.push("ofs="+o);for(var s=!0,a=0;a<n;a++){var u=i[a].b,c=i[a].a;if(0>(u-=o))o=Math.max(0,i[a].b-100),s=!1;else try{un(c,l,"req"+u+"_")}catch(h){r&&r(c)}}if(s){r=l.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,Pt(t.Aa,t),t.o=0)}function Mn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(v(t.Aa,t),jn(t,t.o)),t.o++,0))}function Ln(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Fn(t){t.a=new ce(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Oe(t.la);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.H?"0":"1"),Me(e,"AID",t.P),Pn(t,e),Me(e,"TYPE","xmlhttp"),t.i&&t.l&&En(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Le(Oe(e)),n.j=null,n.I=!0,ge(n,t)}function Un(t){null!=t.m&&(a.clearTimeout(t.m),t.m=null)}function Vn(t,e){var n=null;if(t.a==e){Un(t),Ln(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_()-e.u;var i=t.u;(r=$t()).dispatchEvent(new Zt(r,n,e,i)),On(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(v(t.Ba,t,e),jn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Mn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function jn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=v(t.Xa,t);n||(n=new ke("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ne(n,"https"),Le(n)),function(t,e){var n=new Wt;if(a.Image){var r=new Image;r.onload=y(cn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(cn,n,r,"TestLoadImage: error",!1,e),r.onabort=y(cn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(cn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.v=0,t.f&&t.f.ra(e),Bn(t),An(t)}function Bn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,T(t.g),t.g.length=0),t.f.qa())}function Hn(t,e,n){var r=function(t){return t instanceof ke?Oe(t):new ke(t,void 0)}(n);if(""!=r.c)e&&Pe(r,e+"."+r.c),De(r,r.h);else{var i=a.location;r=function(t,e,n,r){var i=new ke(null,void 0);return t&&Ne(i,t),e&&Pe(i,e),n&&De(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&D(t.W,(function(t,e){Me(r,e,t)})),n=t.na,(e=t.A)&&n&&Me(r,e,n),Me(r,"VER",t.ha),Pn(t,r),r}function zn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dn(t.Ka)).F=t.C,e}function Wn(){}function Gn(){if(q&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Kn(t,e){Et.call(this),this.a=new Tn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!S(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Xn(this)}function $n(t){se.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Qn(){ae.call(this),this.status=1}function Xn(t){this.a=t}(o=dn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=v(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void vn(this,o)}t=n||"";var i=new Te(this.headers);r&&Ie(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=a.FormData&&t instanceof a.FormData,!(0<=C(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return q&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.xa,this)):this.m=Ut(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vn(this,o)}},o.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bn(this,!0)),dn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?_n(this):this.Ta())},o.Ta=function(){_n(this)},o.X=function(){try{return 2<Cn(this)?this.a.status:-1}catch(V){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(V){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Tn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ce(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dn(this,n,e),Me(i=Oe(this.B),"RID",t),Me(i,"CVER",22),this.A&&Me(i,"X-HTTP-Session-Id",this.A),Pn(this,i),this.i&&r&&En(i,this.i,r),rn(this.b,n),this.Ga&&Me(i,"TYPE","init"),this.da?(Me(i,"$req",e),Me(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?Nn(this,t):0==this.g.length||tn(this.b)||Nn(this))},o.Aa=function(){if(this.j=null,Fn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(v(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xn(this),Fn(this))},o.Ra=function(){null!=this.m&&(this.m=null,xn(this),Mn(this),Jt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Jt(2)):(this.c.info("Failed to ping google.com"),Jt(1))},(o=Wn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Gn.prototype.a=function(t,e){return new Kn(t,e)},b(Kn,Et),(o=Kn.prototype).addEventListener=function(t,e,n,r){Kn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Kn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Jt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Hn(t,null,t.fa),On(t)},o.close=function(){Sn(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,kn(this.a,e)}else this.g?((e={}).__data__=Tt(t),kn(this.a,e)):kn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,Sn(this.a),delete this.a,Kn.S.G.call(this)},b($n,se),b(Qn,ae),b(Xn,Wn),Xn.prototype.ta=function(){this.a.dispatchEvent("a")},Xn.prototype.sa=function(t){this.a.dispatchEvent(new $n(t))},Xn.prototype.ra=function(t){this.a.dispatchEvent(new Qn(t))},Xn.prototype.qa=function(){this.a.dispatchEvent("b")},Gn.prototype.createWebChannel=Gn.prototype.a,Kn.prototype.send=Kn.prototype.Pa,Kn.prototype.open=Kn.prototype.Oa,Kn.prototype.close=Kn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Et.prototype.listen=Et.prototype.va,dn.prototype.listenOnce=dn.prototype.wa,dn.prototype.getLastError=dn.prototype.Qa,dn.prototype.getLastErrorCode=dn.prototype.ua,dn.prototype.getStatus=dn.prototype.X,dn.prototype.getResponseJson=dn.prototype.Na,dn.prototype.getResponseText=dn.prototype.$,dn.prototype.send=dn.prototype.ba;var Yn=function(){return new Gn},Jn=ee,Zn=ne,tr=ie,er=dn;e.default={createWebChannelTransport:Yn,ErrorCode:Jn,EventType:Zn,WebChannel:tr,XhrIo:er}},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function l(t){setTimeout(()=>{throw t})}const s={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;l(t)},complete(){}},a=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:l}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let s=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++s<c&&i[s]||null;if(r(o))try{o.call(this)}catch(d){e=!0,t=d instanceof h?f(d.errors):[d]}if(a(l))for(s=-1,c=l.length;++s<c;){const n=l[s];if(u(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(f(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s;break;case 1:if(!t){this.destination=s;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class m extends g{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let l=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==s&&(l=Object.create(e),r(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):l(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;l(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;l(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(l(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function _(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[p])return t[p]()}return t||e||n?new g(t,e,n):new g(s)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.prototype=Object.create(Error.prototype);const I=E;class T extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends g{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new A(this,this);return e.operator=t,e}next(t){if(this.closed)throw new I;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new I;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new I;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new T(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new A(t,e),t})();class A extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class O extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const N=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},P=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,l),e);function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=D(),M=t=>e=>{const n=t[R]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},L=t=>e=>{const n=t[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function U(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const V=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[v])return L(t);if(F(t))return N(t);if(U(t))return P(t);if(t&&"function"==typeof t[R])return M(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};function j(t,e,n,r,i=new O(t,n,r)){if(!i.closed)return V(e)(i)}class q extends g{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(t,e))}}class H{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new z(t,this.project,this.thisArg))}}class z extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function W(t,e){return new w(e?n=>{const r=new d;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:N(t))}function G(t,e){if(!e)return t instanceof w?t:new w(V(t));if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:L(t))}(t,e);if(U(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:P(t))}(t,e);if(F(t))return W(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[R](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:M(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function K(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(K((n,r)=>G(t(n,r)).pipe(B((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new $(t,n)))}class ${constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}class Q extends q{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new O(this,void 0,void 0);this.destination.add(r),j(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X(t){return t}function Y(t=Number.POSITIVE_INFINITY){return K(X,t)}function J(){return function(t){return t.lift(new Z(t))}}class Z{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new tt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class tt extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const et=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,nt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}};class rt extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function it(){return new x}function ot(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const lt=ot("Inject",t=>({token:t})),st=ot("Optional"),at=ot("Self"),ut=ot("SkipSelf");var ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ht(t){for(let e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){const e=t[pt];return e&&e.token===t?e:null}const pt=ht({ngInjectableDef:ht});function gt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const mt=ht({__forward_ref__:ht});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return gt(this())},t}function yt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(mt)&&e.__forward_ref__===vt?e():t}const _t="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,Et=_t||Ct||bt||wt;class It{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Tt=new It("INJECTOR",-1),St=new Object,xt=/\n/gm,At=ht({provide:String,useValue:ht});let kt=void 0;function Ot(t){const e=kt;return kt=t,e}function Nt(t,e=ct.Default){return function(t,e=ct.Default){if(void 0===kt)throw new Error("inject() must be called from an injection context");return null===kt?function(t,e,n){const r=ft(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ct.Optional)return null;throw new Error(`Injector: NOT_FOUND [${gt(t)}]`)}(t,0,e):kt.get(t,e&ct.Optional?null:void 0,e)}(t,e)}class Pt{get(t,e=St){if(e===St){const e=new Error(`NullInjectorError: No provider for ${gt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Dt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=gt(e);if(e instanceof Array)i=e.map(gt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):gt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xt,"\n  ")}`}class Rt{}class Mt{}function Lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Ut=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Vt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))();function jt(t){return t.ngDebugContext}function qt(t){return t.ngOriginalError}function Bt(t,...e){t.error(...e)}class Ht{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Bt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?jt(t)?jt(t):this._findContext(qt(t)):null}_findOriginalError(t){let e=qt(t);for(;e&&qt(e);)e=qt(e);return e}}let zt=!0,Wt=!1;function Gt(){return Wt=!0,zt}class Kt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $t=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Qt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xt(t){return(t=String(t)).match($t)||t.match(Qt)?t:(Gt()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Yt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zt=Yt("area,br,col,hr,img,wbr"),te=Yt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ee=Yt("rp,rt"),ne=Jt(ee,te),re=Jt(Zt,Jt(te,Yt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jt(ee,Yt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ne),ie=Yt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oe=Yt("srcset"),le=Jt(ie,oe,Yt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),se=Yt("script,style,template");class ae{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!re.hasOwnProperty(e))return this.sanitizedSomething=!0,!se.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!le.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let l=t.value;ie[o]&&(l=Xt(l)),oe[o]&&(r=l,l=(r=String(r)).split(",").map(t=>Xt(t.trim())).join(", ")),this.buf.push(" ",e,'="',he(l),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();re.hasOwnProperty(e)&&!Zt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(he(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ue=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ce=/([^\#-~ |!])/g;function he(t){return t.replace(/&/g,"&amp;").replace(ue,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ce,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let de;function fe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const pe=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class ge{}const me=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ve=/^url\(([^)]+)\)$/;function ye(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(_e,(...t)=>"-"+t[1].toLowerCase())}const _e=/([A-Z])/g;function be(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let we=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ce(),t})();const Ce=(...t)=>{},Ee=new It("The presence of this token marks an injector as being the root injector."),Ie=function(t,e,n){return new Oe(t,e,n)};let Te=(()=>{class t{static create(t,e){return Array.isArray(t)?Ie(t,e,""):Ie(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=St,t.NULL=new Pt,t.ngInjectableDef=dt({token:t,providedIn:"any",factory:()=>Nt(Tt)}),t.__NG_ELEMENT_ID__=-1,t})();const Se=function(t){return t},xe=[],Ae=Se,ke=function(){return Array.prototype.slice.call(arguments)};class Oe{constructor(t,e=Te.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Te,{token:Te,fn:Se,deps:xe,value:this,useNew:!1}),r.set(Tt,{token:Tt,fn:Se,deps:xe,value:this,useNew:!1}),function t(e,n){if(n)if((n=yt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Pe("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Pe("Unexpected provider",n);{let t=yt(n.provide);const r=function(t){const e=function(t){let e=xe;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=yt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof st||n==st?r|=1:n instanceof ut||n==ut?r&=-3:n instanceof at||n==at?r&=-5:i=n instanceof lt?n.token:yt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:yt(t.useExisting),options:6}];else if(!n&&!(At in t))throw Pe("'deps' required",t);return e}(t);let n=Se,r=xe,i=!1,o=yt(t.provide);if(At in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=yt(t.useClass);else{if("function"!=typeof o)throw Pe("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==ke)throw Ne(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:ke,value:xe});t=n,r.deps.push({token:t,options:6})}const i=e.get(t);if(i&&i.fn==ke)throw Ne(t);e.set(t,r)}}}(r,t)}get(t,e,n=ct.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,l){try{return function(e,n,r,i,o,l){let s;if(!n||l&ct.SkipSelf)l&ct.Self||(s=i.get(e,o,ct.Default));else{if(s=n.value,s==Ae)throw Error("\u0275Circular dependency");if(s===xe){n.value=Ae;let e=void 0,o=n.useNew,l=n.fn,a=n.deps,u=xe;if(a.length){u=[];for(let e=0;e<a.length;e++){const n=a[e],o=n.options,l=2&o?r.get(n.token):void 0;u.push(t(n.token,l,r,l||4&o?i:Te.NULL,1&o?null:Te.THROW_IF_NOT_FOUND,ct.Default))}}n.value=s=o?new l(...u):l.apply(e,u)}}return s}(e,n,r,i,o,l)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==Ae&&(n.value=xe),s}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=Dt("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(gt(n))),`StaticInjector[${t.join(", ")}]`}}function Ne(t){return Pe("Cannot mix multi providers and regular providers",t)}function Pe(t,e){return new Error(Dt(t,e,"StaticInjectorError"))}const De=new It("AnalyzeForEntryComponents");let Re=null;function Me(){if(!Re){const t=Et.Symbol;if(t&&t.iterator)Re=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Re=n)}}}return Re}function Le(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Fe(t,e){const n=Ve(t),r=Ve(e);if(n&&r)return function(t,e,n){const r=t[Me()](),i=e[Me()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Fe);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Le(t,e)}}class Ue{constructor(t){this.wrapped=t}static wrap(t){return new Ue(t)}static unwrap(t){return Ue.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ue}}function Ve(t){return!!je(t)&&(Array.isArray(t)||!(t instanceof Map)&&Me()in t)}function je(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qe(t){return!!t&&"function"==typeof t.then}function Be(t){return!!t&&"function"==typeof t.subscribe}class He{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class ze{}function We(t){const e=Error(`No component factory found for ${gt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ge]=t,e}const Ge="ngComponent";class Ke{resolveComponentFactory(t){throw We(t)}}let $e=(()=>{class t{}return t.NULL=new Ke,t})();class Qe{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw We(t);return new Xe(e,this._ngModule)}}class Xe extends ze{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Ye(...t){}let Je=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ze(t),t})();const Ze=Ye;class tn{}class en{}const nn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>on(),t})();const on=Ye;class ln{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sn=new ln("8.2.14");class an{constructor(){}supports(t){return Ve(t)}create(t){return new cn(t)}}const un=(t,e)=>e;class cn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||un}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<pn(n,r,i)?e:n,l=pn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=l-r,e=s-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}l!==s&&t(o,l,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ve(t))throw new Error(`Error trying to diff '${gt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Le(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Le(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Me()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Le(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Le(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Le(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Le(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new hn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class hn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Le(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new dn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class gn{constructor(){}supports(t){return t instanceof Map||je(t)}create(){return new mn}}class mn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||je(t)))throw new Error(`Error trying to diff '${gt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new vn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Le(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class vn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let yn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new t([new an])}),t})(),_n=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new t([new gn])}),t})();const bn=[new gn],wn=new yn([new an]),Cn=new _n(bn);let En=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>In(t,Je),t})();const In=Ye;let Tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Sn(t,Je),t})();const Sn=Ye;function xn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return An(n,e),n}(i,t)}function An(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function kn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function On(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Nn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Pn(t,e){return t.nodes[e]}function Dn(t,e){return t.nodes[e]}function Rn(t,e){return t.nodes[e]}function Mn(t,e){return t.nodes[e]}function Ln(t,e){return t.nodes[e]}const Fn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Un=()=>{},Vn=new Map;function jn(t){let e=Vn.get(t);return e||(e=gt(t)+"_"+Vn.size,Vn.set(t,e)),e}function qn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Bn=0;function Hn(t,e,n,r){return!(!(2&t.state)&&Le(t.oldValues[e.bindingIndex+n],r))}function zn(t,e,n,r){return!!Hn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Wn(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Fe(i,r)){const o=e.bindings[n].name;throw xn(Fn.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function Gn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Kn(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function $n(t,e,n,r){try{return Gn(33554432&t.def.nodes[e].flags?Dn(t,e).componentView:t),Fn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Qn(t){return t.parent?Dn(t.parent,t.parentNodeDef.nodeIndex):null}function Xn(t){return t.parent?t.parentNodeDef.parent:null}function Yn(t,e){switch(201347067&e.flags){case 1:return Dn(t,e.nodeIndex).renderElement;case 2:return Pn(t,e.nodeIndex).renderText}}function Jn(t,e){return t?`${t}:${e}`:e}function Zn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function tr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function er(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=function(t){return 1<<t%32}(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function nr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:jn(n)}})}function rr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ut.Native?Dn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const ir=new WeakMap;function or(t){let e=ir.get(t);return e||(e=t(()=>Un),e.factory=t,ir.set(t,e)),e}function lr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Yn(t,t.def.lastRenderRootNode))),sr(t,e,0,t.def.nodes.length-1,n,r,i)}function sr(t,e,n,r,i,o,l){for(let s=n;s<=r;s++){const n=t.def.nodes[s];11&n.flags&&ur(t,n,e,i,o,l),s+=n.childCount}}function ar(t,e,n,r,i,o){let l=t;for(;l&&!Zn(l);)l=l.parent;const s=l.parent,a=Xn(l),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const t=s.def.nodes[c];t.ngContentIndex===e&&ur(s,t,n,r,i,o),c+=t.childCount}if(!s.parent){const l=t.root.projectableNodes[e];if(l)for(let e=0;e<l.length;e++)cr(t,l[e],n,r,i,o)}}function ur(t,e,n,r,i,o){if(8&e.flags)ar(t,e.ngContent.index,n,r,i,o);else{const l=Yn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&cr(t,l,n,r,i,o),32&e.bindingFlags&&cr(Dn(t,e.nodeIndex).componentView,l,n,r,i,o)):cr(t,l,n,r,i,o),16777216&e.flags){const l=Dn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<l.length;t++)lr(l[t],n,r,i,o)}1&e.flags&&!e.element.name&&sr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function cr(t,e,n,r,i,o){const l=t.renderer;switch(n){case 1:l.appendChild(r,e);break;case 2:l.insertBefore(r,e,i);break;case 3:l.removeChild(r,e);break;case 0:o.push(e)}}const hr=/^:([^:]+):(.+)$/;function dr(t){if(":"===t[0]){const e=t.match(hr);return[e[1],e[2]]}return["",t]}function fr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function pr(t,e,n,r,i,o,l,s,a,u,c,h,d,f,p,g,m,v,y,_){switch(t){case 1:return e+gr(n)+r;case 2:return e+gr(n)+r+gr(i)+o;case 3:return e+gr(n)+r+gr(i)+o+gr(l)+s;case 4:return e+gr(n)+r+gr(i)+o+gr(l)+s+gr(a)+u;case 5:return e+gr(n)+r+gr(i)+o+gr(l)+s+gr(a)+u+gr(c)+h;case 6:return e+gr(n)+r+gr(i)+o+gr(l)+s+gr(a)+u+gr(c)+h+gr(d)+f;case 7:return e+gr(n)+r+gr(i)+o+gr(l)+s+gr(a)+u+gr(c)+h+gr(d)+f+gr(p)+g;case 8:return e+gr(n)+r+gr(i)+o+gr(l)+s+gr(a)+u+gr(c)+h+gr(d)+f+gr(p)+g+gr(m)+v;case 9:return e+gr(n)+r+gr(i)+o+gr(l)+s+gr(a)+u+gr(c)+h+gr(d)+f+gr(p)+g+gr(m)+v+gr(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function gr(t){return null!=t?t.toString():""}const mr=new Object,vr=jn(Te),yr=jn(Tt),_r=jn(Rt);function br(t,e,n,r){return n=yt(n),{index:-1,deps:nr(r,gt(e)),flags:t,token:e,value:n}}function wr(t,e,n=Te.THROW_IF_NOT_FOUND){const r=Ot(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const l=e.tokenKey;switch(l){case vr:case yr:case _r:return t}const s=t._def.providersByKey[l];let a;if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=Cr(t,s)),e===mr?void 0:e}if((a=ft(e.token))&&(i=t,null!=(o=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:e.token},t._providers[n]=mr,t._providers[n]=Cr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ot(r)}var i,o}function Cr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(wr(t,n[0]));case 2:return new e(wr(t,n[0]),wr(t,n[1]));case 3:return new e(wr(t,n[0]),wr(t,n[1]),wr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=wr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(wr(t,n[0]));case 2:return e(wr(t,n[0]),wr(t,n[1]));case 3:return e(wr(t,n[0]),wr(t,n[1]),wr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=wr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=wr(t,e.deps[0]);break;case 256:n=e.value}return n===mr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?mr:n}function Er(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Ft(n,e),Fn.dirtyParentQueries(r),Tr(r),r}function Ir(t,e,n){const r=e?Yn(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);lr(n,2,i,o,void 0)}function Tr(t){lr(t,3,null,null,void 0)}const Sr=new Object;function xr(t,e,n,r,i,o){return new Ar(t,e,n,r,i,o)}class Ar extends ze{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=or(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,l=Fn.createRootView(t,e||[],n,i,r,Sr),s=Rn(l,o).instance;return n&&l.renderer.setAttribute(Dn(l,0).renderElement,"ng-version",sn.full),new kr(l,new Dr(l),s)}}class kr extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Je(Dn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Fr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Or(t,e,n){return new Nr(t,e,n)}class Nr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Je(this._data.renderElement)}get injector(){return new Fr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Xn(t),t=t.parent;return t?new Fr(t,e):new Fr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Er(this._data,t);Fn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Dr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof Xe||(i=o.get(Rt));const l=t.create(o,r,void 0,i);return this.insert(l.hostView,e),l}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Lt(i,n,r),function(t,e){const n=Qn(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Fn.dirtyParentQueries(r),Ir(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Ft(r,e),null==n&&(n=r.length),Lt(r,n,i),Fn.dirtyParentQueries(i),Tr(i),Ir(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Er(this._data,t);e&&Fn.destroyView(e)}detach(t){const e=Er(this._data,t);return e?new Dr(e):null}}function Pr(t){return new Dr(t)}class Dr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return lr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Gn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Fn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Fn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Fn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Tr(this._view),Fn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Rr(t,e){return new Mr(t,e)}class Mr extends En{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Dr(Fn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Je(Dn(this._parentView,this._def.nodeIndex).renderElement)}}function Lr(t,e){return new Fr(t,e)}class Fr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Te.THROW_IF_NOT_FOUND){return Fn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:jn(t)},e)}}function Ur(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Dn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Pn(t,n.nodeIndex).renderText;if(20240&n.flags)return Rn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Vr(t){return new jr(t.renderer)}class jr{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=dr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=dr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function qr(t,e,n,r){return new Br(t,e,n,r)}class Br{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Cr(t,i))}}(this)}get(t,e=Te.THROW_IF_NOT_FOUND,n=ct.Default){let r=0;return n&ct.SkipSelf?r|=1:n&ct.Self&&(r|=4),wr(this,{token:t,tokenKey:jn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get($e)}destroy(){if(this._destroyed)throw new Error(`The ng module ${gt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==mr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Hr=jn(tn),zr=jn(rn),Wr=jn(Je),Gr=jn(Tn),Kr=jn(En),$r=jn(we),Qr=jn(Te),Xr=jn(Tt);function Yr(t,e,n,r,i,o,l,s){const a=[];if(l)for(let c in l){const[t,e]=l[c];a[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(s)for(let c in s)u.push({type:1,propName:c,target:null,eventName:s[c]});return Zr(t,e|=16384,n,r,i,i,o,a,u)}function Jr(t,e,n,r,i){return Zr(-1,t,e,0,n,r,i)}function Zr(t,e,n,r,i,o,l,s,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=er(n);a||(a=[]),s||(s=[]),o=yt(o);const d=nr(l,gt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:fr(s),outputs:a,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function ti(t,e){return ii(t,e)}function ei(t,e){let n=t;for(;n.parent&&!Zn(n);)n=n.parent;return oi(n.parent,Xn(n),!0,e.provider.value,e.provider.deps)}function ni(t,e){const n=oi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!Be(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(ri(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function ri(t,e,n){return r=>$n(t,e,n,r)}function ii(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return oi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(si(t,e,n,i[0]));case 2:return r(si(t,e,n,i[0]),si(t,e,n,i[1]));case 3:return r(si(t,e,n,i[0]),si(t,e,n,i[1]),si(t,e,n,i[2]));default:const l=Array(o);for(let r=0;r<o;r++)l[r]=si(t,e,n,i[r]);return r(...l)}}(t,e.parent,n,r.value,r.deps);case 2048:return si(t,e.parent,n,r.deps[0]);case 256:return r.value}}function oi(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(si(t,e,n,i[0]));case 2:return new r(si(t,e,n,i[0]),si(t,e,n,i[1]));case 3:return new r(si(t,e,n,i[0]),si(t,e,n,i[1]),si(t,e,n,i[2]));default:const l=new Array(o);for(let r=0;r<o;r++)l[r]=si(t,e,n,i[r]);return new r(...l)}}const li={};function si(t,e,n,r,i=Te.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const l=r.tokenKey;l===$r&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let s=t;for(;s;){if(e)switch(l){case Hr:return Vr(ai(s,e,n));case zr:return ai(s,e,n).renderer;case Wr:return new Je(Dn(s,e.nodeIndex).renderElement);case Gr:return Dn(s,e.nodeIndex).viewContainer;case Kr:if(e.element.template)return Dn(s,e.nodeIndex).template;break;case $r:return Pr(ai(s,e,n));case Qr:case Xr:return Lr(s,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[l];if(t){let e=Rn(s,t.nodeIndex);return e||(e={instance:ii(s,t)},s.nodes[t.nodeIndex]=e),e.instance}}n=Zn(s),e=Xn(s),s=s.parent,4&r.flags&&(s=null)}const a=o.root.injector.get(r.token,li);return a!==li||i===li?a:o.root.ngModule.injector.get(r.token,i)}function ai(t,e,n){let r;if(n)r=Dn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Zn(r);)r=r.parent;return r}function ui(t,e,n,r,i,o){if(32768&n.flags){const e=Dn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Ue.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new He(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function ci(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let l=o.parent;for(!l&&o.flags&e&&di(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);l&&1&l.flags&&i===l.nodeIndex+l.childCount;)l.directChildFlags&e&&(r=hi(t,l,e,r)),l=l.parent}}function hi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&di(t,i,e.flags&n,r++),i+=e.childCount}return r}function di(t,e,n,r){const i=Rn(t,e);if(!i)return;const o=i.instance;o&&(Fn.setCurrentNode(t,e),1048576&n&&Nn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Nn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const fi=new It("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vt}),pi={},gi=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),mi=void 0;var vi=["en",[["a","p"],["AM","PM"],mi],[["AM","PM"],mi,mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mi,"{1} 'at' {0}",mi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];class yi extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const l=super.subscribe(r,i,o);return t instanceof d&&t.add(l),l}}function _i(){return this._results[Me()]()}class bi{constructor(){this.dirty=!0,this._results=[],this.changes=new yi,this.length=0;const t=Me(),e=bi.prototype;e[t]||(e[t]=_i)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const wi=new It("Application Initializer");class Ci{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qe(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Ei=new It("AppId");function Ii(){return`${Ti()}${Ti()}${Ti()}`}function Ti(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Si=new It("Platform Initializer"),xi=new It("Platform ID"),Ai=new It("appBootstrapListener");class ki{log(t){console.log(t)}warn(t){console.warn(t)}}const Oi=new It("LocaleId");function Ni(){throw new Error("Runtime compiler is not loaded")}const Pi=Ni,Di=Ni,Ri=Ni,Mi=Ni;class Li{constructor(){this.compileModuleSync=Pi,this.compileModuleAsync=Di,this.compileModuleAndAllComponentsSync=Ri,this.compileModuleAndAllComponentsAsync=Mi}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Fi{}let Ui,Vi;function ji(){const t=Et.wtf;return!(!t||(Ui=t.trace,!Ui)||(Vi=Ui.events,0))}const qi=ji();function Bi(t,e){return null}const Hi=qi?function(t,e=null){return Vi.createScope(t,e)}:(t,e)=>Bi,zi=qi?function(t,e){return Ui.leaveScope(t,e),e}:(t,e)=>e,Wi=(()=>Promise.resolve(0))();function Gi(t){"undefined"==typeof Zone?Wi.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ki{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi(!1),this.onMicrotaskEmpty=new yi(!1),this.onStable=new yi(!1),this.onError=new yi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,l)=>{try{return Yi(e),t.invokeTask(r,i,o,l)}finally{Ji(e)}},onInvoke:(t,n,r,i,o,l,s)=>{try{return Yi(e),t.invoke(r,i,o,l,s)}finally{Ji(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Xi(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ki.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ki.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Qi,$i,$i);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function $i(){}const Qi={};function Xi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yi(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ji(t){t._nesting--,Xi(t)}class Zi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi,this.onMicrotaskEmpty=new yi,this.onStable=new yi,this.onError=new yi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class to{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ki.assertNotInAngularZone(),Gi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}let eo=(()=>{class t{constructor(){this._applications=new Map,io.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return io.findTestabilityInTree(this,t,e)}}return t.ctorParameters=()=>[],t})();class no{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ro,io=new no;const oo=new It("AllowMultipleToken");class lo{constructor(t,e){this.name=t,this.token=e}}function so(t,e,n=[]){const r="Platform: "+e,i=new It(r);return(e=[])=>{let o=ao();if(!o||o.injector.get(oo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(ro&&!ro.destroyed&&!ro.injector.get(oo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ro=t.get(uo);const e=t.get(Si,null);e&&e.forEach(t=>t())}(Te.create({providers:t,name:r}))}return function(t){const e=ao();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ao(){return ro&&!ro.destroyed?ro:null}class uo{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new Zi:("zone.js"===t?void 0:t)||new Ki({enableLongStackTrace:Gt()}),e}(e?e.ngZone:void 0),r=[{provide:Ki,useValue:n}];return n.run(()=>{const e=Te.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ht,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>fo(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return qe(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ci);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=co({},e);return function(t,e,n){return t.get(Fi).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ho);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${gt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function co(t,e){return Array.isArray(e)?e.reduce(co,t):Object.assign({},t,e)}let ho=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Gt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ki.assertNotInAngularZone(),Gi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ki.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:Y(e)(W(t,n))}(l,s.pipe(t=>{return J()((e=it,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,nt);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ze?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof Xe?null:this._injector.get(Rt),i=n.create(Te.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(to,null);return o&&i.injector.get(eo).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Gt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,zi(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fo(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ai,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),fo(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Hi("ApplicationRef#tick()"),t})();function fo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class po{}class go{}const mo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class vo{constructor(t,e){this._compiler=t,this._config=e||mo}load(t){return this._compiler instanceof Li?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>yo(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>yo(t,e,r))}}function yo(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class _o{constructor(t,e){this.name=t,this.callback=e}}class bo{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof wo&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class wo extends bo{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof wo&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof wo&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof wo&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof wo)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Co=new Map,Eo=function(t){return Co.get(t)||null};function Io(t){Co.set(t.nativeNode,t)}const To=so(null,"core",[{provide:xi,useValue:"unknown"},{provide:uo,deps:[Te]},{provide:eo,deps:[]},{provide:ki,deps:[]}]);function So(){return wn}function xo(){return Cn}function Ao(t){return t||"en-US"}function ko(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Oo{constructor(t){}}function No(t,e,n,r,i,o){t|=1;const{matchedQueries:l,references:s,matchedQueryIds:a}=er(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:a,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?or(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Un},provider:null,text:null,query:null,ngContent:null}}function Po(t,e,n,r,i,o,l=[],s,a,u,c,h){u||(u=Un);const{matchedQueries:d,references:f,matchedQueryIds:p}=er(n);let g=null,m=null;o&&([g,m]=dr(o)),s=s||[];const v=new Array(s.length);for(let b=0;b<s.length;b++){const[t,e,n]=s[b],[r,i]=dr(e);let o=void 0,l=void 0;switch(15&t){case 4:l=n;break;case 1:case 8:o=n}v[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:l}}a=a||[];const y=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e]=a[b];y[b]={type:0,target:t,eventName:e,propName:null}}const _=(l=l||[]).map(([t,e])=>{const[n,r]=dr(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Ut.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Bn++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:fr(v),outputs:y,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Un},provider:null,text:null,query:null,ngContent:null}}function Do(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let l;if(t.parent||!i){l=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=rr(t,e,n);i&&o.appendChild(i,l)}else l=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Ut.ShadowDom);if(r.attrs)for(let s=0;s<r.attrs.length;s++){const[t,e,n]=r.attrs[s];o.setAttribute(l,e,n,t)}return l}function Ro(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],l=Mo(t,n.nodeIndex,Jn(o.target,o.eventName));let s=o.target,a=t;"component"===o.target&&(s=null,a=e);const u=a.renderer.listen(s||r,o.eventName,l);t.disposables[n.outputIndex+i]=u}}function Mo(t,e,n){return r=>$n(t,e,n,r)}function Lo(t,e,n,r){if(!zn(t,e,n,r))return!1;const i=e.bindings[n],o=Dn(t,e.nodeIndex),l=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const l=e.securityContext;let s=l?t.root.sanitizer.sanitize(l,o):o;s=null!=s?s.toString():null;const a=t.renderer;null!=o?a.setAttribute(n,i,s,r):a.removeAttribute(n,i,r)}(t,i,l,i.ns,s,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,l,s,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(pe.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const l=t.renderer;null!=o?l.setStyle(n,r,o):l.removeStyle(n,r)}(t,i,l,s,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let l=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,l)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,l,s,r)}return!0}function Fo(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&tr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Ln(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Ln(t,n).setDirty(),n+=e.childCount}}function Uo(t,e){const n=Ln(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Vo(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Rn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Vo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let l=!1;for(let s=0;s<o.length;s++){const t=o[s];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,l=!0}r[t.propName]=e}l&&n.notifyOnChanges()}function Vo(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(jo(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Dn(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Vo(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],l=Qn(o);l&&l===n&&Vo(o,0,o.def.nodes.length-1,r,i)}}const l=n.template._projectedViews;if(l)for(let t=0;t<l.length;t++){const e=l[t];Vo(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function jo(t,e,n){if(null!=n)switch(n){case 1:return Dn(t,e.nodeIndex).renderElement;case 0:return new Je(Dn(t,e.nodeIndex).renderElement);case 2:return Dn(t,e.nodeIndex).template;case 3:return Dn(t,e.nodeIndex).viewContainer;case 4:return Rn(t,e.nodeIndex).instance}}function qo(t,e,n){const r=rr(t,e,n);r&&ar(t,n.ngContent.index,1,r,null,void 0)}function Bo(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ho(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=rr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function zo(t,e){return(null!=t?t.toString():"")+e.suffix}function Wo(t,e,n,r){let i=0,o=0,l=0,s=0,a=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,l|=t.flags,a|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(a|=t.element.template.nodeMatchedQueries)}if(Ko(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[jn(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[jn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):s|=t.flags,t.childCount>0)u=t,Go(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Go(u)?u.renderParent:u}}return{factory:null,nodeFlags:l,rootNodeFlags:s,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||Un,updateRenderer:r||Un,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Go(t){return 0!=(1&t.flags)&&null===t.element.name}function Ko(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function $o(t,e,n,r){const i=Yo(t.root,t.renderer,t,e,n);return Jo(i,t.component,r),Zo(i),i}function Qo(t,e,n){const r=Yo(t,t.renderer,null,null,e);return Jo(r,n,n),Zo(r),r}function Xo(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Yo(t.root,o,t,e.element.componentProvider,n)}function Yo(t,e,n,r,i){const o=new Array(i.nodes.length),l=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:l,initIndex:-1}}function Jo(t,e,n){t.component=e,t.context=n}function Zo(t){let e;Zn(t)&&(e=Dn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let l;switch(Fn.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Do(t,e,o);let s=void 0;if(33554432&o.flags){const e=or(o.element.componentView);s=Fn.createComponentView(t,o,e,n)}Ro(t,s,o,n),l={renderElement:n,componentView:s,viewContainer:null,template:o.element.template?Rr(t,o):void 0},16777216&o.flags&&(l.viewContainer=Or(t,o,l));break;case 2:l=Ho(t,e,o);break;case 512:case 1024:case 2048:case 256:l=r[i],l||4096&o.flags||(l={instance:ti(t,o)});break;case 16:l={instance:ei(t,o)};break;case 16384:l=r[i],l||(l={instance:ni(t,o)}),32768&o.flags&&Jo(Dn(t,o.parent.nodeIndex).componentView,l.instance,l.instance);break;case 32:case 64:case 128:l={value:void 0};break;case 67108864:case 134217728:l=new bi;break;case 8:qo(t,e,o),l=void 0}r[i]=l}al(t,sl.CreateViewNodes),dl(t,201326592,268435456,0)}function tl(t){rl(t),Fn.updateDirectives(t,1),ul(t,sl.CheckNoChanges),Fn.updateRenderer(t,1),al(t,sl.CheckNoChanges),t.state&=-97}function el(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,On(t,0,256),rl(t),Fn.updateDirectives(t,0),ul(t,sl.CheckAndUpdate),dl(t,67108864,536870912,0);let e=On(t,256,512);ci(t,2097152|(e?1048576:0)),Fn.updateRenderer(t,0),al(t,sl.CheckAndUpdate),dl(t,134217728,536870912,0),e=On(t,512,768),ci(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,On(t,768,1024)}function nl(t,e,n,r,i,o,l,s,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,l,s,a,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,l,s,a,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&Lo(t,e,0,n)&&(f=!0),d>1&&Lo(t,e,1,r)&&(f=!0),d>2&&Lo(t,e,2,i)&&(f=!0),d>3&&Lo(t,e,3,o)&&(f=!0),d>4&&Lo(t,e,4,l)&&(f=!0),d>5&&Lo(t,e,5,s)&&(f=!0),d>6&&Lo(t,e,6,a)&&(f=!0),d>7&&Lo(t,e,7,u)&&(f=!0),d>8&&Lo(t,e,8,c)&&(f=!0),d>9&&Lo(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,l,s,a,u,c,h);case 2:return function(t,e,n,r,i,o,l,s,a,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&zn(t,e,0,n)&&(d=!0),p>1&&zn(t,e,1,r)&&(d=!0),p>2&&zn(t,e,2,i)&&(d=!0),p>3&&zn(t,e,3,o)&&(d=!0),p>4&&zn(t,e,4,l)&&(d=!0),p>5&&zn(t,e,5,s)&&(d=!0),p>6&&zn(t,e,6,a)&&(d=!0),p>7&&zn(t,e,7,u)&&(d=!0),p>8&&zn(t,e,8,c)&&(d=!0),p>9&&zn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=zo(n,f[0])),p>1&&(d+=zo(r,f[1])),p>2&&(d+=zo(i,f[2])),p>3&&(d+=zo(o,f[3])),p>4&&(d+=zo(l,f[4])),p>5&&(d+=zo(s,f[5])),p>6&&(d+=zo(a,f[6])),p>7&&(d+=zo(u,f[7])),p>8&&(d+=zo(c,f[8])),p>9&&(d+=zo(h,f[9]));const g=Pn(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,l,s,a,u,c,h);case 16384:return function(t,e,n,r,i,o,l,s,a,u,c,h){const d=Rn(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&Hn(t,e,0,n)&&(p=!0,g=ui(t,d,e,0,n,g)),m>1&&Hn(t,e,1,r)&&(p=!0,g=ui(t,d,e,1,r,g)),m>2&&Hn(t,e,2,i)&&(p=!0,g=ui(t,d,e,2,i,g)),m>3&&Hn(t,e,3,o)&&(p=!0,g=ui(t,d,e,3,o,g)),m>4&&Hn(t,e,4,l)&&(p=!0,g=ui(t,d,e,4,l,g)),m>5&&Hn(t,e,5,s)&&(p=!0,g=ui(t,d,e,5,s,g)),m>6&&Hn(t,e,6,a)&&(p=!0,g=ui(t,d,e,6,a,g)),m>7&&Hn(t,e,7,u)&&(p=!0,g=ui(t,d,e,7,u,g)),m>8&&Hn(t,e,8,c)&&(p=!0,g=ui(t,d,e,8,c,g)),m>9&&Hn(t,e,9,h)&&(p=!0,g=ui(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&Nn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,o,l,s,a,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,l,s,a,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&zn(t,e,0,n)&&(f=!0),p>1&&zn(t,e,1,r)&&(f=!0),p>2&&zn(t,e,2,i)&&(f=!0),p>3&&zn(t,e,3,o)&&(f=!0),p>4&&zn(t,e,4,l)&&(f=!0),p>5&&zn(t,e,5,s)&&(f=!0),p>6&&zn(t,e,6,a)&&(f=!0),p>7&&zn(t,e,7,u)&&(f=!0),p>8&&zn(t,e,8,c)&&(f=!0),p>9&&zn(t,e,9,h)&&(f=!0),f){const f=Mn(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=l),p>5&&(g[5]=s),p>6&&(g[6]=a),p>7&&(g[7]=u),p>8&&(g[8]=c),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=l),p>5&&(g[d[5].name]=s),p>6&&(g[d[6].name]=a),p>7&&(g[d[7].name]=u),p>8&&(g[d[8].name]=c),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,l);break;case 6:g=t.transform(r,i,o,l,s);break;case 7:g=t.transform(r,i,o,l,s,a);break;case 8:g=t.transform(r,i,o,l,s,a,u);break;case 9:g=t.transform(r,i,o,l,s,a,u,c);break;case 10:g=t.transform(r,i,o,l,s,a,u,c,h)}}f.value=g}return f}(t,e,n,r,i,o,l,s,a,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,l,s,a,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Lo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)zn(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=zo(n[t],r[t]);i=e.text.prefix+i;const o=Pn(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Rn(t,e.nodeIndex),i=r.instance;let o=!1,l=void 0;for(let s=0;s<n.length;s++)Hn(t,e,s,n[s])&&(o=!0,l=ui(t,r,e,s,n[s],l));return l&&i.ngOnChanges(l),65536&e.flags&&Nn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)zn(t,e,o,n[o])&&(i=!0);if(i){const i=Mn(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function rl(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Dn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Kn(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function il(t,e,n,r,i,o,l,s,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,l,s,a,u,c,h){const d=e.bindings.length;d>0&&Wn(t,e,0,n),d>1&&Wn(t,e,1,r),d>2&&Wn(t,e,2,i),d>3&&Wn(t,e,3,o),d>4&&Wn(t,e,4,l),d>5&&Wn(t,e,5,s),d>6&&Wn(t,e,6,a),d>7&&Wn(t,e,7,u),d>8&&Wn(t,e,8,c),d>9&&Wn(t,e,9,h)}(t,e,r,i,o,l,s,a,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Wn(t,e,r,n[r])}(t,e,r),!1}function ol(t,e){if(Ln(t,e.nodeIndex).dirty)throw xn(Fn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function ll(t){if(!(128&t.state)){if(ul(t,sl.Destroy),al(t,sl.Destroy),ci(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Qn(t);if(e){const n=e.template._projectedViews;n&&(Ft(n,n.indexOf(t)),Fn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Dn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Pn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Ln(t,n).destroy()}}(t),Zn(t)&&t.renderer.destroy(),t.state|=128}}const sl=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function al(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?cl(Dn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ul(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Dn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)cl(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function cl(t,e){const n=t.state;switch(e){case sl.CheckNoChanges:0==(128&n)&&(12==(12&n)?tl(t):64&n&&hl(t,sl.CheckNoChangesProjectedViews));break;case sl.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?tl(t):64&n&&hl(t,e));break;case sl.CheckAndUpdate:0==(128&n)&&(12==(12&n)?el(t):64&n&&hl(t,sl.CheckAndUpdateProjectedViews));break;case sl.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?el(t):64&n&&hl(t,e));break;case sl.Destroy:ll(t);break;case sl.CreateViewNodes:Zo(t)}}function hl(t,e){ul(t,e),al(t,e)}function dl(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Fn.setCurrentNode(t,i.nodeIndex),r){case 0:Uo(t,i);break;case 1:ol(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let fl=!1;function pl(t,e,n,r,i,o){const l=i.injector.get(en);return Qo(ml(t,i,l,e,n),r,o)}function gl(t,e,n,r,i,o){const l=i.injector.get(en),s=ml(t,i,new $l(l),e,n),a=Sl(r);return Gl(Pl.create,Qo,null,[s,a,o])}function ml(t,e,n,r,i){const o=e.injector.get(ge),l=e.injector.get(Ht),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:l}}function vl(t,e,n,r){const i=Sl(n);return Gl(Pl.create,$o,null,[t,e,i,r])}function yl(t,e,n,r){return n=Cl.get(e.element.componentProvider.provider.token)||Sl(n),Gl(Pl.create,Xo,null,[t,e,n,r])}function _l(t,e,n,r){return qr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===bl.size||(t.providers.forEach(t=>{const r=bl.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{wl.forEach((r,i)=>{ft(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=bl.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=nr(i.deps),r.value=i.value)}if(wl.size>0){let e=new Set(t.modules);wl.forEach((r,i)=>{if(e.has(ft(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:nr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[jn(i)]=e}})}}(t=t.factory(()=>Un)),t):t}(r))}const bl=new Map,wl=new Map,Cl=new Map;function El(t){let e;bl.set(t.token,t),"function"==typeof t.token&&(e=ft(t.token))&&"function"==typeof e.providedIn&&wl.set(t.token,t)}function Il(t,e){const n=or(e.viewDefFactory),r=or(n.nodes[0].element.componentView);Cl.set(t,r)}function Tl(){bl.clear(),wl.clear(),Cl.clear()}function Sl(t){if(0===bl.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&bl.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Un);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=bl.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=nr(n.deps),t.value=n.value)}}}}function xl(t,e,n,r,i,o,l,s,a,u,c,h,d){const f=t.def.nodes[e];return nl(t,f,n,r,i,o,l,s,a,u,c,h,d),224&f.flags?Mn(t,e).value:void 0}function Al(t,e,n,r,i,o,l,s,a,u,c,h,d){const f=t.def.nodes[e];return il(t,f,n,r,i,o,l,s,a,u,c,h,d),224&f.flags?Mn(t,e).value:void 0}function kl(t){return Gl(Pl.detectChanges,el,null,[t])}function Ol(t){return Gl(Pl.checkNoChanges,tl,null,[t])}function Nl(t){return Gl(Pl.destroy,ll,null,[t])}const Pl=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Dl,Rl,Ml;function Ll(t,e){Rl=t,Ml=e}function Fl(t,e,n,r){return Ll(t,e),Gl(Pl.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Ul(t,e){if(128&t.state)throw kn(Pl[Dl]);return Ll(t,Bl(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?jl(t,o,r,i):ql(t,o,r,i),16384&o.flags&&Ll(t,Bl(t,n)),224&o.flags?Mn(t,o.nodeIndex).value:void 0}),t)}function Vl(t,e){if(128&t.state)throw kn(Pl[Dl]);return Ll(t,Hl(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?jl(t,o,r,i):ql(t,o,r,i),3&o.flags&&Ll(t,Hl(t,n)),224&o.flags?Mn(t,o.nodeIndex).value:void 0}),t)}function jl(t,e,n,r){if(nl(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],o=i[t];8&r.flags&&(n[ye(r.nonMinifiedName)]=be(o))}const r=e.parent,o=Dn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(o,e,r):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,"bindings="+JSON.stringify(n,null,2))}}}function ql(t,e,n,r){il(t,e,n,...r)}function Bl(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Hl(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class zl{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Xn(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Dn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Lr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Wl(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Wl(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Zn(t);)t=t.parent;return t.parent?Dn(t.parent,Xn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Yn(this.view,this.nodeDef):Yn(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):Un)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Wl(t,e,n){for(let r in e.references)n[r]=jo(t,e,e.references[r])}function Gl(t,e,n,r){const i=Dl,o=Rl,l=Ml;try{Dl=t;const s=e.apply(n,r);return Rl=o,Ml=l,Dl=i,s}catch(s){if(jt(s)||!Rl)throw s;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),An(t,e),t}(s,Kl())}}function Kl(){return Rl?new zl(Rl,Ml):null}class $l{constructor(t){this.delegate=t}createRenderer(t,e){return new Ql(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ql{constructor(t){this.delegate=t,this.debugContextFactory=Kl,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Eo(t);!function(t){Co.delete(t.nativeNode)}(e),e instanceof bo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new wo(n,null,r);e.name=t,Io(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Io(new bo(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Io(new bo(e,null,n)),e}appendChild(t,e){const n=Eo(t),r=Eo(e);n&&r&&n instanceof wo&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Eo(t),i=Eo(e),o=Eo(n);r&&i&&r instanceof wo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Eo(t),r=Eo(e);n&&r&&n instanceof wo&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Kl();return r&&Io(new wo(n,null,r)),n}setAttribute(t,e,n,r){const i=Eo(t);i&&i instanceof wo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Eo(t);r&&r instanceof wo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Eo(t);n&&n instanceof wo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Eo(t);n&&n instanceof wo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Eo(t);i&&i instanceof wo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Eo(t);r&&r instanceof wo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Eo(t);r&&r instanceof wo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Eo(t);r&&r.listeners.push(new _o(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Xl(t,e,n){return new Yl(t,e,n)}class Yl extends Mt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(fl)return;fl=!0;const t=Gt()?{setCurrentNode:Ll,createRootView:gl,createEmbeddedView:vl,createComponentView:yl,createNgModuleRef:_l,overrideProvider:El,overrideComponentView:Il,clearOverrides:Tl,checkAndUpdateView:kl,checkNoChangesView:Ol,destroyView:Nl,createDebugContext:(t,e)=>new zl(t,e),handleEvent:Fl,updateDirectives:Ul,updateRenderer:Vl}:{setCurrentNode:()=>{},createRootView:pl,createEmbeddedView:$o,createComponentView:Xo,createNgModuleRef:qr,overrideProvider:Un,overrideComponentView:Un,clearOverrides:Un,checkAndUpdateView:el,checkNoChangesView:tl,destroyView:ll,createDebugContext:(t,e)=>new zl(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?xl:Al,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?xl:Al,t)};Fn.setCurrentNode=t.setCurrentNode,Fn.createRootView=t.createRootView,Fn.createEmbeddedView=t.createEmbeddedView,Fn.createComponentView=t.createComponentView,Fn.createNgModuleRef=t.createNgModuleRef,Fn.overrideProvider=t.overrideProvider,Fn.overrideComponentView=t.overrideComponentView,Fn.clearOverrides=t.clearOverrides,Fn.checkAndUpdateView=t.checkAndUpdateView,Fn.checkNoChangesView=t.checkNoChangesView,Fn.destroyView=t.destroyView,Fn.resolveDep=si,Fn.createDebugContext=t.createDebugContext,Fn.handleEvent=t.handleEvent,Fn.updateDirectives=t.updateDirectives,Fn.updateRenderer=t.updateRenderer,Fn.dirtyParentQueries=Fo}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(or(this._ngModuleDefFactory));return Fn.createNgModuleRef(this.moduleType,t||Te.NULL,this._bootstrapComponents,e)}}class Jl{}var Zl=n("Wcq6"),ts=n.n(Zl);n("LOEa"),n("NSPt");class es{constructor(){Zl.initializeApp({apiKey:"AIzaSyB3sZ5jaQI4I8rDudJmSjIZgBqGZbwcr1M",authDomain:"telecome2020-53101.firebaseapp.com",databaseURL:"https://telecome2020-53101.firebaseio.com",projectId:"telecome2020-53101",storageBucket:"telecome2020-53101.appspot.com",messagingSenderId:"953242659954",appId:"1:953242659954:web:c39824d943f11f0b3be6eb",measurementId:"G-V53QVD8MTX"})}ngOnInit(){}}class ns{}const rs=new It("Location Initialized");class is{}const os=new It("appBaseHref");class ls{constructor(t,e){this._subject=new yi,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=ls.stripTrailingSlash(ss(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+ls.normalizeQueryParams(e))}normalize(t){return ls.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ss(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ls.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ls.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function ss(t){return t.replace(/\/index.html$/,"")}class as extends is{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ls.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+ls.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+ls.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class us extends is{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ls.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+ls.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+ls.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+ls.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const cs=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),hs=new It("UseV4Plurals");class ds{}class fs extends ds{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=pi[e];if(n)return n;const r=e.split("-")[0];if(n=pi[r],n)return n;if("en"===r)return vi;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[gi.PluralCase]}(e||this.locale)(t)){case cs.Zero:return"zero";case cs.One:return"one";case cs.Two:return"two";case cs.Few:return"few";case cs.Many:return"many";default:return"other"}}}class ps{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class gs{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Gt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ps(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ms(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ms(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class ms{constructor(t,e){this.record=t,this.view=e}}class vs{constructor(t,e){this._viewContainer=t,this._context=new ys,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_s("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_s("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class ys{constructor(){this.$implicit=null,this.ngIf=null}}function _s(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}class bs{}const ws=new It("DocumentToken");function Cs(t){return"server"===t}let Es=(()=>{class t{}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new Is(Nt(ws),window,Nt(Ht))}),t})();class Is{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const Ts=new w(t=>t.complete());function Ss(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Ts}function xs(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function As(...t){let e=t[t.length-1];switch(k(e)?t.pop():e=void 0,t.length){case 0:return Ss(e);case 1:return e?W(t,e):xs(t[0]);default:return W(t,e)}}class ks extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}next(t){super.next(this._value=t)}}function Os(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Os.prototype=Object.create(Error.prototype);const Ns=Os,Ps={};class Ds{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Rs(t,this.resultSelector))}}class Rs extends q{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ps),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,l=this.toRespond?o[n]===Ps?--this.toRespond:this.toRespond:0;o[n]=e,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Ms(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?G(n):Ss()).subscribe(e)})}function Ls(){return Y(1)}function Fs(t,e){return function(n){return n.lift(new Us(t,e))}}class Us{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Vs(t,this.predicate,this.thisArg))}}class Vs extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function js(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}js.prototype=Object.create(Error.prototype);const qs=js;function Bs(t){return function(e){return 0===t?Ss():e.lift(new Hs(t))}}class Hs{constructor(t){if(this.total=t,this.total<0)throw new qs}call(t,e){return e.subscribe(new zs(t,this.total))}}class zs extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ws(t,e,n){return function(r){return r.lift(new Gs(t,e,n))}}class Gs{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ks(t,this.nextOrObserver,this.error,this.complete))}}class Ks extends g{constructor(t,e,n,i){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const $s=(t=Qs)=>Ws({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Qs(){return new Ns}function Xs(t=null){return e=>e.lift(new Ys(t))}class Ys{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Js(t,this.defaultValue))}}class Js extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Zs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fs((e,n)=>t(e,n,r)):X,Bs(1),n?Xs(e):$s(()=>new Ns))}function ta(t){return function(e){const n=new ea(t),r=e.lift(n);return n.caught=r}}class ea{constructor(t){this.selector=t}call(t,e){return e.subscribe(new na(t,this.selector,this.caught))}}class na extends q{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new O(this,void 0,void 0);this.add(r),j(this,n,void 0,void 0,r)}}}function ra(t){return e=>0===t?Ss():e.lift(new ia(t))}class ia{constructor(t){if(this.total=t,this.total<0)throw new qs}call(t,e){return e.subscribe(new oa(t,this.total))}}class oa extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function la(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fs((e,n)=>t(e,n,r)):X,ra(1),n?Xs(e):$s(()=>new Ns))}class sa{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new aa(t,this.predicate,this.thisArg,this.source))}}class aa extends g{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ua(t,e){return"function"==typeof e?n=>n.pipe(ua((n,r)=>G(t(n,r)).pipe(B((t,i)=>e(n,t,r,i))))):e=>e.lift(new ca(t))}class ca{constructor(t){this.project=t}call(t,e){return e.subscribe(new ha(t,this.project))}}class ha extends q{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new O(this,void 0,void 0);this.destination.add(i),this.innerSubscription=j(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function da(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new fa(t,e,n))}}class fa{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new pa(t,this.accumulator,this.seed,this.hasSeed))}}class pa extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ga(t,e){return K(t,e,1)}class ma{constructor(t){this.callback=t}call(t,e){return e.subscribe(new va(t,this.callback))}}class va extends g{constructor(t,e){super(t),this.add(new d(e))}}let ya=null;function _a(){return ya}const ba={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ca={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ea=(()=>{if(Et.Node)return Et.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Ia extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Ia,ya||(ya=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return ba}contains(t,e){return Ea.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ca.hasOwnProperty(e)&&(e=Ca[e]))}return wa[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Sa||(Sa=document.querySelector("base"),Sa)?Sa.getAttribute("href"):null;return null==e?null:(n=e,Ta||(Ta=document.createElement("a")),Ta.setAttribute("href",n),"/"===Ta.pathname.charAt(0)?Ta.pathname:"/"+Ta.pathname);var n}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Ta,Sa=null;function xa(){return!!window.history.pushState}let Aa=(()=>{class t extends ns{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=_a().getLocation(),this._history=_a().getHistory()}getBaseHrefFromDOM(){return _a().getBaseHref(this._doc)}onPopState(t){_a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){_a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){xa()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){xa()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=()=>[{type:void 0,decorators:[{type:lt,args:[ws]}]}],t})();const ka=new It("TRANSITION_ID"),Oa=[{provide:wi,useFactory:function(t,e,n){return()=>{n.get(Ci).donePromise.then(()=>{const n=_a();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ka,ws,Te],multi:!0}];class Na{static init(){var t;t=new Na,io=t}addToWindow(t){Et.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Et.getAllAngularTestabilities=()=>t.getAllTestabilities(),Et.getAllAngularRootElements=()=>t.getAllRootElements(),Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push(t=>{const e=Et.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?_a().isShadowRoot(e)?this.findTestabilityInTree(t,_a().getHost(e),!0):this.findTestabilityInTree(t,_a().parentElement(e),!0):null}}function Pa(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Et.ng=Et.ng||{})[t]=e)}const Da=(()=>({ApplicationRef:ho,NgZone:Ki}))();function Ra(t){return Eo(t)}const Ma=new It("EventManagerPlugins");class La{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class Fa{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=_a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class Ua{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Va extends Ua{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>_a().remove(t))}}const ja={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qa=/%COMP%/g;function Ba(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ba(t,i,n):(i=i.replace(qa,t),n.push(i))}return n}function Ha(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class za{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Wa(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ut.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new $a(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Ut.Native:case Ut.ShadowDom:return new Qa(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ba(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Wa{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ja[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ja[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ja[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&nn.DashCase?t.style.setProperty(e,n,r&nn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Ka(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Ka(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ha(n)):this.eventManager.addEventListener(t,e,Ha(n))}}const Ga=(()=>"@".charCodeAt(0))();function Ka(t,e){if(t.charCodeAt(0)===Ga)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class $a extends Wa{constructor(t,e,n,r){super(t),this.component=n;const i=Ba(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(qa,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(qa,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Qa extends Wa{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Ut.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ba(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Xa=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Ya=Xa("addEventListener"),Ja=Xa("removeEventListener"),Za={},tu="__zone_symbol__propagationStopped",eu=(()=>{const t="undefined"!=typeof Zone&&Zone[Xa("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),nu=function(t){return!!eu&&eu.hasOwnProperty(t)},ru=function(t){const e=Za[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[tu];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class iu extends Fa{constructor(t,e,n){super(t),this.ngZone=e,n&&Cs(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[tu]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Ya]||Ki.isInAngularZone()&&!nu(e))t.addEventListener(e,r,!1);else{let n=Za[e];n||(n=Za[e]=Xa("ANGULAR"+e+"FALSE"));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const l=nu(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:l,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:l,handler:r})}o||t[Ya](e,ru,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Ja];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=Za[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let l=!1;for(let s=0;s<o.length;s++)if(o[s].handler===n){l=!0,o.splice(s,1);break}l?0===o.length&&r.apply(t,[e,ru,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const ou={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},lu=new It("HammerGestureConfig"),su=new It("HammerLoader");class au{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class uu extends Fa{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!ou.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const cu=["alt","control","meta","shift"],hu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class du extends Fa{constructor(t){super(t)}supports(t){return null!=du.parseEventName(t)}addEventListener(t,e,n){const r=du.parseEventName(e),i=du.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_a().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=du._normalizeKey(e.pop());let i="";if(cu.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=_a().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),cu.forEach(r=>{r!=n&&(0,hu[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{du.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class fu{}class pu extends fu{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case pe.NONE:return e;case pe.HTML:return e instanceof mu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{de=de||new Kt(t);let r=e?String(e):"";n=de.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=de.getInertBodyElement(r)}while(r!==o);const l=new ae,s=l.sanitizeChildren(fe(n)||n);return Gt()&&l.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n){const t=fe(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case pe.STYLE:return e instanceof vu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(ve);return e&&Xt(e[1])===e[1]||t.match(me)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Gt()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case pe.SCRIPT:if(e instanceof yu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case pe.URL:return e instanceof bu||e instanceof _u?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Xt(String(e)));case pe.RESOURCE_URL:if(e instanceof bu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof gu)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(t){return new mu(t)}bypassSecurityTrustStyle(t){return new vu(t)}bypassSecurityTrustScript(t){return new yu(t)}bypassSecurityTrustUrl(t){return new _u(t)}bypassSecurityTrustResourceUrl(t){return new bu(t)}}class gu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class mu extends gu{getTypeName(){return"HTML"}}class vu extends gu{getTypeName(){return"Style"}}class yu extends gu{getTypeName(){return"Script"}}class _u extends gu{getTypeName(){return"URL"}}class bu extends gu{getTypeName(){return"ResourceURL"}}const wu=so(To,"browser",[{provide:xi,useValue:"browser"},{provide:Si,useValue:function(){Ia.makeCurrent(),Na.init()},multi:!0},{provide:ns,useClass:Aa,deps:[ws]},{provide:ws,useFactory:function(){return document},deps:[]}]);function Cu(){return new Ht}class Eu{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Eu,providers:[{provide:Ei,useValue:t.appId},{provide:ka,useExisting:Ei},Oa]}}}"undefined"!=typeof window&&window;class Iu{constructor(t,e){this.id=t,this.url=e}}class Tu extends Iu{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Su extends Iu{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xu extends Iu{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Au extends Iu{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ku extends Iu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ou extends Iu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nu extends Iu{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pu extends Iu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Du extends Iu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ru{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lu{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ju{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qu{}class Bu{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Hu(t){return new Bu(t)}function zu(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Wu(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Gu{constructor(t,e){this.routes=t,this.module=e}}function Ku(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];$u(r,Qu(e,r))}}function $u(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ku(t.children,e)}function Qu(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Xu(t){const e=t.children&&t.children.map(Xu),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=qu),n}function Yu(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function Ju(t){return Array.prototype.concat.apply([],t)}function Zu(t){return t.length>0?t[t.length-1]:null}function tc(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ec(t){return Be(t)?t:qe(t)?G(Promise.resolve(t)):As(t)}function nc(t,e,n){return n?function(t,e){return Yu(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!lc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!lc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!lc(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!lc(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class rc{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hu(this.queryParams)),this._queryParamMap}toString(){return cc.serialize(this)}}class ic{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tc(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hc(this)}}class oc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Hu(this.parameters)),this._parameterMap}toString(){return vc(this)}}function lc(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function sc(t,e){let n=[];return tc(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),tc(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class ac{}class uc{parse(t){const e=new Cc(t);return new rc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return hc(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return tc(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=sc(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${hc(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${fc(e)}=${fc(t)}`).join("&"):`${fc(e)}=${fc(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const cc=new uc;function hc(t){return t.segments.map(t=>vc(t)).join("/")}function dc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fc(t){return dc(t).replace(/%3B/gi,";")}function pc(t){return dc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gc(t){return decodeURIComponent(t)}function mc(t){return gc(t.replace(/\+/g,"%20"))}function vc(t){return`${pc(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${pc(t)}=${pc(e[t])}`).join("")}`;var e}const yc=/^[^\/()?;=#]+/;function _c(t){const e=t.match(yc);return e?e[0]:""}const bc=/^[^=?&#]+/,wc=/^[^?&#]+/;class Cc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ic([],{}):new ic([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ic(t,e)),n}parseSegment(){const t=_c(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new oc(gc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=_c(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=_c(this.remaining);t&&(n=t,this.capture(n))}t[gc(e)]=gc(n)}parseQueryParam(t){const e=function(t){const e=t.match(bc);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(wc);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=mc(e),i=mc(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_c(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new ic([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ec{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ic(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ic(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tc(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Tc(t,this._root).map(t=>t.value)}}function Ic(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ic(t,n);if(e)return e}return null}function Tc(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tc(t,n);if(r.length)return r.unshift(e),r}return[]}class Sc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xc(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ac extends Ec{constructor(t,e){super(t),this.snapshot=e,Rc(this,t)}toString(){return this.snapshot.toString()}}function kc(t,e){const n=function(t,e){const n=new Pc([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Dc("",new Sc(n,[]))}(t,e),r=new ks([new oc("",{})]),i=new ks({}),o=new ks({}),l=new ks({}),s=new ks(""),a=new Oc(r,i,l,s,o,"primary",e,n.root);return a.snapshot=n.root,new Ac(new Sc(a,[]),n)}class Oc{constructor(t,e,n,r,i,o,l,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=l,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(t=>Hu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(t=>Hu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nc(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pc{constructor(t,e,n,r,i,o,l,s,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=l,this.routeConfig=s,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dc extends Ec{constructor(t,e){super(e),this.url=t,Rc(this,e)}toString(){return Mc(this._root)}}function Rc(t,e){e.value._routerState=t,e.children.forEach(e=>Rc(t,e))}function Mc(t){const e=t.children.length>0?` { ${t.children.map(Mc).join(", ")} } `:"";return`${t.value}${e}`}function Lc(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yu(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Yu(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yu(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Yu(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Fc(t,e){var n,r;return Yu(t.params,e.params)&&lc(n=t.url,r=e.url)&&n.every((t,e)=>Yu(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Fc(t.parent,e.parent))}function Uc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vc(t,e,n,r,i){let o={};return r&&tc(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new rc(n.root===t?e:function t(e,n,r){const i={};return tc(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new ic(e.segments,i)}(n.root,t,e),o,i)}class jc{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Uc(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Zu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qc{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Bc(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Hc(t,e,n){if(t||(t=new ic([],{})),0===t.segments.length&&t.hasChildren())return zc(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],l=Bc(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&s&&"object"==typeof s&&void 0===s.outlets){if(!$c(l,s,e))return o;r+=2}else{if(!$c(l,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ic(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ic(t.segments.slice(r.pathIndex),t.children),zc(e,0,i)}return r.match&&0===i.length?new ic(t.segments,{}):r.match&&!t.hasChildren()?Wc(t,e,n):r.match?zc(t,0,i):Wc(t,e,n)}function zc(t,e,n){if(0===n.length)return new ic(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return tc(r,(n,r)=>{null!==n&&(i[r]=Hc(t.children[r],e,n))}),tc(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ic(t.segments,i)}}function Wc(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Gc(n[i].outlets);return new ic(r,t)}if(0===i&&Uc(n[0])){r.push(new oc(t.segments[e].path,n[0])),i++;continue}const o=Bc(n[i]),l=i<n.length-1?n[i+1]:null;o&&l&&Uc(l)?(r.push(new oc(o,Kc(l))),i+=2):(r.push(new oc(o,{})),i++)}return new ic(r,{})}function Gc(t){const e={};return tc(t,(t,n)=>{null!==t&&(e[n]=Wc(new ic([],{}),0,t))}),e}function Kc(t){const e={};return tc(t,(t,n)=>e[n]=""+t),e}function $c(t,e,n){return t==n.path&&Yu(e,n.parameters)}class Qc{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Lc(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=xc(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),tc(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=xc(t),i=t.value.component?n.children:e;tc(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=xc(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Vu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Fu(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Lc(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Xc(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Xc(t){Lc(t.value),t.children.forEach(Xc)}function Yc(t){return"function"==typeof t}function Jc(t){return t instanceof rc}class Zc{constructor(t){this.segmentGroup=t||null}}class th{constructor(t){this.urlTree=t}}function eh(t){return new w(e=>e.error(new Zc(t)))}function nh(t){return new w(e=>e.error(new th(t)))}function rh(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ih{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Rt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(B(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ta(t=>{if(t instanceof th)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Zc)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(B(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ta(t=>{if(t instanceof Zc)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ic([],{primary:t}):t;return new rc(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B(t=>new ic([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return As({});const n=[],r=[],i={};return tc(t,(t,o)=>{const l=e(o,t).pipe(B(t=>i[o]=t));"primary"===o?n.push(l):r.push(l)}),As.apply(null,n.concat(r)).pipe(Ls(),Zs(),B(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return As(...n).pipe(B(l=>this.expandSegmentAgainstRoute(t,e,n,l,r,i,o).pipe(ta(t=>{if(t instanceof Zc)return As(null);throw t}))),Ls(),la(t=>!!t),ta((t,n)=>{if(t instanceof Ns||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return As(new ic([],{}));throw new Zc(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,l){return ah(r)!==o?eh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):eh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?nh(i):this.lineralizeSegments(n,i).pipe(K(n=>{const i=new ic(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:l,consumedSegments:s,lastChild:a,positionalParamSegments:u}=oh(e,r,i);if(!l)return eh(e);const c=this.applyRedirectCommands(s,r.redirectTo,u);return r.redirectTo.startsWith("/")?nh(c):this.lineralizeSegments(r,c).pipe(K(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B(t=>(n._loadedConfig=t,new ic(r,{})))):As(new ic(r,{}));const{matched:i,consumedSegments:o,lastChild:l}=oh(e,n,r);if(!i)return eh(e);const s=r.slice(l);return this.getChildConfig(t,n,r).pipe(K(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:l}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>sh(t,e,n)&&"primary"!==ah(n))}(t,n,r)?{segmentGroup:lh(new ic(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==ah(r)&&(n[ah(r)]=new ic([],{}));return n}(r,new ic(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>sh(t,e,n))}(t,n,r)?{segmentGroup:lh(new ic(t.segments,function(t,e,n,r){const i={};for(const o of n)sh(t,e,o)&&!r[ah(o)]&&(i[ah(o)]=new ic([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,s,r);return 0===l.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(B(t=>new ic(o,t))):0===r.length&&0===l.length?As(new ic(o,{})):this.expandSegment(n,i,r,l,"primary",!0).pipe(B(t=>new ic(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?As(new Gu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?As(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?G(r).pipe(B(r=>{const i=t.get(r);let o;if(function(t){return t&&Yc(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Yc(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return ec(o)})).pipe(Ls(),(i=t=>!0===t,t=>t.lift(new sa(i,void 0,t)))):As(!0);var i}(t.injector,e,n).pipe(K(n=>n?this.configLoader.load(t.injector,e).pipe(B(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(zu(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):As(new Gu([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return As(n);if(r.numberOfChildren>1||!r.children.primary)return rh(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new rc(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return tc(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return tc(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new ic(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function oh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Wu)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function lh(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ic(t.segments.concat(e.segments),e.children)}return t}function sh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ah(t){return t.outlet||"primary"}class uh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ch{constructor(t,e){this.component=t,this.route=e}}function hh(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=xc(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=e.value,s=n?n.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&l.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!lc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lc(t.url,e.url)||!Yu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fc(t,e)||!Yu(t.queryParams,e.queryParams);case"paramsChange":default:return!Fc(t,e)}}(s,l,l.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new uh(i)):(l.data=s.data,l._resolvedData=s._resolvedData),t(e,n,l.component?a?a.children:null:r,i,o),u&&o.canDeactivateChecks.push(new ch(a&&a.outlet&&a.outlet.component||null,s))}else s&&fh(n,a,o),o.canActivateChecks.push(new uh(i)),t(e,null,l.component?a?a.children:null:r,i,o)}(e,l[e.value.outlet],r,i.concat([e.value]),o),delete l[e.value.outlet]}),tc(l,(t,e)=>fh(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function dh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function fh(t,e,n){const r=xc(t),i=t.value;tc(r,(t,r)=>{fh(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ch(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const ph=Symbol("INITIAL_VALUE");function gh(){return ua(t=>function(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),W(t,n).lift(new Ds(e))}(...t.map(t=>t.pipe(ra(1),function(...t){return e=>{let n=t[t.length-1];k(n)?t.pop():n=null;const r=t.length;return function(...t){return Ls()(As(...t))}(1!==r||n?r>0?W(t,n):Ss(n):xs(t[0]),e)}}(ph)))).pipe(da((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ph)return t;if(r===ph&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Jc(r))return r}return t},t)},ph),Fs(t=>t!==ph),B(t=>Jc(t)?t:!0===t),ra(1)))}function mh(t,e){return null!==t&&e&&e(new Uu(t)),As(!0)}function vh(t,e){return null!==t&&e&&e(new Lu(t)),As(!0)}function yh(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?As(r.map(r=>Ms(()=>{const i=dh(r,e,n);let o;if(function(t){return t&&Yc(t.canActivate)}(i))o=ec(i.canActivate(e,t));else{if(!Yc(i))throw new Error("Invalid CanActivate guard");o=ec(i(e,t))}return o.pipe(la())}))).pipe(gh()):As(!0)}function _h(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ms(()=>As(e.guards.map(i=>{const o=dh(i,e.node,n);let l;if(function(t){return t&&Yc(t.canActivateChild)}(o))l=ec(o.canActivateChild(r,t));else{if(!Yc(o))throw new Error("Invalid CanActivateChild guard");l=ec(o(r,t))}return l.pipe(la())})).pipe(gh())));return As(i).pipe(gh())}class bh{}class wh{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ih(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Pc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Sc(n,e),i=new Dc(this.url,r);return this.inheritParamsAndData(i._root),As(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Nc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=sc(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof bh))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new bh}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new bh;if((t.outlet||"primary")!==r)throw new bh;let i,o=[],l=[];if("**"===t.path){const o=n.length>0?Zu(n).parameters:{};i=new Pc(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xh(t),r,t.component,t,Ch(e),Eh(e)+n.length,Ah(t))}else{const s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new bh;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Wu)(n,t,e);if(!r)throw new bh;const i={};tc(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=s.consumedSegments,l=n.slice(s.lastChild),i=new Pc(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xh(t),r,t.component,t,Ch(e),Eh(e)+o.length,Ah(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=Ih(e,o,l,s,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const t=this.processChildren(s,a);return[new Sc(i,t)]}if(0===s.length&&0===u.length)return[new Sc(i,[])];const c=this.processSegment(s,a,u,"primary");return[new Sc(i,c)]}}function Ch(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Eh(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ih(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Th(t,e,n)&&"primary"!==Sh(n))}(t,n,r)){const i=new ic(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Sh(o)){const n=new ic([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Sh(o)]=n}return i}(t,e,r,new ic(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Th(t,e,n))}(t,n,r)){const o=new ic(t.segments,function(t,e,n,r,i,o){const l={};for(const s of r)if(Th(t,n,s)&&!i[Sh(s)]){const n=new ic([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,l[Sh(s)]=n}return Object.assign({},i,l)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ic(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Th(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Sh(t){return t.outlet||"primary"}function xh(t){return t.data||{}}function Ah(t){return t.resolve||{}}function kh(t,e,n,r){const i=dh(t,e,r);return ec(i.resolve?i.resolve(e,n):i(e,n))}function Oh(t){return function(e){return e.pipe(ua(e=>{const n=t(e);return n?G(n).pipe(B(()=>e)):G([e])}))}}class Nh{}class Ph{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Dh=new It("ROUTES");class Rh{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Gu(Ju(r.injector.get(Dh)).map(Xu),r)}))}loadModuleFactory(t){return"string"==typeof t?G(this.loader.load(t)):ec(t()).pipe(K(t=>t instanceof Mt?As(t):G(this.compiler.compileModuleAsync(t))))}}class Mh{}class Lh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fh(t){throw t}function Uh(t,e,n){return e.parse("/")}function Vh(t,e){return As(null)}class jh{constructor(t,e,n,r,i,o,l,s){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=Fh,this.malformedUriErrorHandler=Uh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Vh,afterPreactivation:Vh},this.urlHandlingStrategy=new Lh,this.routeReuseStrategy=new Ph,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Rt),this.console=i.get(ki);const a=i.get(Ki);this.isNgZoneEnabled=a instanceof Ki,this.resetConfig(s),this.currentUrlTree=new rc(new ic([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rh(o,l,t=>this.triggerEvent(new Ru(t)),t=>this.triggerEvent(new Mu(t))),this.routerState=kc(this.currentUrlTree,this.rootComponentType),this.transitions=new ks({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Fs(t=>0!==t.id),B(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ua(t=>{let n=!1,r=!1;return As(t).pipe(Ws(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ua(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return As(t).pipe(ua(t=>{const n=this.transitions.getValue();return e.next(new Tu(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ts:[t]}),ua(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,l=this.config,function(t){return t.pipe(ua(t=>function(t,e,n,r,i){return new ih(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,l).pipe(B(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),Ws(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(K(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new wh(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(B(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ws(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ws(t=>{const n=new ku(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,l;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:l}=t,s=new Tu(n,this.serializeUrl(r),i,o);e.next(s);const a=kc(r,this.rootComponentType).snapshot;return As(Object.assign({},t,{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign({},l,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ts}),Oh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:l}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!l})}),Ws(t=>{const e=new Ou(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),B(t=>Object.assign({},t,{guards:hh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=n;return 0===l.length&&0===o.length?As(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return G(t).pipe(K(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?As(o.map(o=>{const l=dh(o,e,i);let s;if(function(t){return t&&Yc(t.canDeactivate)}(l))s=ec(l.canDeactivate(t,e,n,r));else{if(!Yc(l))throw new Error("Invalid CanDeactivate guard");s=ec(l(t,e,n,r))}return s.pipe(la())})).pipe(gh()):As(!0)}(t.component,t.route,n,e,r)),la(t=>!0!==t,!0))}(l,r,i,t).pipe(K(n=>n&&"boolean"==typeof n?function(t,e,n,r){return G(e).pipe(ga(e=>G([vh(e.route.parent,r),mh(e.route,r),_h(t,e.path,n),yh(t,e.route,n)]).pipe(Ls(),la(t=>!0!==t,!0))),la(t=>!0!==t,!0))}(r,o,t,e):As(n)),B(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Ws(t=>{if(Jc(t.guardsResult)){const e=zu(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Ws(t=>{const e=new Nu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Fs(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new xu(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Oh(t=>{if(t.guards.canActivateChecks.length)return As(t).pipe(Ws(t=>{const e=new Pu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(K(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?G(i).pipe(ga(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return As({});if(1===i.length){const o=i[0];return kh(t[o],e,n,r).pipe(B(t=>({[o]:t})))}const o={};return G(i).pipe(K(i=>kh(t[i],e,n,r).pipe(B(t=>(o[i]=t,t))))).pipe(Zs(),B(()=>o))}(t._resolve,t,e,r).pipe(B(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Nc(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return _(da(t,e),Bs(1),Xs(e))(n)}:function(e){return _(da((e,n,r)=>t(e,n,r+1)),Bs(1))(e)}}((t,e)=>t),B(e=>t)):As(t)}))}),Ws(t=>{const e=new Du(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Oh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:l}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!l})}),B(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Sc(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Oc(new ks((i=n.value).url),new ks(i.params),new ks(i.queryParams),new ks(i.fragment),new ks(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Sc(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Ac(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Ws(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,l=this.routeReuseStrategy,s=t=>this.triggerEvent(t),B(t=>(new Qc(l,t.targetRouterState,t.currentRouterState,s).activate(o),t))),Ws({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new xu(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ma(i))),ta(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jc(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new xu(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Au(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Ts}));var i,o,l,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ku(t),this.config=t.map(Xu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:l,preserveFragment:s}=e;Gt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;if(l)switch(l){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Vc(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new jc(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return tc(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new jc(n,e,r)}(n);if(o.toRoot())return Vc(e.root,new ic([],{}),e,r,i);const l=function(t,e,n){if(t.isAbsolute)return new qc(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new qc(n.snapshot._urlSegment,!0,0);const r=Uc(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qc(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=l.processChildren?zc(l.segmentGroup,l.index,o.commands):Hc(l.segmentGroup,l.index,o.commands);return Vc(l.segmentGroup,s,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){Gt()&&this.isNgZoneEnabled&&!Ki.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Jc(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Jc(t))return nc(this.currentUrlTree,t,e);const n=this.parseUrl(t);return nc(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Su(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,l=null;const s=new Promise((t,e)=>{o=t,l=e}),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:l,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class qh{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Su&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Gt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Bh(this.skipLocationChange),replaceUrl:Bh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Bh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Bh(this.preserveFragment)})}}function Bh(t){return""===t||!!t}class Hh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zh,this.attachRef=null}}class zh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Hh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wh{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new yi,this.deactivateEvents=new yi,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Gh(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Gh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Oc?this.route:t===zh?this.childContexts:this.parent.get(t,e)}}class Kh{}class $h{preload(t,e){return e().pipe(ta(()=>As(null)))}}class Qh{preload(t,e){return As(null)}}class Xh{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Rh(e,n,e=>t.triggerEvent(new Ru(e)),e=>t.triggerEvent(new Mu(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fs(t=>t instanceof Su),ga(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Rt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return G(n).pipe(Y(),B(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(K(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Yh{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Su&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ju&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ju(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Jh=new It("ROUTER_CONFIGURATION"),Zh=new It("ROUTER_FORROOT_GUARD"),td=[ls,{provide:ac,useClass:uc},{provide:jh,useFactory:sd,deps:[ho,ac,zh,ls,Te,po,Li,Dh,Jh,[Mh,new st],[Nh,new st]]},zh,{provide:Oc,useFactory:ad,deps:[jh]},{provide:po,useClass:vo},Xh,Qh,$h,{provide:Jh,useValue:{enableTracing:!1}}];function ed(){return new lo("Router",jh)}class nd{constructor(t,e){}static forRoot(t,e){return{ngModule:nd,providers:[td,ld(t),{provide:Zh,useFactory:od,deps:[[jh,new st,new ut]]},{provide:Jh,useValue:e||{}},{provide:is,useFactory:id,deps:[ns,[new lt(os),new st],Jh]},{provide:Yh,useFactory:rd,deps:[jh,Es,Jh]},{provide:Kh,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Qh},{provide:lo,multi:!0,useFactory:ed},[ud,{provide:wi,multi:!0,useFactory:cd,deps:[ud]},{provide:dd,useFactory:hd,deps:[ud]},{provide:Ai,multi:!0,useExisting:dd}]]}}static forChild(t){return{ngModule:nd,providers:[ld(t)]}}}function rd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yh(t,e,n)}function id(t,e,n={}){return n.useHash?new as(t,e):new us(t,e)}function od(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ld(t){return[{provide:De,multi:!0,useValue:t},{provide:Dh,multi:!0,useValue:t}]}function sd(t,e,n,r,i,o,l,s,a={},u,c){const h=new jh(null,e,n,r,i,o,l,Ju(s));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=_a();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function ad(t){return t.routerState.root}class ud{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(rs,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(jh),r=this.injector.get(Jh);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?As(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Jh),n=this.injector.get(Xh),r=this.injector.get(Yh),i=this.injector.get(jh),o=this.injector.get(ho);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function cd(t){return t.appInitializer.bind(t)}function hd(t){return t.bootstrapListener.bind(t)}const dd=new It("Router Initializer");var fd=qn({encapsulation:2,styles:[],data:{}});function pd(t){return Wo(0,[(t()(),Po(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Yr(1,212992,null,0,Wh,[zh,Tn,$e,[8,null],we],null,null)],(function(t,e){t(e,1,0)}),null)}function gd(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"ng-component",[],null,null,null,pd,fd)),Yr(1,49152,null,0,qu,[],null,null)],null,null)}var md=xr("ng-component",qu,gd,{},{},[]);class vd extends q{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=j(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const yd=new It("NgValueAccessor"),_d=new It("CompositionEventMode");class bd{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=_a()?_a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class wd{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cd extends wd{get formDirective(){return null}get path(){return null}}function Ed(){throw new Error("unimplemented")}class Id extends wd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Ed()}get asyncValidator(){return Ed()}}class Td{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Sd extends Td{constructor(t){super(t)}}class xd extends Td{constructor(t){super(t)}}function Ad(t){return null==t||0===t.length}const kd=new It("NgValidators"),Od=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nd{static min(t){return e=>{if(Ad(e.value)||Ad(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ad(e.value)||Ad(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ad(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ad(t.value)||Od.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ad(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Nd.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ad(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Pd);return 0==e.length?null:function(t){return Rd(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Pd);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&a(e[0])&&(e=e[0]),0===e.length?Ts:n?t(e).pipe(B(t=>n(...t))):new w(t=>new vd(t,e))}(function(t,e){return e.map(e=>e(t))}(t,e).map(Dd)).pipe(B(Rd))}}}function Pd(t){return null!=t}function Dd(t){const e=qe(t)?G(t):t;if(!Be(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Rd(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Md(t){return t.validate?e=>t.validate(e):t}function Ld(t){return t.validate?e=>t.validate(e):t}class Fd{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class Ud{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Vd='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',jd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class qd{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Vd)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${jd}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Vd)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+jd)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}class Bd{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Le}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}function Hd(t,e){return[...e.path,t]}function zd(t,e){t||$d(e,"Cannot find control with"),e.valueAccessor||$d(e,"No value accessor for form control with"),t.validator=Nd.compose([t.validator,e.validator]),t.asyncValidator=Nd.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Wd(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Wd(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Wd(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Gd(t,e){null==t&&$d(e,"Cannot find control with"),t.validator=Nd.compose([t.validator,e.validator]),t.asyncValidator=Nd.composeAsync([t.asyncValidator,e.asyncValidator])}function Kd(t){return $d(t,"There is no FormControl instance attached to form control element with")}function $d(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Qd(t){return null!=t?Nd.compose(t.map(Md)):null}function Xd(t){return null!=t?Nd.composeAsync(t.map(Ld)):null}const Yd=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},Fd,Bd,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Le}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Id),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Jd(t){const e=tf(t)?t.validators:t;return Array.isArray(e)?Qd(e):e||null}function Zd(t,e){const n=tf(e)?e.asyncValidators:t;return Array.isArray(n)?Xd(n):n||null}function tf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ef{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Jd(t)}setAsyncValidators(t){this.asyncValidator=Zd(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Dd(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof rf?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof of&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yi,this.statusChanges=new yi}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class nf extends ef{constructor(t=null,e,n){super(Jd(e),Zd(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class rf extends ef{constructor(t,e,n){super(Jd(e),Zd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof nf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class of extends ef{constructor(t,e,n){super(Jd(e),Zd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof nf?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const lf=new It("NgFormSelectorWarning");class sf extends Cd{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Hd(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Qd(this._validators)}get asyncValidator(){return Xd(this._asyncValidators)}_checkParentType(){}}class af{}const uf=new It("NgModelWithFormControlWarning");class cf extends Cd{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new yi}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return zd(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Gd(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Gd(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Kd(e)),e.valueAccessor.registerOnTouched(()=>Kd(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&zd(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Qd(this._validators);this.form.validator=Nd.compose([this.form.validator,t]);const e=Xd(this._asyncValidators);this.form.asyncValidator=Nd.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||qd.missingFormException()}}class hf extends sf{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){ff(this._parent)&&qd.groupParentException()}}class df extends Cd{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Hd(this.name,this._parent)}get validator(){return Qd(this._validators)}get asyncValidator(){return Xd(this._asyncValidators)}_checkParentType(){ff(this._parent)&&qd.arrayParentException()}}function ff(t){return!(t instanceof hf||t instanceof cf||t instanceof df)}let pf=(()=>{class t extends Id{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new yi,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||$d(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===bd?n=e:(o=e,Yd.some(t=>o.constructor===t)?(r&&$d(t,"More than one built-in value accessor matches form control with"),r=e):(i&&$d(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||($d(t,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(t){qd.disabledAttrWarning()}ngOnChanges(e){var n,r,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Le(e,n.currentValue)}(e,this.viewModel)&&(n=t,r=this,i=this._ngModelWarningConfig,Gt()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||r._ngModelWarningSent)||(qd.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hd(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Qd(this._rawValidators)}get asyncValidator(){return Xd(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof hf)&&this._parent instanceof sf?qd.ngModelGroupException():this._parent instanceof hf||this._parent instanceof cf||this._parent instanceof df||qd.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class gf{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Nd.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class mf{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Nd.pattern(this.pattern)}}class vf{}class yf{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new rf(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new nf(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new of(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof nf||t instanceof rf||t instanceof of?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class _f{static withConfig(t){return{ngModule:_f,providers:[{provide:lf,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class bf{static withConfig(t){return{ngModule:bf,providers:[{provide:uf,useValue:t.warnOnNgModelWithFormControl}]}}}var wf=n("iqUP");class Cf{constructor(t,e,n){this.fb=t,this.router=e,this.db=n,this.bcat=[],this.bac=[],this.totac=0,this.Msg="",this.errorMsg2="",this.serveurForm=new rf({serveur:new nf("",Nd.required),employe:new nf("",Nd.required)}),this.adminFormEdit=new rf({id:new nf("",Nd.required),serveur:new nf("",Nd.required),employe:new nf("",Nd.required)})}formatDate(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}ngOnInit(){this.db.collection("access").snapshotChanges().subscribe(t=>{this.bac=[],this.totac=0,t.forEach(t=>{this.totac++;let e=t.payload.doc.data();e.id=t.payload.doc.id,this.bac.push(e)})}),this.chargerListServeurs(),this.chargerListEmployes()}chargerListEmployes(){this.db.collection("employes").snapshotChanges().subscribe(t=>{var e=document.getElementById("listemp");e.innerText="";var n=document.createElement("option");n.selected=!0,n.disabled=!0,n.innerText="S\xe9lectionnez Employe ...",e.appendChild(n),t.forEach(t=>{let n=t.payload.doc.data();n.id=t.payload.doc.id;var r=document.createElement("option");r.value=String(n.cin),r.innerText=String(n.cin),e.appendChild(r)})})}chargerListServeurs(){this.db.collection("serveurs").snapshotChanges().subscribe(t=>{var e=document.getElementById("listser");e.innerText="";var n=document.createElement("option");n.selected=!0,n.disabled=!0,n.innerText="S\xe9lectionnez Serveur ...",e.appendChild(n),t.forEach(t=>{let n=t.payload.doc.data();n.id=t.payload.doc.id;var r=document.createElement("option");r.value=String(n.hostname),r.innerText=String(n.hostname),e.appendChild(r)})})}hh(){this.Msg="",this.db.collection("access").add({serveur:this.serveurForm.get("serveur").value,employe:this.serveurForm.get("employe").value,active:"true",date:this.formatDate(new Date)}),this.Msg="Enregistrement Nouvelle Acc\xe9es  Avec Succ\xe9es !",this.chargerListServeurs(),this.chargerListEmployes()}edit(t){this.adminFormEdit.get("id").setValue(t.id),this.adminFormEdit.get("serveur").setValue(t.serveur),this.adminFormEdit.get("employe").setValue(t.employe)}onSignOut(){wf.auth().signOut()}delete(t){this.db.doc("access/"+t.id).delete()}bloquer(t){this.db.doc("access/"+t.id).update({active:"false"})}debloquer(t){this.db.doc("access/"+t.id).update({active:"true"})}}class Ef extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class If extends Ef{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Tf=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Sf extends Tf{constructor(t,e=Tf.now){super(t,()=>Sf.delegate&&Sf.delegate!==this?Sf.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Sf.delegate&&Sf.delegate!==this?Sf.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const xf=new Sf(If);function Af(t,e){return function(t,e=xf){return new w(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function kf(t,e){return Af(t,e).pipe(B(t=>({payload:t,type:"query"})))}let Of=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return As(this.value);case"E":return t=this.error,new w(e=>e.error(t));case"C":return Ss()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Nf(t,e=0){return function(n){return n.lift(new Pf(t,e))}}class Pf{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Df(t,this.scheduler,this.delay))}}class Df extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Df.dispatch,this.delay,new Rf(t,this.destination)))}_next(t){this.scheduleMessage(Of.createNext(t))}_error(t){this.scheduleMessage(Of.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Of.createComplete()),this.unsubscribe()}}class Rf{constructor(t,e){this.notification=t,this.destination=e}}function Mf(t,e){return kf(t,e).pipe(B(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Lf(t,e,n){return kf(t,n).pipe(B(t=>t.payload.docChanges()),da((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),B(t=>t.map(t=>({type:t.type,payload:t}))))}function Ff(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Uf{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Mf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(e=>e.filter(e=>t.indexOf(e.type)>-1)),Fs(t=>t.length>0)):Mf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(da((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ff(t);return Lf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return kf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return G(this.query.get(t)).pipe(Nf(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Vf(this.ref.doc(t),this.afs)}}class Vf{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=vp(n,e);return new Uf(r,i,this.afs)}snapshotChanges(){return Af(this.ref,this.afs.schedulers.outsideAngular).pipe(B(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(B(t=>t.payload.data()))}get(t){return G(this.ref.get(t)).pipe(Nf(this.afs.schedulers.insideAngular))}}class jf{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Mf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(e=>e.filter(e=>t.indexOf(e.type)>-1)),Fs(t=>t.length>0)):Mf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(da((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ff(t);return Lf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return kf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,B(t=>t.payload.docs.map(t=>t.data())))}get(t){return G(this.query.get(t)).pipe(Nf(this.afs.schedulers.insideAngular))}}class qf extends If{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Bf extends Sf{}const Hf=new Bf(qf);let zf=1;const Wf={},Gf={setImmediate(t){const e=zf++;return Wf[e]=t,Promise.resolve().then(()=>function(t){const e=Wf[t];e&&e()}(e)),e},clearImmediate(t){delete Wf[t]}};class Kf extends If{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Gf.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Gf.clearImmediate(e),t.scheduled=void 0)}}class $f extends Sf{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Qf=new $f(Kf);class Xf extends w{constructor(t,e=0,n=Qf){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(a(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Qf)}static create(t,e=0,n=Qf){return new Xf(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Xf.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Yf{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Xf(e,this.delay,this.scheduler).subscribe(t)}}function Jf(){}class Zf{constructor(t,e=Hf){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class tp{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jf,{},Jf,Jf)),e.pipe(Ws(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class ep{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Zf(Zone.current)),this.insideAngular=t.run(()=>new Zf(Zone.current,xf))}}function np(t,e){return function(n){return Cs(e)&&(n=n.lift(new tp(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new Yf(t,e))}}(t.outsideAngular),Nf(t.insideAngular))}}var rp;const ip=new It("angularfire2.app.options"),op=new It("angularfire2.app.nameOrConfig"),lp=ip,sp=op;class ap{}const up=new ln("5.4.2");function cp(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",ts.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>ts.a.initializeApp(t,r))}let hp=rp=class{constructor(t){ts.a.registerVersion&&(ts.a.registerVersion("angularfire",up.full,t.toString()),ts.a.registerVersion("angular",sn.full))}static initializeApp(t,e){return{ngModule:rp,providers:[{provide:lp,useValue:t},{provide:sp,useValue:e}]}}};const dp=new It("angularfire2.enableFirestorePersistence"),fp=new It("angularfire2.firestore.persistenceSettings"),pp=new It("angularfire2.firestore.settings"),gp=parseInt(ts.a.SDK_VERSION.split(".")[0]),mp=gp<5||5==gp&&parseInt(ts.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function vp(t,e=(t=>t)){return{query:e(t),ref:t}}let yp=class{constructor(t,e,n,r,i,o,l){this.schedulers=new ep(o),this.keepUnstableUntilFirst=np(this.schedulers,i),this.firestore=o.runOutsideAngular(()=>{const n=cp(t,o,e).firestore();return n.settings(r||mp),n}),this.persistenceEnabled$=n&&!Cs(i)?o.runOutsideAngular(()=>{try{return G(this.firestore.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(t){return As(!1)}}):As(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=vp(n,e);return new Uf(r,i,this)}collectionGroup(t,e){if(gp<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new jf(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new Vf(e,this)}createId(){return this.firestore.collection("_").doc().id}};var _p=qn({encapsulation:0,styles:[".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }",[""]],data:{}});function bp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-success"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Active "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square "]],null,null,null,null,null))],null,null)}function wp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-danger"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["D\xe9sactiv\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-block"]],null,null,null,null,null))],null,null)}function Cp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.bloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" D\xe9activer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null))],null,null)}function Ep(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.debloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" R\xe9activer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock-open"]],null,null,null,null,null))],null,null)}function Ip(t){return Wo(0,[(t()(),Po(0,0,null,null,19,"tr",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@600&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"td",[["class","text-primary"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(3,null,[""," "])),(t()(),Po(4,0,null,null,1,"td",[["class","text-danger"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(5,null,[""," "])),(t()(),Po(6,0,null,null,1,"td",[["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(7,null,["",""])),(t()(),No(16777216,null,null,1,null,bp)),Yr(9,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,wp)),Yr(11,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(12,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Cp)),Yr(14,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Ep)),Yr(16,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(17,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(19,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],(function(t,e){t(e,9,0,"true"==e.context.$implicit.active),t(e,11,0,"true"!=e.context.$implicit.active),t(e,14,0,"true"==e.context.$implicit.active),t(e,16,0,"true"!=e.context.$implicit.active)}),(function(t,e){t(e,3,0,e.context.$implicit.serveur),t(e,5,0,e.context.$implicit.employe),t(e,7,0,e.context.$implicit.date)}))}function Tp(t){return Wo(0,[(t()(),Po(0,0,null,null,0,"meta",[["charset","utf-8"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"meta",[["content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","viewport"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"meta",[["content",""],["name","description"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"meta",[["content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","author"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,0,"meta",[["content","Jekyll v4.1.1"],["name","generator"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"title",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Dashboard Template \xb7 Bootstrap"])),(t()(),Po(7,0,null,null,0,"link",[["href","https://getbootstrap.com/docs/4.5/examples/dashboard/"],["rel","canonical"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,0,"link",[["crossorigin","anonymous"],["href","/docs/4.5/dist/css/bootstrap.min.css"],["integrity","sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/apple-touch-icon.png"],["rel","apple-touch-icon"],["sizes","180x180"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-32x32.png"],["rel","icon"],["sizes","32x32"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-16x16.png"],["rel","icon"],["sizes","16x16"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/manifest.json"],["rel","manifest"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"link",[["color","#563d7c"],["href","/docs/4.5/assets/img/favicons/safari-pinned-tab.svg"],["rel","mask-icon"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon.ico"],["rel","icon"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,0,"meta",[["content","/docs/4.5/assets/img/favicons/browserconfig.xml"],["name","msapplication-config"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"meta",[["content","#563d7c"],["name","theme-color"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,9,"nav",[["class","navbar navbar-dark sticky-top bg-info flex-md-nowrap p-0 shadow"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"a",[["class","navbar-brand col-md-3 col-lg-2 mr-0 px-3"],["href","#"],["style","font-family: 'Lobster', cursive;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Tunisie T\xe9l\xe9come"])),(t()(),Po(20,0,null,null,1,"button",[["aria-controls","sidebarMenu"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler position-absolute d-md-none collapsed"],["data-target","#sidebarMenu"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,4,"ul",[["class","navbar-nav px-3"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,3,"li",[["class","nav-item text-nowrap"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSignOut()&&r),r}),null,null)),(t()(),Bo(-1,null,["D\xe9connexion "])),(t()(),Po(26,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,106,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,105,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,25,"nav",[["class","col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"],["id","sidebarMenu"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,24,"div",[["class","sidebar-sticky pt-3"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,23,"ul",[["class","nav flex-column"],["style","font-family: 'Lobster', cursive;  "]],null,null,null,null,null)),(t()(),Po(32,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(33,0,null,null,4,"a",[["class","nav-link active"],["href","/admin"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,0,"span",[["data-feather","home"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Dashboard "])),(t()(),Po(36,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Bo(-1,null,["(current)"])),(t()(),Po(38,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"a",[["class","nav-link"],["href","/admins"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Admins "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(43,0,null,null,2,"a",[["class","nav-link"],["href","/employes"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Employ\xe9s "])),(t()(),Po(45,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(46,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(47,0,null,null,2,"a",[["class","nav-link"],["href","/serveurs"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Serveurs "])),(t()(),Po(49,0,null,null,0,"i",[["class","fa fa-link"]],null,null,null,null,null)),(t()(),Po(50,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,3,"a",[["class","nav-link"],["href","/as"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,0,"span",[["data-feather","bar-chart-2"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Acc\xe9s Serveurs "])),(t()(),Po(54,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(55,0,null,null,78,"main",[["class","col-md-9 ml-sm-auto col-lg-10 px-md-4"],["role","main"]],null,null,null,null,null)),(t()(),Po(56,0,null,null,4,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(58,0,null,null,0,"img",[["class","animate__animated animate__zoomIn"],["height","200"],["src","../../assets/img/undraw_server_cluster_jwwq.svg"]],null,null,null,null,null)),(t()(),Po(59,0,null,null,1,"h1",[["class","animate__animated animate__flipInX animate_delay-2s"],["style","font-family: 'Lobster', cursive; color: blue; "]],null,null,null,null,null)),(t()(),Bo(-1,null,["Gestion Acc\xe9s des Serveurs "])),(t()(),Po(61,0,null,null,7,"nav",[["aria-label","breadcrumb"]],null,null,null,null,null)),(t()(),Po(62,0,null,null,6,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(t()(),Po(63,0,null,null,3,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(t()(),Po(64,0,null,null,2,"a",[["routerLink","/admin"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ur(t,65).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Yr(65,671744,null,0,qh,[jh,Oc,is],{routerLink:[0,"routerLink"]},null),(t()(),Bo(-1,null,["Accueil"])),(t()(),Po(67,0,null,null,1,"li",[["aria-current","page"],["class","breadcrumb-item active"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Acc\xe9es Serveurs "])),(t()(),Po(69,0,null,null,3,"p",[["class","text-left"],["style","font-family: 'Chewy', cursive;"]],null,null,null,null,null)),(t()(),Po(70,0,null,null,2,"button",[["aria-controls","collapseExample"],["aria-expanded","false"],["class","btn btn-outline-info"],["data-target","#collapseExample"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Nouvelle Acc\xe9es "])),(t()(),Po(72,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(73,0,null,null,35,"div",[["class","collapse"],["id","collapseExample"]],null,null,null,null,null)),(t()(),Po(74,0,null,null,34,"div",[["class","card card-body"]],null,null,null,null,null)),(t()(),Po(75,0,null,null,33,"form",[["class","was-validated text-center container"],["novalidate",""],["style","width: 50%;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,77).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,77).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.hh()&&r),r}),null,null)),Yr(76,16384,null,0,af,[],null,null),Yr(77,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(79,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(80,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(81,0,null,null,9,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(82,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 17, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Serveur "])),(t()(),Po(84,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(85,0,null,null,5,"select",[["class","form-control "],["formControlName","serveur"],["id","listser"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Ur(t,86).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,86).onTouched()&&r),r}),null,null)),Yr(86,16384,null,0,Bd,[rn,Je],null,null),Jr(1024,null,yd,(function(t){return[t]}),[Bd]),Yr(88,671744,null,0,pf,[[3,Cd],[8,null],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(90,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(91,0,null,null,9,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(92,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 17, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Employe "])),(t()(),Po(94,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(95,0,null,null,5,"select",[["class","form-control "],["formControlName","employe"],["id","listemp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Ur(t,96).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,96).onTouched()&&r),r}),null,null)),Yr(96,16384,null,0,Bd,[rn,Je],null,null),Jr(1024,null,yd,(function(t){return[t]}),[Bd]),Yr(98,671744,null,0,pf,[[3,Cd],[8,null],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(100,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(101,0,null,null,3,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(102,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,[" Valider "])),(t()(),Po(104,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null)),(t()(),Po(105,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(106,0,null,null,1,"h5",[["class","text-dark"]],null,null,null,null,null)),(t()(),Bo(107,null,["",""])),(t()(),Po(108,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(109,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(110,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(111,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(112,0,null,null,4,"div",[["class","alert alert-warning alert-dismissible fade show text-center"],["role","alert"],["style","font-family: 'Lobster', cursive; font-size : 18px;"]],null,null,null,null,null)),(t()(),Bo(113,null,[" Il existe "," Serveurs Chez T\xe9l\xe9come ! "])),(t()(),Po(114,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(t()(),Po(115,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Bo(-1,null,["\xd7"])),(t()(),Po(117,0,null,null,16,"table",[["class","table table-light text-center table-hover"],["style","font-family: 'Bree Serif', serif; font-size : 18px;"]],null,null,null,null,null)),(t()(),Po(118,0,null,null,12,"thead",[],null,null,null,null,null)),(t()(),Po(119,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Serveur "])),(t()(),Po(121,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(122,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Employe "])),(t()(),Po(124,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(125,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Date Acc\xe9e "])),(t()(),Po(127,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(128,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Options "])),(t()(),Po(130,0,null,null,0,"i",[["class","fa fa-th-large"]],null,null,null,null,null)),(t()(),Po(131,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Ip)),Yr(133,278528,null,0,gs,[Tn,En,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,65,0,"/admin"),t(e,77,0,n.serveurForm),t(e,88,0,"serveur"),t(e,98,0,"employe"),t(e,133,0,n.bac)}),(function(t,e){var n=e.component;t(e,64,0,Ur(e,65).target,Ur(e,65).href),t(e,75,0,Ur(e,79).ngClassUntouched,Ur(e,79).ngClassTouched,Ur(e,79).ngClassPristine,Ur(e,79).ngClassDirty,Ur(e,79).ngClassValid,Ur(e,79).ngClassInvalid,Ur(e,79).ngClassPending),t(e,85,0,Ur(e,90).ngClassUntouched,Ur(e,90).ngClassTouched,Ur(e,90).ngClassPristine,Ur(e,90).ngClassDirty,Ur(e,90).ngClassValid,Ur(e,90).ngClassInvalid,Ur(e,90).ngClassPending),t(e,95,0,Ur(e,100).ngClassUntouched,Ur(e,100).ngClassTouched,Ur(e,100).ngClassPristine,Ur(e,100).ngClassDirty,Ur(e,100).ngClassValid,Ur(e,100).ngClassInvalid,Ur(e,100).ngClassPending),t(e,102,0,!n.serveurForm.valid),t(e,107,0,n.Msg),t(e,113,0,n.totac)}))}function Sp(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-accesserveurs",[],null,null,null,Tp,_p)),Yr(1,114688,null,0,Cf,[yf,jh,yp],null,null)],(function(t,e){t(e,1,0)}),null)}var xp=xr("app-accesserveurs",Cf,Sp,{},{},[]),Ap=n("mrSG");class kp{constructor(t,e,n){this.router=t,this.fb=e,this.db=n,this.err="",this.cat=[],this.cp="",this.errorMsg="",this.loginForm=this.fb.group({email:["",[Nd.required,Nd.email]],mtp:["",Nd.required]})}ngOnInit(){this.db.collection("admins").snapshotChanges().subscribe(t=>{this.cat=[],t.forEach(t=>{let e=t.payload.doc.data();e.id=t.payload.doc.id,e.email==this.loginForm.get("email").value&&e.mtp==this.loginForm.get("mtp").value&&this.cat.push(e)})})}loginUser(){this.verfieUser(),"BLOCK"==this.cp?this.err="D\xe9sol\xe9 Mr./Mdme. ! Votre Compte est bloqu\xe9 a ce moment . ":Zl.auth().signInWithEmailAndPassword(this.loginForm.get("email").value,this.loginForm.get("mtp").value).then(()=>{this.router.navigate(["/admin"])},t=>{this.err="Votre Donn\xe9es sont incorrectes . R\xe9essayez !"})}reset(){this.verfieUser(),"BLOCK"==this.cp?this.err="D\xe9sol\xe9 Mr./Mdme. ! Votre Compte est bloqu\xe9 a ce moment . ":Zl.auth().sendPasswordResetEmail(this.loginForm.get("email").value).then(()=>Ap.__awaiter(this,void 0,void 0,(function*(){var t=this.loginForm.get("email").value;this.err="Vous Avez Re\xe7u Un Message sur votre adresse Mail "+t+" . Merci De Le Consulter .",this.loginForm.get("email").setValue(""),this.loginForm.get("mtp").setValue("")})))}verfieUser(){var t=this.loginForm.get("email").value,e=this.loginForm.get("mtp").value;for(let n=0;n<this.cat.length;n++){const r=this.cat[n];if(r.email==t&&"false"==r.compte&&r.mtp==e)return void(this.cp="BLOCK")}}}var Op=qn({encapsulation:0,styles:[[".formlogin[_ngcontent-%COMP%]{width:23%}@font-face{font-family:mouse-300}@font-face{font-family:mouse-500}*[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}img[_ngcontent-%COMP%]{max-width:100%}a[_ngcontent-%COMP%]{text-decoration:none;outline:0;color:#444}a[_ngcontent-%COMP%]:hover{color:#444}ul[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover, input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{text-decoration:none;outline:0}.center[_ngcontent-%COMP%]{text-align:center}.left[_ngcontent-%COMP%]{text-align:left}.btn-success[_ngcontent-%COMP%]:disabled{color:#fff;background-color:#d8170e;border-color:#d8170e}.right[_ngcontent-%COMP%]{text-align:right}.cp[_ngcontent-%COMP%]{cursor:pointer}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}p[_ngcontent-%COMP%]{margin-bottom:0;width:100%}.no-padding[_ngcontent-%COMP%]{padding:0}.no-margin[_ngcontent-%COMP%]{margin:0}.hid[_ngcontent-%COMP%]{display:none}.top-mar[_ngcontent-%COMP%]{margin-top:15px}.h-100[_ngcontent-%COMP%]{height:100%}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}[_ngcontent-%COMP%]::-moz-placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}[_ngcontent-%COMP%]::placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}.container-fluid[_ngcontent-%COMP%]{padding:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-family:mouse-500,Arial,Helvetica,sans-serif}body[_ngcontent-%COMP%]{background-color:#f7f7ff!important;font-family:mouse-300,Arial,Helvetica,sans-serif;color:#6a6a6a}.session-title[_ngcontent-%COMP%]{padding:30px;margin:0}.session-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;text-align:center}.session-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:850px;text-align:center;float:none;margin:auto}.session-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;font-style:italic}.inner-title[_ngcontent-%COMP%]{padding:20px 20px 20px 0;margin-bottom:30px}.inner-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:2rem;font-family:slab,Arial,Helvetica,sans-serif}.inner-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:center}.page-nav[_ngcontent-%COMP%]{padding:160px 40px 40px;text-align:center}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:none;margin:auto}.page-nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;width:100%;color:#444}@media screen and (max-width:600px){.page-nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px}}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;margin-right:10px;margin-top:10px;font-size:16px}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:30px;text-align:center;color:#444}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444}.btn-success[_ngcontent-%COMP%]{background-color:#d8170e;border-color:#d8170e}.btn-success[_ngcontent-%COMP%]:active, .btn-success[_ngcontent-%COMP%]:hover{background-color:#d8170e!important;border-color:#d8170e!important}.btn-success[_ngcontent-%COMP%]:focus{background-color:#d8170e!important;border-color:#d8170e!important;box-shadow:none!important}.btn-info[_ngcontent-%COMP%]{background-color:#d8170e;border-color:#d8170e}.btn-info[_ngcontent-%COMP%]:active, .btn-info[_ngcontent-%COMP%]:hover{background-color:#d8170e!important;border-color:#d8170e!important}.btn-info[_ngcontent-%COMP%]:focus{background-color:#d8170e!important;border-color:#d8170e!important;box-shadow:none!important}.btn[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:2px}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none!important;box-shadow:none;border:2px solid #d8170e!important;background-color:#fff}.btn-light[_ngcontent-%COMP%]{background-color:#fff;color:#3f3f3f}.collapse.show[_ngcontent-%COMP%]{display:block!important}.form-control[_ngcontent-%COMP%]{background-color:#f8f8f8;margin-bottom:20px}.container[_ngcontent-%COMP%]{max-width:1100px}.login-box[_ngcontent-%COMP%]{background-color:#fff;float:none;margin:8% auto auto;box-shadow:0 3px 8px 0 rgba(0,0,0,.2),0 0 0 1px rgba(0,0,0,.08);border-radius:5px}@media screen and (max-width:575px){.container[_ngcontent-%COMP%]{padding:20px 30px}.login-box[_ngcontent-%COMP%]{margin-top:0}}.log-det[_ngcontent-%COMP%]{padding:20px}.log-det[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.log-det[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-right:10px}.log-det[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:20px;width:100%;text-align:center}.log-det[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:none;margin:auto;width:200px}.log-det[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;padding:10px}.log-det[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;width:40px;height:40px;text-align:center;border-radius:50px}.log-det[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:20px;margin-top:10px}.log-det[_ngcontent-%COMP%]   .small-info[_ngcontent-%COMP%]{font-size:14px}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]{max-width:300px;float:none;margin:auto}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f8f8f8;border-radius:0;border-right:0}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#777474}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-left:0;border-radius:0}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;padding:10px 30px;margin:auto auto 10px;font-size:13px}.box-de[_ngcontent-%COMP%]{background-color:#d8170e;display:flex}.box-de[_ngcontent-%COMP%]   .ditk-inf[_ngcontent-%COMP%]{margin:auto;align-items:center;text-align:center;color:#fff}.box-de[_ngcontent-%COMP%]   .ditk-inf[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px}.box-de[_ngcontent-%COMP%]   .ditk-inf[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-radius:50px;box-shadow:none;padding:5px 20px;margin-top:25px}.box-de[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;color:#fff}.box-de[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;margin-right:5px}.sup[_ngcontent-%COMP%]{margin-top:40px}@media screen and (max-width:767px){.login-box[_ngcontent-%COMP%]{margin-bottom:60px}.box-de[_ngcontent-%COMP%]{padding:30px}.sup-oi[_ngcontent-%COMP%]{margin-top:40px!important}}"]],data:{}});function Np(t){return Wo(0,[(t()(),Po(0,0,null,null,60,"div",[["class","container-fluid "]],null,null,null,null,null)),(t()(),Po(1,0,null,null,59,"div",[["class","container "]],null,null,null,null,null)),(t()(),Po(2,0,null,null,58,"div",[["class","row "]],null,null,null,null,null)),(t()(),Po(3,0,null,null,57,"div",[["class","col-sm-10 login-box"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,56,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,44,"div",[["class","col-lg-8 col-md-7 log-det text-center"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Sansita+Swashed:wght@800&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["alt","Angular Logo"],["class","animate__animated animate__jackInTheBox  "],["src","../assets/img/logo telecome.jpg"],["width","150"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,1,"h5",[["class","animate__animated animate__backInUp  animate__delay-1s"],["style","font-family: 'Sansita Swashed', cursive; color: rgb(216 23 14);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Espace Administrateur"])),(t()(),Po(10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(11,0,null,null,38,"div",[["class","text-box-cont"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,14).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,14).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.loginUser()&&r),r}),null,null)),Yr(13,16384,null,0,af,[],null,null),Yr(14,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(16,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(17,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,0,"i",[["class","fas fa-user"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Mail"],["class","form-control"],["formControlName","email"],["placeholder","Mail"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,22)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(22,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(24,671744,null,0,pf,[[3,Cd],[8,null],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(26,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(27,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,0,"i",[["class","fas fa-lock"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Mot De Passe"],["class","form-control"],["formControlName","mtp"],["placeholder","Mot De Passe"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,32)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(32,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(34,671744,null,0,pf,[[3,Cd],[8,null],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(36,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(37,0,null,null,0,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(38,0,null,null,3,"div",[["class","input-group center mb-3"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"button",[["class","btn btn-success btn-round"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,["SE CONNECTER "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-sign-in"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Satisfy&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(43,0,null,null,1,"span",[["class","text-danger"],["style","  font-family: 'Sansita Swashed', cursive;   font-weight: 600;\n                                font-size: 23px;"]],null,null,null,null,null)),(t()(),Bo(44,null,["",""])),(t()(),Po(45,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(46,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(47,0,null,null,2,"h6",[["class","text-right"]],null,null,null,null,null)),(t()(),Po(48,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.reset()&&r),r}),null,null)),(t()(),Bo(-1,null,[" Mot De Passe Oubli\xe9 ! "])),(t()(),Po(50,0,null,null,10,"div",[["class","col-lg-4 col-md-5 box-de"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,9,"div",[["class","ditk-inf"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,1,"h2",[["class","w-100"],["style","font-family: 'Sansita Swashed', cursive;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Espace Employ\xe9s "])),(t()(),Po(54,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Si Vous etes un Employe , Cliquez sur Le button Ci-dessous pour vous connecter"])),(t()(),Po(56,0,null,null,4,"a",[["href","/loginEmp"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Acme&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(58,0,null,null,2,"button",[["class","btn btn-outline-light"],["style","font-family: 'Acme', sans-serif;"],["type","button"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Employ\xe9 "])),(t()(),Po(60,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null))],(function(t,e){t(e,14,0,e.component.loginForm),t(e,24,0,"email"),t(e,34,0,"mtp")}),(function(t,e){var n=e.component;t(e,12,0,Ur(e,16).ngClassUntouched,Ur(e,16).ngClassTouched,Ur(e,16).ngClassPristine,Ur(e,16).ngClassDirty,Ur(e,16).ngClassValid,Ur(e,16).ngClassInvalid,Ur(e,16).ngClassPending),t(e,21,0,Ur(e,26).ngClassUntouched,Ur(e,26).ngClassTouched,Ur(e,26).ngClassPristine,Ur(e,26).ngClassDirty,Ur(e,26).ngClassValid,Ur(e,26).ngClassInvalid,Ur(e,26).ngClassPending),t(e,31,0,Ur(e,36).ngClassUntouched,Ur(e,36).ngClassTouched,Ur(e,36).ngClassPristine,Ur(e,36).ngClassDirty,Ur(e,36).ngClassValid,Ur(e,36).ngClassInvalid,Ur(e,36).ngClassPending),t(e,39,0,!n.loginForm.valid),t(e,44,0,n.err)}))}function Pp(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-loginadmin",[],null,null,null,Np,Op)),Yr(1,114688,null,0,kp,[jh,yf,yp],null,null)],(function(t,e){t(e,1,0)}),null)}var Dp=xr("app-loginadmin",kp,Pp,{},{},[]);class Rp{constructor(t,e,n){this.router=t,this.fb=e,this.db=n,this.err="",this.cat=[],this.cp="",this.errorMsg="",this.loginForm=this.fb.group({email:["",[Nd.required,Nd.email]],mtp:["",Nd.required]})}ngOnInit(){this.db.collection("employes").snapshotChanges().subscribe(t=>{this.cat=[],t.forEach(t=>{let e=t.payload.doc.data();e.id=t.payload.doc.id,this.cat.push(e)})})}loginUser(){this.verfieUser(),"BLOCK"==this.cp?this.err="D\xe9sol\xe9 Mr./Mdme. ! Votre Compte est bloqu\xe9 a ce moment . ":Zl.auth().signInWithEmailAndPassword(this.loginForm.get("email").value,this.loginForm.get("mtp").value).then(()=>{this.router.navigate(["/profile/"])},t=>{this.err="Votre Donn\xe9es sont incorrectes . R\xe9essayez !"})}reset(){this.verfieUser(),"BLOCK"==this.cp?this.err="D\xe9sol\xe9 Mr./Mdme. ! Votre Compte est bloqu\xe9 a ce moment . ":Zl.auth().sendPasswordResetEmail(this.loginForm.get("email").value).then(()=>Ap.__awaiter(this,void 0,void 0,(function*(){var t=this.loginForm.get("email").value;this.err="Vous Avez Re\xe7u Un Message sur votre adresse Mail "+t+" . Merci De Le Consulter .",this.loginForm.get("email").setValue(""),this.loginForm.get("mtp").setValue("")})))}verfieUser(){var t=this.loginForm.get("email").value,e=this.loginForm.get("mtp").value;for(let n=0;n<this.cat.length;n++){const r=this.cat[n];if(r.email==t&&"false"==r.compte&&r.mtp==e)return void(this.cp="BLOCK")}}}var Mp=qn({encapsulation:0,styles:[[".formlogin[_ngcontent-%COMP%]{width:23%}@font-face{font-family:mouse-300}@font-face{font-family:mouse-500}*[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}img[_ngcontent-%COMP%]{max-width:100%}a[_ngcontent-%COMP%]{text-decoration:none;outline:0;color:#444}a[_ngcontent-%COMP%]:hover{color:#444}ul[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover, input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{text-decoration:none;outline:0}.center[_ngcontent-%COMP%]{text-align:center}.left[_ngcontent-%COMP%]{text-align:left}.right[_ngcontent-%COMP%]{text-align:right}.cp[_ngcontent-%COMP%]{cursor:pointer}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}p[_ngcontent-%COMP%]{margin-bottom:0;width:100%}.no-padding[_ngcontent-%COMP%]{padding:0}.no-margin[_ngcontent-%COMP%]{margin:0}.hid[_ngcontent-%COMP%]{display:none}.top-mar[_ngcontent-%COMP%]{margin-top:15px}.h-100[_ngcontent-%COMP%]{height:100%}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}[_ngcontent-%COMP%]::-moz-placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}[_ngcontent-%COMP%]::placeholder{color:#747f8a!important;font-size:13px;opacity:.5!important}.container-fluid[_ngcontent-%COMP%]{padding:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-family:mouse-500,Arial,Helvetica,sans-serif}body[_ngcontent-%COMP%]{background-color:#f7f7ff!important;font-family:mouse-300,Arial,Helvetica,sans-serif;color:#6a6a6a}.session-title[_ngcontent-%COMP%]{padding:30px;margin:0}.session-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;text-align:center}.session-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:850px;text-align:center;float:none;margin:auto}.session-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;font-style:italic}.inner-title[_ngcontent-%COMP%]{padding:20px 20px 20px 0;margin-bottom:30px}.inner-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:2rem;font-family:slab,Arial,Helvetica,sans-serif}.inner-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:center}.page-nav[_ngcontent-%COMP%]{padding:160px 40px 40px;text-align:center}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:none;margin:auto}.page-nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;width:100%;color:#444}@media screen and (max-width:600px){.page-nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px}}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;margin-right:10px;margin-top:10px;font-size:16px}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:30px;text-align:center;color:#444}.page-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444}.btn-success[_ngcontent-%COMP%]{background-color:rgba(24,31,255,.73);border-color:rgba(24,31,255,.73)}.btn-success[_ngcontent-%COMP%]:active, .btn-success[_ngcontent-%COMP%]:hover{background-color:rgba(24,31,255,.73)!important;border-color:rgba(24,31,255,.73)!important}.btn-success[_ngcontent-%COMP%]:focus{background-color:rgba(24,31,255,.73)!important;border-color:rgba(24,31,255,.73)!important;box-shadow:none!important}.btn-info[_ngcontent-%COMP%]{background-color:rgba(24,31,255,.73);border-color:rgba(24,31,255,.73)}.btn-info[_ngcontent-%COMP%]:active, .btn-info[_ngcontent-%COMP%]:hover{background-color:rgba(24,31,255,.73)!important;border-color:rgba(24,31,255,.73)!important}.btn-info[_ngcontent-%COMP%]:focus{background-color:rgba(24,31,255,.73)!important;border-color:rgba(24,31,255,.73)!important;box-shadow:none!important}.btn[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:2px}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none!important;box-shadow:none;border:2px solid rgba(24,31,255,.73)!important;background-color:#fff}.btn-light[_ngcontent-%COMP%]{background-color:#fff;color:#3f3f3f}.collapse.show[_ngcontent-%COMP%]{display:block!important}.form-control[_ngcontent-%COMP%]{background-color:#f8f8f8;margin-bottom:20px}.container[_ngcontent-%COMP%]{max-width:1100px}.login-box[_ngcontent-%COMP%]{background-color:#fff;float:none;margin:8% auto auto;box-shadow:0 3px 8px 0 rgba(0,0,0,.2),0 0 0 1px rgba(0,0,0,.08);border-radius:5px}@media screen and (max-width:575px){.container[_ngcontent-%COMP%]{padding:20px 30px}.login-box[_ngcontent-%COMP%]{margin-top:0}}.log-det[_ngcontent-%COMP%]{padding:20px}.log-det[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.log-det[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-right:10px}.log-det[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:20px;width:100%;text-align:center}.log-det[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:none;margin:auto;width:200px}.log-det[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;padding:10px}.log-det[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;width:40px;height:40px;text-align:center;border-radius:50px}.log-det[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:20px;margin-top:10px}.log-det[_ngcontent-%COMP%]   .small-info[_ngcontent-%COMP%]{font-size:14px}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]{max-width:300px;float:none;margin:auto}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f8f8f8;border-radius:0;border-right:0}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#777474}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-left:0;border-radius:0}.log-det[_ngcontent-%COMP%]   .text-box-cont[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;padding:10px 30px;margin:auto auto 10px;font-size:13px}.box-de[_ngcontent-%COMP%]{background-color:rgba(24,31,255,.73);display:flex}.box-de[_ngcontent-%COMP%]   .ditk-inf[_ngcontent-%COMP%]{margin:auto;align-items:center;text-align:center;color:#fff}.box-de[_ngcontent-%COMP%]   .ditk-inf[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px}.box-de[_ngcontent-%COMP%]   .ditk-inf[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-radius:50px;box-shadow:none;padding:5px 20px;margin-top:25px}.btn-success[_ngcontent-%COMP%]:disabled{color:#fff;background-color:rgba(24,31,255,.73);border-color:rgba(24,31,255,.73)}.box-de[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;color:#fff}.box-de[_ngcontent-%COMP%]   .small-logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;margin-right:5px}.sup[_ngcontent-%COMP%]{margin-top:40px}@media screen and (max-width:767px){.login-box[_ngcontent-%COMP%]{margin-bottom:60px}.box-de[_ngcontent-%COMP%]{padding:30px}.sup-oi[_ngcontent-%COMP%]{margin-top:40px!important}}"]],data:{}});function Lp(t){return Wo(0,[(t()(),Po(0,0,null,null,60,"div",[["class","container-fluid "]],null,null,null,null,null)),(t()(),Po(1,0,null,null,59,"div",[["class","container "]],null,null,null,null,null)),(t()(),Po(2,0,null,null,58,"div",[["class","row "]],null,null,null,null,null)),(t()(),Po(3,0,null,null,57,"div",[["class","col-sm-10 login-box"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,56,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,44,"div",[["class","col-lg-8 col-md-7 log-det text-center"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Sansita+Swashed:wght@800&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"img",[["alt","Angular Logo"],["class","animate__animated animate__jackInTheBox  "],["src","../assets/img/logo telecome.jpg"],["width","150"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,1,"h5",[["class","animate__animated animate__backInUp  animate__delay-1s"],["style","font-family: 'Sansita Swashed', cursive; color: rgb(24 31 255 / 73%);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Espace Employ\xe9s"])),(t()(),Po(10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(11,0,null,null,38,"div",[["class","text-box-cont"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,14).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,14).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.loginUser()&&r),r}),null,null)),Yr(13,16384,null,0,af,[],null,null),Yr(14,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(16,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(17,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,0,"i",[["class","fas fa-user"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Mail"],["class","form-control"],["formControlName","email"],["placeholder","Mail"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,22)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(22,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(24,671744,null,0,pf,[[3,Cd],[8,null],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(26,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(27,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,0,"i",[["class","fas fa-lock"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Mot De Passe"],["class","form-control"],["formControlName","mtp"],["placeholder","Mot De Passe"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,32)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(32,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(34,671744,null,0,pf,[[3,Cd],[8,null],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(36,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(37,0,null,null,0,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(38,0,null,null,3,"div",[["class","input-group center mb-3"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"button",[["class","btn btn-success btn-round"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,["SE CONNECTER "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-sign-in"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Satisfy&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(43,0,null,null,1,"span",[["class","text-danger"],["style","  font-family: 'Sansita Swashed', cursive;   font-weight: 600;\n                                font-size: 23px;"]],null,null,null,null,null)),(t()(),Bo(44,null,["",""])),(t()(),Po(45,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(46,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(47,0,null,null,2,"h6",[["class","text-right"]],null,null,null,null,null)),(t()(),Po(48,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.reset()&&r),r}),null,null)),(t()(),Bo(-1,null,[" Mot De Passe Oubli\xe9 ! "])),(t()(),Po(50,0,null,null,10,"div",[["class","col-lg-4 col-md-5 box-de"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,9,"div",[["class","ditk-inf"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,1,"h2",[["class","w-100"],["style","font-family: 'Sansita Swashed', cursive;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Espace Administrateur "])),(t()(),Po(54,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Bo(-1,null,["C'est Espace Pour Les Administrateurs de cette application , Cliquez sur Le button Ci-dessous pour vous connecter"])),(t()(),Po(56,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Acme&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,3,"a",[["href","/loginAdmin"]],null,null,null,null,null)),(t()(),Po(58,0,null,null,2,"button",[["class","btn btn-outline-light"],["style","font-family: 'Acme', sans-serif;"],["type","button"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Administrateur "])),(t()(),Po(60,0,null,null,0,"i",[["class","fa fa-user-tie"]],null,null,null,null,null))],(function(t,e){t(e,14,0,e.component.loginForm),t(e,24,0,"email"),t(e,34,0,"mtp")}),(function(t,e){var n=e.component;t(e,12,0,Ur(e,16).ngClassUntouched,Ur(e,16).ngClassTouched,Ur(e,16).ngClassPristine,Ur(e,16).ngClassDirty,Ur(e,16).ngClassValid,Ur(e,16).ngClassInvalid,Ur(e,16).ngClassPending),t(e,21,0,Ur(e,26).ngClassUntouched,Ur(e,26).ngClassTouched,Ur(e,26).ngClassPristine,Ur(e,26).ngClassDirty,Ur(e,26).ngClassValid,Ur(e,26).ngClassInvalid,Ur(e,26).ngClassPending),t(e,31,0,Ur(e,36).ngClassUntouched,Ur(e,36).ngClassTouched,Ur(e,36).ngClassPristine,Ur(e,36).ngClassDirty,Ur(e,36).ngClassValid,Ur(e,36).ngClassInvalid,Ur(e,36).ngClassPending),t(e,39,0,!n.loginForm.valid),t(e,44,0,n.err)}))}function Fp(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-login",[],null,null,null,Lp,Mp)),Yr(1,114688,null,0,Rp,[jh,yf,yp],null,null)],(function(t,e){t(e,1,0)}),null)}var Up=xr("app-login",Rp,Fp,{},{},[]);class Vp{constructor(t,e){this.db=t,this.router=e,this.dc="",this.time=new Date,this.nn="",this.month="",this.annee="",this.jour="",this.ampm="",this.Msg="",this.minute="",this.second="",this.emailuser="",this.bcat=[],this.bemp=[],this.datenais="",this.bserv=[],this.blserv=[],this.p1="",this.p2="",this.p3="",this.p4="",this.p5="",this.p6="",this.p7="",this.p8="",this.totserv=0,this.opertaion=""}ngOnInit(){var t;this.db.collection("access").snapshotChanges().subscribe(t=>{this.bserv=[],this.totserv=0,t.forEach(t=>{this.totserv++;let e=t.payload.doc.data();e.id=t.payload.doc.id,this.bserv.push(e)})});var e=wf.auth().currentUser;this.db.collection("employes").snapshotChanges().subscribe(t=>{t.forEach(t=>{let e=t.payload.doc.data();e.id=t.payload.doc.id,e.email!=wf.auth().currentUser.email.toString()||this.bemp.push(e)})}),t=e.emailVerified,document.getElementById("hhh").innerText+=1==t?"Votre Adresse Mail est v\xe9rifie ":"  Vous avez re\xe7u un email de v\xe9rifiation sur votre compte email . \n Merci pour votre confiance ",setInterval(()=>{const t=new Date;this.updateDate(t)},1e3),this.dc=this.formatDate(new Date);var n=(new Date).getDay().toString();this.nn="1"===n?"Lundi":"2"===n?"Mardi":"3"===n?"Mercredi":"4"===n?"Jeudi":"5"===n?"Vendredi":"6"===n?"Samedi":"Dimanche",this.jour=this.time.getDate().toString();var r=this.time.getUTCMonth()+1;this.month=r.toString(),this.annee=this.time.getFullYear().toString()}formatDate(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}onSignOut(){wf.auth().signOut()}updateDate(t){const e=t.getHours()-1;this.ampm=e>=12?"PM":"AM",this.hour=e,this.hour=this.hour,this.hour=this.hour<10?"0"+this.hour:this.hour,"00"==this.hour&&(this.hour="23");const n=t.getMinutes();this.minute=n<10?"0"+n:n.toString();const r=t.getSeconds();this.second=r<10?"0"+r:r.toString()}viewServeur(t){this.db.collection("serveurs").snapshotChanges().subscribe(e=>{this.blserv=[],e.forEach(e=>{let n=e.payload.doc.data();n.id=e.payload.doc.id,n.hostname==t&&this.blserv.push(n)})})}}var jp=qn({encapsulation:0,styles:[".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }",[".fa-cog[_ngcontent-%COMP%]{-webkit-animation:6s linear infinite rotating}@-webkit-keyframes rotating{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}"]],data:{}});function qp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Bloqu\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-ban"]],null,null,null,null,null))],null,null)}function Bp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Active "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function Hp(t){return Wo(0,[(t()(),Po(0,0,null,null,52,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,3,"div",[["class","col-lg-4 text-center"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"img",[["height","250"],["src","../../assets/img/logo telecome.jpg"],["style","border-radius: 50%;"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,1,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(4,null,[" Mr./Mdme. "," "," "])),(t()(),Po(5,0,null,null,47,"div",[["class","col-lg-8"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,20,"div",[["class","col-lg-6"],["style","line-height: 40px; font-weight: bold; font-family: 'Lobster', cursive; font-size: 20px;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Num\xe9ro Carte Cin "])),(t()(),Po(9,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Num\xe9ro T\xe9l\xe9phone "])),(t()(),Po(12,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" E-Mail "])),(t()(),Po(15,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Adresse Locale "])),(t()(),Po(18,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Date De Naissance "])),(t()(),Po(21,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Date Cr\xe9ation Compte "])),(t()(),Po(24,0,null,null,0,"i",[["class","fas fa-users-cog"]],null,null,null,null,null)),(t()(),Po(25,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Etat Compte "])),(t()(),Po(27,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,18,"div",[["class","col-lg-6"],["style","line-height: 40px;  font-size: 20px; font-weight: bold;"]],null,null,null,null,null)),(t()(),Bo(29,null,[" "," "])),(t()(),Po(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(31,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Bo(32,null,[" ",""])),(t()(),Po(33,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(34,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Bo(35,null,["",""])),(t()(),Po(36,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(37,null,[" "," "])),(t()(),Po(38,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(39,null,[" "," "])),(t()(),Po(40,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(41,null,[" ",""])),(t()(),Po(42,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,qp)),Yr(44,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Bp)),Yr(46,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(47,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(48,0,null,null,4,"h5",[["style","font-family: 'Lobster', cursive; color: rgb(233, 13, 42);"]],null,null,null,null,null)),(t()(),Po(49,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Derni\xe9re Modification Du Compte : "])),(t()(),Po(51,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Bo(52,null,["",""]))],(function(t,e){t(e,44,0,"false"==e.context.$implicit.compte),t(e,46,0,"true"==e.context.$implicit.compte)}),(function(t,e){t(e,4,0,e.context.$implicit.nom,e.context.$implicit.prenom),t(e,29,0,e.context.$implicit.cin),t(e,32,0,e.context.$implicit.phone),t(e,35,0,e.context.$implicit.email),t(e,37,0,e.context.$implicit.adresse),t(e,39,0,e.context.$implicit.date),t(e,41,0,e.context.$implicit.datenais),t(e,52,0,e.context.$implicit.modified)}))}function zp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-success"],["style","font-weight: bold;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Active "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function Wp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-danger"],["style","font-weight: bold;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Bloqu\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null))],null,null)}function Gp(t){return Wo(0,[(t()(),Po(0,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,2,"button",[["class","btn btn-outline-dark"],["style","font-family: 'Lobster', cursive;"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.opertaion="view",r=!1!==i.viewServeur(t.parent.context.$implicit.serveur)&&r),r}),null,null)),(t()(),Bo(-1,null,[" Consulter Serveur "])),(t()(),Po(3,0,null,null,0,"i",[["class","fa fa-info"]],null,null,null,null,null))],null,null)}function Kp(t){return Wo(0,[(t()(),Po(0,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@600&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(3,null,["",""])),(t()(),Po(4,0,null,null,1,"td",[["class","text-primary"],["style","font-weight: bold;"]],null,null,null,null,null)),(t()(),Bo(5,null,["",""])),(t()(),Po(6,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(7,null,["",""])),(t()(),No(16777216,null,null,1,null,zp)),Yr(9,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Wp)),Yr(11,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Gp)),Yr(13,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,9,0,"true"==e.context.$implicit.active),t(e,11,0,"false"==e.context.$implicit.active),t(e,13,0,"true"==e.context.$implicit.active)}),(function(t,e){t(e,3,0,e.context.$implicit.id),t(e,5,0,e.context.$implicit.serveur),t(e,7,0,e.context.$implicit.date)}))}function $p(t){return Wo(0,[(t()(),Po(0,0,null,null,27,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,3,"h1",[["class","text-center text-info"],["style","font-family: 'Chewy', cursive;"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"img",[["height","180"],["src","../../assets/img/undraw_server_q2pb.svg"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Historique Acc\xe9es Serveurs "])),(t()(),Po(5,0,null,null,5,"div",[["class","alert alert-warning alert-dismissible fade show text-center"],["role","alert"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Bo(7,null,[" Vous Avez Maintenant "," Acc\xe9es Au Serveurs Web !"])),(t()(),Po(8,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Bo(-1,null,["\xd7"])),(t()(),Po(11,0,null,null,16,"table",[["class","table table-light text-center  "],["style","font-family: 'Bree Serif', serif; font-size : 18px;"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,12,"thead",[],null,null,null,null,null)),(t()(),Po(13,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Id Acc\xe9es "])),(t()(),Po(15,0,null,null,0,"i",[["class","fa fa-id-badge"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Nom Serveur "])),(t()(),Po(18,0,null,null,0,"i",[["class","fa fa-server"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Date Acc\xe9es "])),(t()(),Po(21,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Etat Acc\xe9es "])),(t()(),Po(24,0,null,null,0,"i",[["class","fa fa-info"]],null,null,null,null,null)),(t()(),Po(25,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Kp)),Yr(27,278528,null,0,gs,[Tn,En,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,27,0,e.component.bserv)}),(function(t,e){t(e,7,0,e.component.totserv)}))}function Qp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-success"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Activ\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function Xp(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-danger"]],null,null,null,null,null)),(t()(),Bo(-1,null,["D\xe9sactiv\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null))],null,null)}function Yp(t){return Wo(0,[(t()(),Po(0,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(2,null,["",""])),(t()(),Po(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(4,null,["",""])),(t()(),Po(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(6,null,["",""])),(t()(),Po(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(8,null,["",""])),(t()(),Po(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(10,null,["",""])),(t()(),Po(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(12,null,["",""])),(t()(),Po(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(14,null,["",""])),(t()(),Po(15,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(16,null,["",""])),(t()(),No(16777216,null,null,1,null,Qp)),Yr(18,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Xp)),Yr(20,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,18,0,"true"==e.context.$implicit.active),t(e,20,0,"false"==e.context.$implicit.active)}),(function(t,e){t(e,2,0,e.context.$implicit.id),t(e,4,0,e.context.$implicit.hostname),t(e,6,0,e.context.$implicit.idMangement),t(e,8,0,e.context.$implicit.ipBackup),t(e,10,0,e.context.$implicit.type),t(e,12,0,e.context.$implicit.mtp),t(e,14,0,e.context.$implicit.debit),t(e,16,0,e.context.$implicit.date)}))}function Jp(t){return Wo(0,[(t()(),Po(0,0,null,null,39,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"h1",[["class","text-center"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"img",[["height","180"],["src","../../assets/img/undraw_server_q2pb.svg"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,1,"h3",[["class","text-center"],["style"," font-size : 38px; font-family: 'Chewy', cursive;  "]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Caract\xe9ristique Du Serveur "])),(t()(),Po(5,0,null,null,31,"table",[["class","table table-warning text-center  "],["style","font-family: 'Bree Serif', serif; font-size : 18px;"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,27,"thead",[],null,null,null,null,null)),(t()(),Po(7,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Id "])),(t()(),Po(9,0,null,null,0,"i",[["class","fa fa-id-badge"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Hostname "])),(t()(),Po(12,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Id Management "])),(t()(),Po(15,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["ID BackUp "])),(t()(),Po(18,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Type"])),(t()(),Po(21,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Mot De Passe "])),(t()(),Po(24,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(25,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["D\xe9bit "])),(t()(),Po(27,0,null,null,0,"i",[["class","fa fa-info"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Date Cr\xe9ation "])),(t()(),Po(30,0,null,null,0,"i",[["class","fa fa-calndar"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Etat "])),(t()(),Po(33,0,null,null,0,"i",[["class","fa fa-info"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Yp)),Yr(36,278528,null,0,gs,[Tn,En,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(37,0,null,null,2,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.opertaion="")&&r),r}),null,null)),(t()(),Po(38,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Retour "]))],(function(t,e){t(e,36,0,e.component.blserv)}),null)}function Zp(t){return Wo(0,[(t()(),Po(0,0,null,null,6,"div",[["class","d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,2,"h5",[["class","my-0 mr-md-auto font-weight-normal"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"img",[["height","60"],["src","../../assets/img/logo telecome.jpg"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Bienvenue "])),(t()(),Po(4,0,null,null,2,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSignOut()&&r),r}),null,null)),(t()(),Bo(-1,null,["D\xe9connexion "])),(t()(),Po(6,0,null,null,0,"i",[["class","fa fa-sign-out-alt"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,28,"div",[["class","container"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,4,"div",[["class","alert alert-danger alert-dismissible fade show text-center"],["role","alert"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"strong",[["id","hhh"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Bo(-1,null,["\xd7"])),(t()(),No(16777216,null,null,1,null,Hp)),Yr(14,278528,null,0,gs,[Tn,En,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Po(15,0,null,null,4,"ul",[["class","nav nav-tabs"],["id","myTab"],["role","tablist"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,3,"li",[["class","nav-item"],["role","presentation"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,2,"a",[["aria-controls","profile"],["aria-selected","false"],["class","nav-link"],["data-toggle","tab"],["href","#profile"],["id","profile-tab"],["role","tab"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Acc\xe9s Serveurs "])),(t()(),Po(19,0,null,null,0,"i",[["class","fa fa-server"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,5,"div",[["class","tab-content"],["id","myTabContent"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,4,"div",[["aria-labelledby","profile-tab"],["class","tab-pane fade show active"],["id","profile"],["role","tabpanel"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,$p)),Yr(23,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Jp)),Yr(25,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(26,0,null,null,9,"footer",[["class","container"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,5,"h6",[["class","float-right text-center text-primary"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,0,"i",[["class","fa fa-cog fa-2x"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(30,null,[" ",", ","/","/"," "])),(t()(),Po(31,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(32,null,[" ",":",":"," "])),(t()(),Po(33,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),Po(34,0,null,null,0,"img",[["height","100"],["src","../../assets/img/logo telecome.jpg"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Tunisie T\xe9l\xe9come "]))],(function(t,e){var n=e.component;t(e,14,0,n.bemp),t(e,23,0,""==n.opertaion),t(e,25,0,"view"==n.opertaion)}),(function(t,e){var n=e.component;t(e,30,0,n.nn,n.jour,n.month,n.annee),t(e,32,0,n.hour,n.minute,n.second)}))}function tg(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-profile",[],null,null,null,Zp,jp)),Yr(1,114688,null,0,Vp,[yp,jh],null,null)],(function(t,e){t(e,1,0)}),null)}var eg=xr("app-profile",Vp,tg,{},{},[]);class ng{constructor(t){this.router=t}ngOnInit(){}onSignOut(){Zl.auth().signOut()}}var rg=qn({encapsulation:0,styles:[".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }",[""]],data:{}});function ig(t){return Wo(0,[(t()(),Po(0,0,null,null,0,"meta",[["charset","utf-8"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"meta",[["content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","viewport"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"meta",[["content",""],["name","description"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"meta",[["content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","author"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,0,"meta",[["content","Jekyll v4.1.1"],["name","generator"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"title",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Dashboard Template \xb7 Bootstrap"])),(t()(),Po(7,0,null,null,0,"link",[["href","https://getbootstrap.com/docs/4.5/examples/dashboard/"],["rel","canonical"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,0,"link",[["crossorigin","anonymous"],["href","/docs/4.5/dist/css/bootstrap.min.css"],["integrity","sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/apple-touch-icon.png"],["rel","apple-touch-icon"],["sizes","180x180"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-32x32.png"],["rel","icon"],["sizes","32x32"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-16x16.png"],["rel","icon"],["sizes","16x16"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/manifest.json"],["rel","manifest"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"link",[["color","#563d7c"],["href","/docs/4.5/assets/img/favicons/safari-pinned-tab.svg"],["rel","mask-icon"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon.ico"],["rel","icon"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,0,"meta",[["content","/docs/4.5/assets/img/favicons/browserconfig.xml"],["name","msapplication-config"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"meta",[["content","#563d7c"],["name","theme-color"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,9,"nav",[["class","navbar navbar-dark sticky-top bg-info flex-md-nowrap p-0 shadow"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"a",[["class","navbar-brand col-md-3 col-lg-2 mr-0 px-3"],["href","#"],["style","font-family: 'Lobster', cursive;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Tunisie T\xe9l\xe9come"])),(t()(),Po(20,0,null,null,1,"button",[["aria-controls","sidebarMenu"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler position-absolute d-md-none collapsed"],["data-target","#sidebarMenu"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,4,"ul",[["class","navbar-nav px-3"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,3,"li",[["class","nav-item text-nowrap"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSignOut()&&r),r}),null,null)),(t()(),Bo(-1,null,["D\xe9connexion "])),(t()(),Po(26,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,33,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,25,"nav",[["class","col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"],["id","sidebarMenu"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,24,"div",[["class","sidebar-sticky pt-3"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,23,"ul",[["class","nav flex-column"],["style","font-family: 'Lobster', cursive;  "]],null,null,null,null,null)),(t()(),Po(32,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(33,0,null,null,4,"a",[["class","nav-link active"],["href","/admin"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,0,"span",[["data-feather","home"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Dashboard "])),(t()(),Po(36,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Bo(-1,null,["(current)"])),(t()(),Po(38,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"a",[["class","nav-link"],["href","/admins"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Admins "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(43,0,null,null,2,"a",[["class","nav-link"],["href","/employes"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Employ\xe9s "])),(t()(),Po(45,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(46,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(47,0,null,null,2,"a",[["class","nav-link"],["href","/serveurs"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Serveurs "])),(t()(),Po(49,0,null,null,0,"i",[["class","fa fa-link"]],null,null,null,null,null)),(t()(),Po(50,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,3,"a",[["class","nav-link"],["href","/as"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,0,"span",[["data-feather","bar-chart-2"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Acc\xe9s Serveurs "])),(t()(),Po(54,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(55,0,null,null,5,"main",[["class","col-md-9 ml-sm-auto col-lg-10 px-md-4"],["role","main"]],null,null,null,null,null)),(t()(),Po(56,0,null,null,4,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(58,0,null,null,0,"img",[["class","animate__animated animate__bounce"],["height","500"],["src","../../assets/img/logo telecome.jpg"]],null,null,null,null,null)),(t()(),Po(59,0,null,null,1,"h1",[["class","animate__animated animate__flipInX animate_delay-2s"],["style","font-family: 'Lobster', cursive; color: blue;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Bienvenue Chez Tunisie T\xe9l\xe9come"]))],null,null)}function og(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-daschboard",[],null,null,null,ig,rg)),Yr(1,114688,null,0,ng,[jh],null,null)],(function(t,e){t(e,1,0)}),null)}var lg=xr("app-daschboard",ng,og,{},{},[]);class sg{constructor(t,e,n){this.fb=t,this.router=e,this.db=n,this.p1="",this.p2="",this.p3="",this.p4="",this.p5="",this.p6="",this.p7="",this.p8="",this.p10="",this.pimg="",this.bcat=[],this.totcat=0,this.Msg="",this.errorMsg2="",this.opertaion="",this.adminForm=new rf({nom:new nf("",Nd.required),cin:new nf("",Nd.required),datenais:new nf("",Nd.required),email:new nf("",[Nd.required,Nd.email]),phone:new nf("",Nd.required),adresse:new nf("",Nd.required),mtp:new nf("",Nd.required),mtp2:new nf("",Nd.required),img:new nf("",Nd.required)}),this.adminFormEdit=new rf({id:new nf("",Nd.required),nom:new nf("",Nd.required),cin:new nf("",Nd.required),phone:new nf("",Nd.required),adresse:new nf("",Nd.required),email:new nf("",Nd.required)}),this.fileIsUploadingAgentAdm=!1,this.fileUploadedAgentAdm=!1,this.fileIsUploadingAgentAdm2=!1,this.fileUploadedAgentAdm2=!1}formatDate(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}ngOnInit(){this.db.collection("admins").snapshotChanges().subscribe(t=>{this.bcat=[],this.totcat=0,t.forEach(t=>{this.totcat++;let e=t.payload.doc.data();e.id=t.payload.doc.id,this.bcat.push(e)})})}onUploadFileAgent(t,e){this.fileIsUploadingAgentAdm=!0,this.uploadFilePriduitBetonia(t,e).then(t=>{this.fileUrlAgentAdm=t,this.fileIsUploadingAgentAdm=!1,this.fileUploadedAgentAdm=!0,wf.storage().ref().child("ImgAdminFourma").child(e).getDownloadURL().then(t=>{this.photoAgent1=t}).catch(t=>{console.log(t)})})}detectFilesAgent(t){document.getElementById("fotoagg").innerText="";const e=this.adminForm.get("email").value;""!=e?(document.getElementById("fotoagg").innerText="",this.onUploadFileAgent(t.target.files[0],e)):(document.getElementById("fotoagg").innerText="Merci De Saisir L'Email Du Nouvell Annonce a publi\xe9 !",this.adminForm.get("img").setValue(""))}uploadFilePriduitBetonia(t,e){return new Promise((n,r)=>{Date.now().toString();const i=wf.storage().ref().child("ImgAdminFourma/"+e).put(t);i.on(wf.storage.TaskEvent.STATE_CHANGED,t=>{console.log("Chargement "+t.bytesTransferred/t.totalBytes*100+"%")},t=>{console.log("Erreur De Chargement : "+t),r()},()=>{n(i.snapshot.downloadURL)})})}onSignOut(){wf.auth().signOut()}hh(){if(this.adminForm.get("mtp").value==this.adminForm.get("mtp2").value){var t=this.adminForm.get("email").value,e=this.adminForm.get("mtp").value;return wf.auth().languageCode="fr",new Promise((n,r)=>{wf.auth().createUserWithEmailAndPassword(t,e).then(()=>{this.fileUploadedAgentAdm?(this.Msg="",this.db.collection("admins").add({nom:this.adminForm.get("nom").value,cin:this.adminForm.get("cin").value,datenais:this.adminForm.get("datenais").value,email:this.adminForm.get("email").value,phone:this.adminForm.get("phone").value,adresse:this.adminForm.get("adresse").value,mtp:this.adminForm.get("mtp").value,img:this.photoAgent1,date:this.formatDate(new Date),compte:"true"}),this.Msg="Enregistrement Nouveau Admin Fourma Avec Succ\xe9es !",this.adminForm.get("nom").setValue(""),this.adminForm.get("email").setValue(""),this.adminForm.get("phone").setValue(""),this.adminForm.get("mtp").setValue(""),this.adminForm.get("mtp2").setValue(""),this.adminForm.get("cin").setValue(""),this.adminForm.get("datenais").setValue(""),this.adminForm.get("adresse").setValue(""),document.getElementById("fotoagg").innerText="",this.photoAgent1="",this.fileIsUploadingAgentAdm=!1,this.fileUploadedAgentAdm=!1):this.Msg="Probleme D`Ajout Nouveau Admin Foruma !"},t=>{this.Msg=t})})}this.Msg="Les Mots De Passes doivent etre les memes ! "}edit(t){this.adminFormEdit.get("id").setValue(t.id),this.adminFormEdit.get("nom").setValue(t.nom),this.adminFormEdit.get("phone").setValue(t.phone),this.adminFormEdit.get("adresse").setValue(t.adresse),this.adminFormEdit.get("cin").setValue(t.cin),this.adminFormEdit.get("email").setValue(t.email),wf.storage().ref().child("ImgAdminFourma").child(t.email).getDownloadURL().then(t=>{document.getElementById("fotoagg2").innerText=t}).catch(t=>{console.log(t)})}update(){wf.storage().ref().child("ImgAdminFourma").child(this.adminFormEdit.get("email").value).getDownloadURL().then(t=>{this.Msg="",this.db.doc("admins/"+this.adminFormEdit.get("id").value).update({nom:this.adminFormEdit.get("nom").value,cin:this.adminFormEdit.get("cin").value,phone:this.adminFormEdit.get("phone").value,adresse:this.adminFormEdit.get("adresse").value,img:t,modified:this.formatDate(new Date)}),this.opertaion=""}).catch(t=>{console.log(t)})}delete(t){this.db.doc("admins/"+t.id).delete()}onUploadFileAgent2(t,e){this.fileIsUploadingAgentAdm2=!0,this.uploadFilePriduitBetonia(t,e).then(t=>{this.fileUrlAgentAdm2=t,this.fileIsUploadingAgentAdm2=!1,this.fileUploadedAgentAdm2=!0,wf.storage().ref().child("ImgAdminFourma").child(e).getDownloadURL().then(t=>{document.getElementById("fotoagg2").innerText=t,document.getElementById("fotoagg2").style.color="green"}).catch(t=>{console.log(t)})})}detectFilesAgent2(t){document.getElementById("verifIIII").innerText="";const e=this.adminFormEdit.get("email").value;""!=e?(document.getElementById("verifIIII").innerText="",this.onUploadFileAgent(t.target.files[0],e)):(document.getElementById("verifIIII").innerText="Merci De Saisir Le nom Du Nouvell Annonce a publi\xe9 !",this.adminForm.get("img").setValue(""))}getPhotoagentAdmCDL2(t){wf.storage().ref().child("ImgAdminFourma").child(t).getDownloadURL().then(t=>{this.photoAgent12=t}).catch(t=>{console.log(t)})}uploadFilePriduitBetonia2(t,e){return new Promise((n,r)=>{Date.now().toString();const i=wf.storage().ref().child("ImgAdminFourma/"+e).put(t);i.on(wf.storage.TaskEvent.STATE_CHANGED,t=>{console.log("Chargement "+t.bytesTransferred/t.totalBytes*100+"%"),document.getElementById("ki").style.color="red"},t=>{console.log("Erreur De Chargement : "+t),r()},()=>{n(i.snapshot.downloadURL)})})}bloquer(t){this.db.doc("admins/"+t.id).update({compte:"false"})}debloquer(t){this.db.doc("admins/"+t.id).update({compte:"true"})}view(t){this.p1=t.nom,this.p2=t.cin,this.p3=t.phone,this.p4=t.email,this.p5=t.adresse,this.p6=t.datenais,this.p7=t.date,this.p8=t.compte,this.pimg=t.img,this.p10=t.modified,wf.storage().ref().child("ImgAdminFourma").child(t.titre).getDownloadURL().then(t=>{this.pimg=t}).catch(t=>{console.log(t)})}}var ag=qn({encapsulation:0,styles:[".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }",[""]],data:{}});function ug(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"p",[["style"," color: #049e2a;  font-family: 'Courgette', cursive; "]],null,null,null,null,null)),(t()(),Bo(-1,null,["Image Bien Charg\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function cg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.bloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" Bloquer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null))],null,null)}function hg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.debloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" D\xe9bloquer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock-open"]],null,null,null,null,null))],null,null)}function dg(t){return Wo(0,[(t()(),Po(0,0,null,null,24,"tr",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@600&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(3,null,["",""])),(t()(),Po(4,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(t()(),Po(6,0,null,null,0,"img",[["style","width: 50px; border-radius: 50%;"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(7,0,null,null,1,"td",[["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(8,null,["",""])),(t()(),Po(9,0,null,null,1,"td",[["class","text-danger"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(10,null,["",""])),(t()(),Po(11,0,null,null,1,"td",[["class","text-success"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(12,null,["",""])),(t()(),Po(13,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,cg)),Yr(15,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,hg)),Yr(17,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(18,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),Po(19,0,null,null,1,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.opertaion="edit",r=!1!==i.edit(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(20,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,1,"button",[["class","btn btn-outline-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.opertaion="view",r=!1!==i.view(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(22,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(24,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],(function(t,e){t(e,15,0,"true"==e.context.$implicit.compte),t(e,17,0,"true"!=e.context.$implicit.compte)}),(function(t,e){t(e,3,0,e.context.$implicit.date),t(e,5,0,pr(1,"",e.context.$implicit.img,"")),t(e,6,0,pr(1,"",e.context.$implicit.img,"")),t(e,8,0,e.context.$implicit.nom),t(e,10,0,e.context.$implicit.email),t(e,12,0,e.context.$implicit.phone)}))}function fg(t){return Wo(0,[(t()(),Po(0,0,null,null,186,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,4,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"img",[["class","animate__animated animate__zoomIn"],["height","200"],["src","../../assets/img/undraw_two_factor_authentication_namy.svg"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,1,"h1",[["class","animate__animated animate__flipInX animate_delay-2s"],["style","font-family: 'Lobster', cursive; color: blue;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Gestion Admins "])),(t()(),Po(6,0,null,null,7,"nav",[["aria-label","breadcrumb"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,6,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,3,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,2,"a",[["routerLink","/admin"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ur(t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Yr(10,671744,null,0,qh,[jh,Oc,is],{routerLink:[0,"routerLink"]},null),(t()(),Bo(-1,null,["Accueil"])),(t()(),Po(12,0,null,null,1,"li",[["aria-current","page"],["class","breadcrumb-item active"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Admins "])),(t()(),Po(14,0,null,null,3,"p",[["class","text-left"],["style","font-family: 'Chewy', cursive;"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,2,"button",[["aria-controls","collapseExample"],["aria-expanded","false"],["class","btn btn-outline-dark"],["data-target","#collapseExample"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Nouveau Admin "])),(t()(),Po(17,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,137,"div",[["class","collapse"],["id","collapseExample"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,136,"div",[["class","card card-body"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,135,"form",[["class","was-validated text-center"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,22).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,22).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.hh()&&r),r}),null,null)),Yr(21,16384,null,0,af,[],null,null),Yr(22,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(24,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(25,0,null,null,104,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,51,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,13,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Num\xe9ro Cin "])),(t()(),Po(30,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,9,"input",[["class","form-control is-invalid "],["formControlName","cin"],["pattern","[0-9]{8}"],["placeholder","Num\xe9ro Cin...."],["required",""],["type","number"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,32)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ur(t,33).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ur(t,33).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,33).onTouched()&&r),r}),null,null)),Yr(32,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(33,16384,null,0,Fd,[rn,Je],null,null),Yr(34,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(35,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t,e){return[t,e]}),[bd,Fd]),Yr(38,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(40,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(41,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Nom Et Pr\xe9nom "])),(t()(),Po(44,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(45,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","nom"],["placeholder","Nom Pr\xe9nom...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,46)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,46).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,46)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,46)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(46,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(47,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(50,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(52,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(53,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(54,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Adresse Mail "])),(t()(),Po(56,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","email"],["placeholder","Adresse Mail  ...."],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,58)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,58).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,58)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,58)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(58,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(59,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(62,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(64,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(65,0,null,null,12,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(66,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Mot De Passe "])),(t()(),Po(68,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(69,0,null,null,8,"input",[["class","form-control is-invalid "],["formControlName","mtp"],["pattern","[0-9]{6}"],["placeholder","Mot De Passe...."],["required",""],["type","password"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,70)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,70).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,70)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,70)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(70,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(71,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(72,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(75,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(77,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(78,0,null,null,51,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Po(79,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(80,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Date Naissance "])),(t()(),Po(82,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(83,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","datenais"],["required",""],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,84)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,84).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,84)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,84)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(84,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(85,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(88,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(90,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(91,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(92,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Adresse Locale "])),(t()(),Po(94,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(t()(),Po(95,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","adresse"],["placeholder","Adresse Locale ...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,96)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,96).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,96)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,96)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(96,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(97,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(100,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(102,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(103,0,null,null,13,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(104,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Num\xe9ro T\xe9l\xe9phone "])),(t()(),Po(106,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(107,0,null,null,9,"input",[["class","form-control is-invalid "],["formControlName","phone"],["pattern","[0-9]{8}"],["placeholder","Num\xe9ro T\xe9l\xe9phone ...."],["required",""],["type","number"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,108)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,108).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,108)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,108)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ur(t,109).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ur(t,109).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,109).onTouched()&&r),r}),null,null)),Yr(108,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(109,16384,null,0,Fd,[rn,Je],null,null),Yr(110,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(111,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t,e){return[t,e]}),[bd,Fd]),Yr(114,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(116,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(117,0,null,null,12,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(118,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Confirmation Mot De Passe "])),(t()(),Po(120,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(121,0,null,null,8,"input",[["class","form-control is-invalid "],["formControlName","mtp2"],["pattern","[0-9]{6}"],["placeholder","Confirmation Mot De Passe ...."],["required",""],["type","password"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,122)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,122).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,122)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,122)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(122,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(123,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(124,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(127,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(129,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(130,0,null,null,17,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(131,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Image Admin "])),(t()(),Po(133,0,null,null,0,"i",[["class","fa fa-camera"]],null,null,null,null,null)),(t()(),Po(134,0,null,null,10,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),Po(135,0,null,null,7,"input",[["accept","image/*"],["class","custom-file-input is-invalid "],["formControlName","img"],["id","customFile"],["required",""],["type","file"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ur(t,136)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,136).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,136)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,136)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==i.detectFilesAgent(n)&&r),r}),null,null)),Yr(136,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(137,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(140,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(142,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(143,0,null,null,1,"label",[["class","custom-file-label"],["for","customFile"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Choisir Image Du Publication ..."])),(t()(),No(16777216,null,null,1,null,ug)),Yr(146,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(147,0,null,null,0,"span",[["class","text-danger"],["id","fotoagg"]],null,null,null,null,null)),(t()(),Po(148,0,null,null,3,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(149,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,["Ajouter Admin "])),(t()(),Po(151,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(t()(),Po(152,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(153,0,null,null,1,"h5",[["class","text-dark"]],null,null,null,null,null)),(t()(),Bo(154,null,["",""])),(t()(),Po(155,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(156,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(157,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(158,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(159,0,null,null,4,"div",[["class","alert alert-info alert-dismissible fade show text-center"],["role","alert"],["style"," font-family: 'Chewy', cursive; font-size : 18px;"]],null,null,null,null,null)),(t()(),Bo(160,null,["\nIl existe "," Admins !\n"])),(t()(),Po(161,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(t()(),Po(162,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Bo(-1,null,["\xd7"])),(t()(),Po(164,0,null,null,22,"table",[["class","table table-light text-center table-hover"],["style","font-family: 'Bree Serif', serif; font-size : 18px;"]],null,null,null,null,null)),(t()(),Po(165,0,null,null,18,"thead",[],null,null,null,null,null)),(t()(),Po(166,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Date Cr\xe9ation "])),(t()(),Po(168,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(169,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Image "])),(t()(),Po(171,0,null,null,0,"i",[["class","fa fa-camera"]],null,null,null,null,null)),(t()(),Po(172,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Nom Et Pr\xe9nom "])),(t()(),Po(174,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(175,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Email "])),(t()(),Po(177,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(178,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Phone "])),(t()(),Po(180,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(181,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Options "])),(t()(),Po(183,0,null,null,0,"i",[["class","fa fa-cog"]],null,null,null,null,null)),(t()(),Po(184,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,dg)),Yr(186,278528,null,0,gs,[Tn,En,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,10,0,"/admin"),t(e,22,0,n.adminForm),t(e,34,0,""),t(e,35,0,"[0-9]{8}"),t(e,38,0,"cin"),t(e,47,0,""),t(e,50,0,"nom"),t(e,59,0,""),t(e,62,0,"email"),t(e,71,0,""),t(e,72,0,"[0-9]{6}"),t(e,75,0,"mtp"),t(e,85,0,""),t(e,88,0,"datenais"),t(e,97,0,""),t(e,100,0,"adresse"),t(e,110,0,""),t(e,111,0,"[0-9]{8}"),t(e,114,0,"phone"),t(e,123,0,""),t(e,124,0,"[0-9]{6}"),t(e,127,0,"mtp2"),t(e,137,0,""),t(e,140,0,"img"),t(e,146,0,n.fileUploadedAgentAdm),t(e,186,0,n.bcat)}),(function(t,e){var n=e.component;t(e,9,0,Ur(e,10).target,Ur(e,10).href),t(e,20,0,Ur(e,24).ngClassUntouched,Ur(e,24).ngClassTouched,Ur(e,24).ngClassPristine,Ur(e,24).ngClassDirty,Ur(e,24).ngClassValid,Ur(e,24).ngClassInvalid,Ur(e,24).ngClassPending),t(e,31,0,Ur(e,34).required?"":null,Ur(e,35).pattern?Ur(e,35).pattern:null,Ur(e,40).ngClassUntouched,Ur(e,40).ngClassTouched,Ur(e,40).ngClassPristine,Ur(e,40).ngClassDirty,Ur(e,40).ngClassValid,Ur(e,40).ngClassInvalid,Ur(e,40).ngClassPending),t(e,45,0,Ur(e,47).required?"":null,Ur(e,52).ngClassUntouched,Ur(e,52).ngClassTouched,Ur(e,52).ngClassPristine,Ur(e,52).ngClassDirty,Ur(e,52).ngClassValid,Ur(e,52).ngClassInvalid,Ur(e,52).ngClassPending),t(e,57,0,Ur(e,59).required?"":null,Ur(e,64).ngClassUntouched,Ur(e,64).ngClassTouched,Ur(e,64).ngClassPristine,Ur(e,64).ngClassDirty,Ur(e,64).ngClassValid,Ur(e,64).ngClassInvalid,Ur(e,64).ngClassPending),t(e,69,0,Ur(e,71).required?"":null,Ur(e,72).pattern?Ur(e,72).pattern:null,Ur(e,77).ngClassUntouched,Ur(e,77).ngClassTouched,Ur(e,77).ngClassPristine,Ur(e,77).ngClassDirty,Ur(e,77).ngClassValid,Ur(e,77).ngClassInvalid,Ur(e,77).ngClassPending),t(e,83,0,Ur(e,85).required?"":null,Ur(e,90).ngClassUntouched,Ur(e,90).ngClassTouched,Ur(e,90).ngClassPristine,Ur(e,90).ngClassDirty,Ur(e,90).ngClassValid,Ur(e,90).ngClassInvalid,Ur(e,90).ngClassPending),t(e,95,0,Ur(e,97).required?"":null,Ur(e,102).ngClassUntouched,Ur(e,102).ngClassTouched,Ur(e,102).ngClassPristine,Ur(e,102).ngClassDirty,Ur(e,102).ngClassValid,Ur(e,102).ngClassInvalid,Ur(e,102).ngClassPending),t(e,107,0,Ur(e,110).required?"":null,Ur(e,111).pattern?Ur(e,111).pattern:null,Ur(e,116).ngClassUntouched,Ur(e,116).ngClassTouched,Ur(e,116).ngClassPristine,Ur(e,116).ngClassDirty,Ur(e,116).ngClassValid,Ur(e,116).ngClassInvalid,Ur(e,116).ngClassPending),t(e,121,0,Ur(e,123).required?"":null,Ur(e,124).pattern?Ur(e,124).pattern:null,Ur(e,129).ngClassUntouched,Ur(e,129).ngClassTouched,Ur(e,129).ngClassPristine,Ur(e,129).ngClassDirty,Ur(e,129).ngClassValid,Ur(e,129).ngClassInvalid,Ur(e,129).ngClassPending),t(e,135,0,Ur(e,137).required?"":null,Ur(e,142).ngClassUntouched,Ur(e,142).ngClassTouched,Ur(e,142).ngClassPristine,Ur(e,142).ngClassDirty,Ur(e,142).ngClassValid,Ur(e,142).ngClassInvalid,Ur(e,142).ngClassPending),t(e,149,0,!n.adminForm.valid),t(e,154,0,n.Msg),t(e,160,0,n.totcat)}))}function pg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"p",[["style"," color: #049e2a;  font-family: 'Courgette', cursive; "]],null,null,null,null,null)),(t()(),Bo(-1,null,["Image Bien Charg\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function gg(t){return Wo(0,[(t()(),Po(0,0,null,null,105,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,104,"form",[["class","was-validated text-center"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,3).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.update()&&r),r}),null,null)),Yr(2,16384,null,0,af,[],null,null),Yr(3,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(5,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(6,0,null,null,11,"div",[["class","form-group container"],["style","display: none;"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Identifiant "])),(t()(),Po(9,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,7,"input",[["class","form-control is-invalid "],["disabled",""],["formControlName","id"],["placeholder","Num\xe9ro T\xe9l\xe9phone ...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,11)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(11,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(12,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(15,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),Jr(2048,null,Id,null,[pf]),Yr(17,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(18,0,null,null,52,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,26,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,13,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Num\xe9ro Cin "])),(t()(),Po(23,0,null,null,0,"i",[["class","fas fa-id-card-alt"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,9,"input",[["class","form-control is-invalid "],["formControlName","cin"],["pattern","[0-9]{8}"],["placeholder","Num\xe9ro Cin...."],["required",""],["type","number"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,25)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,25).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,25)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,25)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ur(t,26).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ur(t,26).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,26).onTouched()&&r),r}),null,null)),Yr(25,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(26,16384,null,0,Fd,[rn,Je],null,null),Yr(27,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(28,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t,e){return[t,e]}),[bd,Fd]),Yr(31,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(33,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(34,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(35,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Nom Et Pr\xe9nom "])),(t()(),Po(37,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(38,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","nom"],["placeholder","Nom Pr\xe9nom...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,39)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,39).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,39)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,39)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(39,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(40,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(43,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(45,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(46,0,null,null,24,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Po(47,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(48,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Adresse Locale "])),(t()(),Po(50,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","adresse"],["placeholder","Adresse Locale ...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,52)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,52).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,52)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,52)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(52,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(53,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(56,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(58,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(59,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(60,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Num\xe9ro T\xe9l\xe9phone "])),(t()(),Po(62,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(63,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","phone"],["placeholder","Num\xe9ro T\xe9l\xe9phone ...."],["required",""],["type","tel"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,64)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,64).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,64)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,64)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(64,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(65,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(68,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(70,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(71,0,null,null,12,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(72,0,null,null,3,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Image Admin "])),(t()(),Po(74,0,null,null,0,"i",[["class","fa fa-camera"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" (Optionel) "])),(t()(),Po(76,0,null,null,3,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),Po(77,0,null,null,0,"input",[["accept","image/*"],["class","custom-file-input is-invalid "],["id","customFile"],["required",""],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.detectFilesAgent2(n)&&r),r}),null,null)),(t()(),Po(78,0,null,null,1,"label",[["class","custom-file-label"],["for","customFile"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Choisir Image Du Publication ..."])),(t()(),No(16777216,null,null,1,null,pg)),Yr(81,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(82,0,null,null,0,"span",[["class","text-danger"],["id","verifIIII"],["style","display: none;"]],null,null,null,null,null)),(t()(),Po(83,0,null,null,0,"span",[["class","text-danger"],["id","fotoagg2"],["style","display: none;"]],null,null,null,null,null)),(t()(),Po(84,0,null,null,11,"div",[["class","form-group container"],["style","display: none;"]],null,null,null,null,null)),(t()(),Po(85,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["E-Mail "])),(t()(),Po(87,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(88,0,null,null,7,"input",[["class","form-control is-invalid "],["disabled",""],["formControlName","email"],["placeholder","Num\xe9ro T\xe9l\xe9phone ...."],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,89)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,89).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,89)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,89)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(89,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(90,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(93,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),Jr(2048,null,Id,null,[pf]),Yr(95,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(96,0,null,null,3,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(97,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,["Enregistrer Donn\xe9es Admin "])),(t()(),Po(99,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(t()(),Po(100,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(101,0,null,null,1,"h5",[["class","text-dark"]],null,null,null,null,null)),(t()(),Bo(102,null,["",""])),(t()(),Po(103,0,null,null,2,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.opertaion="")&&r),r}),null,null)),(t()(),Po(104,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Retour "]))],(function(t,e){var n=e.component;t(e,3,0,n.adminFormEdit),t(e,12,0,""),t(e,15,0,"id",""),t(e,27,0,""),t(e,28,0,"[0-9]{8}"),t(e,31,0,"cin"),t(e,40,0,""),t(e,43,0,"nom"),t(e,53,0,""),t(e,56,0,"adresse"),t(e,65,0,""),t(e,68,0,"phone"),t(e,81,0,n.fileUploadedAgentAdm),t(e,90,0,""),t(e,93,0,"email","")}),(function(t,e){var n=e.component;t(e,1,0,Ur(e,5).ngClassUntouched,Ur(e,5).ngClassTouched,Ur(e,5).ngClassPristine,Ur(e,5).ngClassDirty,Ur(e,5).ngClassValid,Ur(e,5).ngClassInvalid,Ur(e,5).ngClassPending),t(e,10,0,Ur(e,12).required?"":null,Ur(e,17).ngClassUntouched,Ur(e,17).ngClassTouched,Ur(e,17).ngClassPristine,Ur(e,17).ngClassDirty,Ur(e,17).ngClassValid,Ur(e,17).ngClassInvalid,Ur(e,17).ngClassPending),t(e,24,0,Ur(e,27).required?"":null,Ur(e,28).pattern?Ur(e,28).pattern:null,Ur(e,33).ngClassUntouched,Ur(e,33).ngClassTouched,Ur(e,33).ngClassPristine,Ur(e,33).ngClassDirty,Ur(e,33).ngClassValid,Ur(e,33).ngClassInvalid,Ur(e,33).ngClassPending),t(e,38,0,Ur(e,40).required?"":null,Ur(e,45).ngClassUntouched,Ur(e,45).ngClassTouched,Ur(e,45).ngClassPristine,Ur(e,45).ngClassDirty,Ur(e,45).ngClassValid,Ur(e,45).ngClassInvalid,Ur(e,45).ngClassPending),t(e,51,0,Ur(e,53).required?"":null,Ur(e,58).ngClassUntouched,Ur(e,58).ngClassTouched,Ur(e,58).ngClassPristine,Ur(e,58).ngClassDirty,Ur(e,58).ngClassValid,Ur(e,58).ngClassInvalid,Ur(e,58).ngClassPending),t(e,63,0,Ur(e,65).required?"":null,Ur(e,70).ngClassUntouched,Ur(e,70).ngClassTouched,Ur(e,70).ngClassPristine,Ur(e,70).ngClassDirty,Ur(e,70).ngClassValid,Ur(e,70).ngClassInvalid,Ur(e,70).ngClassPending),t(e,88,0,Ur(e,90).required?"":null,Ur(e,95).ngClassUntouched,Ur(e,95).ngClassTouched,Ur(e,95).ngClassPristine,Ur(e,95).ngClassDirty,Ur(e,95).ngClassValid,Ur(e,95).ngClassInvalid,Ur(e,95).ngClassPending),t(e,97,0,!n.adminFormEdit.valid),t(e,102,0,n.Msg)}))}function mg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Bloqu\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-ban"]],null,null,null,null,null))],null,null)}function vg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Active "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function yg(t){return Wo(0,[(t()(),Po(0,0,null,null,59,"div",[["class","container"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,53,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,3,"div",[["class","col-lg-4 text-center"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"img",[["height","250"],["style","border-radius: 50%;"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(4,0,null,null,1,"h1",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(5,null,[" Profil : ",""])),(t()(),Po(6,0,null,null,48,"div",[["class","col-lg-8"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(8,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,20,"div",[["class","col-lg-6"],["style","font-weight: bold; font-family: 'Lobster', cursive; font-size: 20px;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Num\xe9ro Carte Cin "])),(t()(),Po(11,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nNum\xe9ro T\xe9l\xe9phone "])),(t()(),Po(14,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nE-Mail "])),(t()(),Po(17,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nAdresse Locale "])),(t()(),Po(20,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nDate De Naissance "])),(t()(),Po(23,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Date Cr\xe9ation Compte "])),(t()(),Po(26,0,null,null,0,"i",[["class","fas fa-users-cog"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nEtat Compte "])),(t()(),Po(29,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,18,"div",[["class","col-lg-6"],["style","font-size: 20px; font-weight: bold;"]],null,null,null,null,null)),(t()(),Bo(31,null,[" "," "])),(t()(),Po(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(33,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Bo(34,null,[" ",""])),(t()(),Po(35,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(36,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Bo(37,null,["",""])),(t()(),Po(38,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(39,null,["\n"," "])),(t()(),Po(40,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(41,null,["\n"," "])),(t()(),Po(42,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(43,null,["\n",""])),(t()(),Po(44,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,mg)),Yr(46,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,vg)),Yr(48,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(50,0,null,null,4,"h5",[["style","font-family: 'Lobster', cursive; color: rgb(233, 13, 42);"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Derni\xe9re Modification Du Compte : "])),(t()(),Po(53,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Bo(54,null,["",""])),(t()(),Po(55,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(56,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,2,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.opertaion="")&&r),r}),null,null)),(t()(),Po(58,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Retour"]))],(function(t,e){var n=e.component;t(e,46,0,"false"==n.p8),t(e,48,0,"true"==n.p8)}),(function(t,e){var n=e.component;t(e,3,0,pr(1,"",n.pimg,"")),t(e,5,0,n.p1),t(e,31,0,n.p2),t(e,34,0,n.p3),t(e,37,0,n.p4),t(e,39,0,n.p5),t(e,41,0,n.p6),t(e,43,0,n.p7),t(e,54,0,n.p10)}))}function _g(t){return Wo(0,[(t()(),Po(0,0,null,null,0,"meta",[["charset","utf-8"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"meta",[["content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","viewport"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"meta",[["content",""],["name","description"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"meta",[["content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","author"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,0,"meta",[["content","Jekyll v4.1.1"],["name","generator"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"title",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Dashboard Template \xb7 Bootstrap"])),(t()(),Po(7,0,null,null,0,"link",[["href","https://getbootstrap.com/docs/4.5/examples/dashboard/"],["rel","canonical"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,0,"link",[["crossorigin","anonymous"],["href","/docs/4.5/dist/css/bootstrap.min.css"],["integrity","sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/apple-touch-icon.png"],["rel","apple-touch-icon"],["sizes","180x180"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-32x32.png"],["rel","icon"],["sizes","32x32"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-16x16.png"],["rel","icon"],["sizes","16x16"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/manifest.json"],["rel","manifest"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"link",[["color","#563d7c"],["href","/docs/4.5/assets/img/favicons/safari-pinned-tab.svg"],["rel","mask-icon"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon.ico"],["rel","icon"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,0,"meta",[["content","/docs/4.5/assets/img/favicons/browserconfig.xml"],["name","msapplication-config"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"meta",[["content","#563d7c"],["name","theme-color"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,9,"nav",[["class","navbar navbar-dark sticky-top bg-info flex-md-nowrap p-0 shadow"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"a",[["class","navbar-brand col-md-3 col-lg-2 mr-0 px-3"],["href","#"],["style","font-family: 'Lobster', cursive;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Tunisie T\xe9l\xe9come"])),(t()(),Po(20,0,null,null,1,"button",[["aria-controls","sidebarMenu"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler position-absolute d-md-none collapsed"],["data-target","#sidebarMenu"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,4,"ul",[["class","navbar-nav px-3"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,3,"li",[["class","nav-item text-nowrap"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSignOut()&&r),r}),null,null)),(t()(),Bo(-1,null,["D\xe9connexion "])),(t()(),Po(26,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,36,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,25,"nav",[["class","col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"],["id","sidebarMenu"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,24,"div",[["class","sidebar-sticky pt-3"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,23,"ul",[["class","nav flex-column"],["style","font-family: 'Lobster', cursive;  "]],null,null,null,null,null)),(t()(),Po(32,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(33,0,null,null,4,"a",[["class","nav-link active"],["href","/admin"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,0,"span",[["data-feather","home"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Dashboard "])),(t()(),Po(36,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Bo(-1,null,["(current)"])),(t()(),Po(38,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"a",[["class","nav-link"],["href","/admins"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Admins "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(43,0,null,null,2,"a",[["class","nav-link"],["href","/employes"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Employ\xe9s "])),(t()(),Po(45,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(46,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(47,0,null,null,2,"a",[["class","nav-link"],["href","/serveurs"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Serveurs "])),(t()(),Po(49,0,null,null,0,"i",[["class","fa fa-link"]],null,null,null,null,null)),(t()(),Po(50,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,3,"a",[["class","nav-link"],["href","/as"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,0,"span",[["data-feather","bar-chart-2"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Acc\xe9s Serveurs "])),(t()(),Po(54,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(55,0,null,null,8,"main",[["class","col-md-9 ml-sm-auto col-lg-10 px-md-4"],["role","main"]],null,null,null,null,null)),(t()(),Po(56,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,fg)),Yr(58,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,gg)),Yr(60,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(61,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,yg)),Yr(63,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,58,0,""==n.opertaion),t(e,60,0,"edit"==n.opertaion),t(e,63,0,"view"==n.opertaion)}),null)}function bg(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-admins",[],null,null,null,_g,ag)),Yr(1,114688,null,0,sg,[yf,jh,yp],null,null)],(function(t,e){t(e,1,0)}),null)}var wg=xr("app-admins",sg,bg,{},{},[]);class Cg{constructor(t,e,n){this.fb=t,this.router=e,this.db=n,this.p1="",this.p2="",this.p3="",this.p4="",this.p5="",this.p6="",this.p7="",this.p8="",this.p10="",this.p11="",this.pimg="",this.bcat=[],this.totcat=0,this.Msg="",this.errorMsg2="",this.opertaion="",this.adminForm=new rf({nom:new nf("",Nd.required),cin:new nf("",Nd.required),datenais:new nf("",Nd.required),fonction:new nf("",Nd.required),email:new nf("",[Nd.required,Nd.email]),phone:new nf("",Nd.required),adresse:new nf("",Nd.required),mtp:new nf("",Nd.required),mtp2:new nf("",Nd.required),img:new nf("",Nd.required)}),this.adminFormEdit=new rf({id:new nf("",Nd.required),nom:new nf("",Nd.required),cin:new nf("",Nd.required),phone:new nf("",Nd.required),adresse:new nf("",Nd.required),email:new nf("",Nd.required),fonction:new nf("",Nd.required)}),this.fileIsUploadingAgentAdm=!1,this.fileUploadedAgentAdm=!1,this.fileIsUploadingAgentAdm2=!1,this.fileUploadedAgentAdm2=!1}formatDate(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}ngOnInit(){this.db.collection("employes").snapshotChanges().subscribe(t=>{this.bcat=[],this.totcat=0,t.forEach(t=>{this.totcat++;let e=t.payload.doc.data();e.id=t.payload.doc.id,this.bcat.push(e)})})}onUploadFileAgent(t,e){this.fileIsUploadingAgentAdm=!0,this.uploadFilePriduitBetonia(t,e).then(t=>{this.fileUrlAgentAdm=t,this.fileIsUploadingAgentAdm=!1,this.fileUploadedAgentAdm=!0,wf.storage().ref().child("ImgEmpFourma").child(e).getDownloadURL().then(t=>{this.photoAgent1=t}).catch(t=>{console.log(t)})})}detectFilesAgent(t){document.getElementById("fotoagg").innerText="";const e=this.adminForm.get("email").value;""!=e?(document.getElementById("fotoagg").innerText="",this.onUploadFileAgent(t.target.files[0],e)):(document.getElementById("fotoagg").innerText="Merci De Saisir L'Email Du Nouvell Annonce a publi\xe9 !",this.adminForm.get("img").setValue(""))}getPhotoagentAdmCDL(t){wf.storage().ref().child("ImgEmpFourma").child(t).getDownloadURL().then(t=>{this.photoAgent1=t}).catch(t=>{console.log(t)})}uploadFilePriduitBetonia(t,e){return new Promise((n,r)=>{Date.now().toString();const i=wf.storage().ref().child("ImgEmpFourma/"+e).put(t);i.on(wf.storage.TaskEvent.STATE_CHANGED,t=>{console.log("Chargement "+t.bytesTransferred/t.totalBytes*100+"%")},t=>{console.log("Erreur De Chargement : "+t),r()},()=>{n(i.snapshot.downloadURL)})})}hh(){if(this.adminForm.get("mtp").value==this.adminForm.get("mtp2").value){var t=this.adminForm.get("email").value,e=this.adminForm.get("mtp").value;return wf.auth().languageCode="fr",new Promise((n,r)=>{wf.auth().createUserWithEmailAndPassword(t,e).then(()=>{this.fileUploadedAgentAdm?(this.Msg="",this.db.collection("employes").add({fonction:this.adminForm.get("fonction").value,nom:this.adminForm.get("nom").value,cin:this.adminForm.get("cin").value,datenais:this.adminForm.get("datenais").value,email:this.adminForm.get("email").value,phone:this.adminForm.get("phone").value,adresse:this.adminForm.get("adresse").value,mtp:this.adminForm.get("mtp").value,img:this.photoAgent1,date:this.formatDate(new Date),compte:"true"}),this.Msg="Enregistrement Nouveau Admin Fourma Avec Succ\xe9es !",this.adminForm.get("fonction").setValue(""),this.adminForm.get("nom").setValue(""),this.adminForm.get("email").setValue(""),this.adminForm.get("phone").setValue(""),this.adminForm.get("mtp").setValue(""),this.adminForm.get("mtp2").setValue(""),this.adminForm.get("cin").setValue(""),this.adminForm.get("datenais").setValue(""),this.adminForm.get("adresse").setValue(""),document.getElementById("fotoagg").innerText="",this.photoAgent1="",this.fileIsUploadingAgentAdm=!1,this.fileUploadedAgentAdm=!1):this.Msg="Probleme D`Ajout Nouveau Admin Foruma !"},t=>{this.Msg=t})})}this.Msg="Les Mots De Passes doivent etre les memes ! "}edit(t){this.adminFormEdit.get("id").setValue(t.id),this.adminFormEdit.get("nom").setValue(t.nom),this.adminFormEdit.get("phone").setValue(t.phone),this.adminFormEdit.get("adresse").setValue(t.adresse),this.adminFormEdit.get("fonction").setValue(t.fonction),this.adminFormEdit.get("cin").setValue(t.cin),this.adminFormEdit.get("email").setValue(t.email),wf.storage().ref().child("ImgEmpFourma").child(t.email).getDownloadURL().then(t=>{document.getElementById("fotoagg2").innerText=t}).catch(t=>{console.log(t)})}update(){wf.storage().ref().child("ImgEmpFourma").child(this.adminFormEdit.get("email").value).getDownloadURL().then(t=>{this.Msg="",this.db.doc("employes/"+this.adminFormEdit.get("id").value).update({nom:this.adminFormEdit.get("nom").value,fonction:this.adminFormEdit.get("fonction").value,cin:this.adminFormEdit.get("cin").value,phone:this.adminFormEdit.get("phone").value,adresse:this.adminFormEdit.get("adresse").value,img:t,modified:this.formatDate(new Date)}),this.opertaion=""}).catch(t=>{console.log(t)})}delete(t){this.db.doc("employes/"+t.id).delete()}onUploadFileAgent2(t,e){this.fileIsUploadingAgentAdm2=!0,this.uploadFilePriduitBetonia(t,e).then(t=>{this.fileUrlAgentAdm2=t,this.fileIsUploadingAgentAdm2=!1,this.fileUploadedAgentAdm2=!0,wf.storage().ref().child("ImgEmpFourma").child(e).getDownloadURL().then(t=>{document.getElementById("fotoagg2").innerText=t,document.getElementById("fotoagg2").style.color="green"}).catch(t=>{console.log(t)})})}detectFilesAgent2(t){document.getElementById("verifIIII").innerText="";const e=this.adminFormEdit.get("email").value;""!=e?(document.getElementById("verifIIII").innerText="",this.onUploadFileAgent(t.target.files[0],e)):(document.getElementById("verifIIII").innerText="Merci De Saisir Le nom Du Nouvell Annonce a publi\xe9 !",this.adminForm.get("img").setValue(""))}getPhotoagentAdmCDL2(t){wf.storage().ref().child("ImgEmpFourma").child(t).getDownloadURL().then(t=>{this.photoAgent12=t}).catch(t=>{console.log(t)})}uploadFilePriduitBetonia2(t,e){return new Promise((n,r)=>{Date.now().toString();const i=wf.storage().ref().child("ImgEmpFourma/"+e).put(t);i.on(wf.storage.TaskEvent.STATE_CHANGED,t=>{console.log("Chargement "+t.bytesTransferred/t.totalBytes*100+"%"),document.getElementById("ki").style.color="red"},t=>{console.log("Erreur De Chargement : "+t),r()},()=>{n(i.snapshot.downloadURL)})})}bloquer(t){this.db.doc("employes/"+t.id).update({compte:"false"})}debloquer(t){this.db.doc("employes/"+t.id).update({compte:"true"})}view(t){this.p1=t.nom,this.p2=t.cin,this.p3=t.phone,this.p4=t.email,this.p5=t.adresse,this.p6=t.datenais,this.p7=t.date,this.p8=t.compte,this.pimg=t.img,this.p10=t.modified,this.p11=t.fonction,wf.storage().ref().child("ImgEmpFourma").child(t.titre).getDownloadURL().then(t=>{this.pimg=t}).catch(t=>{console.log(t)})}onSignOut(){wf.auth().signOut()}}var Eg=qn({encapsulation:0,styles:[".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }",[""]],data:{}});function Ig(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"p",[["style"," color: #049e2a;  font-family: 'Courgette', cursive; "]],null,null,null,null,null)),(t()(),Bo(-1,null,["Image Bien Charg\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function Tg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.bloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" Bloquer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null))],null,null)}function Sg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.debloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" D\xe9bloquer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock-open"]],null,null,null,null,null))],null,null)}function xg(t){return Wo(0,[(t()(),Po(0,0,null,null,24,"tr",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@600&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(3,null,[""," "])),(t()(),Po(4,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(t()(),Po(6,0,null,null,0,"img",[["style","width: 50px; border-radius: 50%;"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(7,0,null,null,1,"td",[["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(8,null,["",""])),(t()(),Po(9,0,null,null,1,"td",[["class","text-danger"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(10,null,["",""])),(t()(),Po(11,0,null,null,1,"td",[["class","text-success"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(12,null,["",""])),(t()(),Po(13,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Tg)),Yr(15,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Sg)),Yr(17,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(18,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),Po(19,0,null,null,1,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.opertaion="edit",r=!1!==i.edit(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(20,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,1,"button",[["class","btn btn-outline-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.opertaion="view",r=!1!==i.view(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(22,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(24,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],(function(t,e){t(e,15,0,"true"==e.context.$implicit.compte),t(e,17,0,"true"!=e.context.$implicit.compte)}),(function(t,e){t(e,3,0,e.context.$implicit.fonction),t(e,5,0,pr(1,"",e.context.$implicit.img,"")),t(e,6,0,pr(1,"",e.context.$implicit.img,"")),t(e,8,0,e.context.$implicit.nom),t(e,10,0,e.context.$implicit.email),t(e,12,0,e.context.$implicit.phone)}))}function Ag(t){return Wo(0,[(t()(),Po(0,0,null,null,198,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,4,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"img",[["class","animate__animated animate__zoomIn"],["height","200"],["src","../../assets/img/undraw_team_ih79.svg"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,1,"h1",[["class","animate__animated animate__flipInX animate_delay-2s"],["style","font-family: 'Lobster', cursive; color: #E2CC2B;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Gestion Employ\xe9s "])),(t()(),Po(6,0,null,null,7,"nav",[["aria-label","breadcrumb"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,6,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,3,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,2,"a",[["routerLink","/admin"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ur(t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Yr(10,671744,null,0,qh,[jh,Oc,is],{routerLink:[0,"routerLink"]},null),(t()(),Bo(-1,null,["Accueil"])),(t()(),Po(12,0,null,null,1,"li",[["aria-current","page"],["class","breadcrumb-item active"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Employ\xe9s "])),(t()(),Po(14,0,null,null,3,"p",[["class","text-left"],["style","font-family: 'Chewy', cursive;"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,2,"button",[["aria-controls","collapseExample"],["aria-expanded","false"],["class","btn btn-outline-warning"],["data-target","#collapseExample"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Nouveau Employ\xe9 "])),(t()(),Po(17,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,149,"div",[["class","collapse"],["id","collapseExample"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,148,"div",[["class","card card-body"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,147,"form",[["class","was-validated text-center"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,22).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,22).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.hh()&&r),r}),null,null)),Yr(21,16384,null,0,af,[],null,null),Yr(22,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(24,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(25,0,null,null,134,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,63,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,13,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Num\xe9ro Cin "])),(t()(),Po(30,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,9,"input",[["class","form-control is-invalid "],["formControlName","cin"],["pattern","[0-9]{8}"],["placeholder","Num\xe9ro Cin...."],["required",""],["type","number"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,32)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ur(t,33).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ur(t,33).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,33).onTouched()&&r),r}),null,null)),Yr(32,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(33,16384,null,0,Fd,[rn,Je],null,null),Yr(34,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(35,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t,e){return[t,e]}),[bd,Fd]),Yr(38,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(40,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(41,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Nom Et Pr\xe9nom "])),(t()(),Po(44,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(45,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","nom"],["placeholder","Nom Pr\xe9nom...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,46)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,46).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,46)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,46)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(46,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(47,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(50,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(52,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(53,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(54,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Adresse Mail "])),(t()(),Po(56,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(57,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","email"],["placeholder","Adresse Mail  ...."],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,58)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,58).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,58)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,58)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(58,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(59,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(62,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(64,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(65,0,null,null,12,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(66,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Mot De Passe "])),(t()(),Po(68,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(69,0,null,null,8,"input",[["class","form-control is-invalid "],["formControlName","mtp"],["pattern","[0-9]{6}"],["placeholder","Mot De Passe...."],["required",""],["type","password"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,70)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,70).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,70)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,70)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(70,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(71,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(72,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(75,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(77,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(78,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(79,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Fonction "])),(t()(),Po(81,0,null,null,0,"i",[["class","fa fa-briefcase"]],null,null,null,null,null)),(t()(),Po(82,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","fonction"],["placeholder","Fonction...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,83)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,83).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,83)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,83)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(83,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(84,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(87,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(89,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(90,0,null,null,69,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Po(91,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(92,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Date Naissance "])),(t()(),Po(94,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(95,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","datenais"],["required",""],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,96)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,96).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,96)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,96)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(96,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(97,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(100,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(102,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(103,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(104,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Adresse Locale "])),(t()(),Po(106,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(t()(),Po(107,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","adresse"],["placeholder","Adresse Locale ...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,108)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,108).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,108)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,108)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(108,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(109,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(112,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(114,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(115,0,null,null,13,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(116,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Num\xe9ro T\xe9l\xe9phone "])),(t()(),Po(118,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(119,0,null,null,9,"input",[["class","form-control is-invalid "],["formControlName","phone"],["pattern","[0-9]{8}"],["placeholder","Num\xe9ro T\xe9l\xe9phone ...."],["required",""],["type","number"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,120)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,120).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,120)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,120)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ur(t,121).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ur(t,121).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,121).onTouched()&&r),r}),null,null)),Yr(120,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(121,16384,null,0,Fd,[rn,Je],null,null),Yr(122,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(123,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t,e){return[t,e]}),[bd,Fd]),Yr(126,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(128,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(129,0,null,null,12,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(130,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Confirmation Mot De Passe "])),(t()(),Po(132,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(133,0,null,null,8,"input",[["class","form-control is-invalid "],["formControlName","mtp2"],["pattern","[0-9]{6}"],["placeholder","Confirmation Mot De Passe ...."],["required",""],["type","password"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,134)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,134).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,134)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,134)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(134,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(135,16384,null,0,gf,[],{required:[0,"required"]},null),Yr(136,540672,null,0,mf,[],{pattern:[0,"pattern"]},null),Jr(1024,null,kd,(function(t,e){return[t,e]}),[gf,mf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(139,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(141,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(142,0,null,null,17,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(143,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Image Admin "])),(t()(),Po(145,0,null,null,0,"i",[["class","fa fa-camera"]],null,null,null,null,null)),(t()(),Po(146,0,null,null,10,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),Po(147,0,null,null,7,"input",[["accept","image/*"],["class","custom-file-input is-invalid "],["formControlName","img"],["id","customFile"],["required",""],["type","file"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ur(t,148)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,148).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,148)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,148)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==i.detectFilesAgent(n)&&r),r}),null,null)),Yr(148,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(149,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(152,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(154,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(155,0,null,null,1,"label",[["class","custom-file-label"],["for","customFile"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Choisir Image Du Publication ..."])),(t()(),No(16777216,null,null,1,null,Ig)),Yr(158,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(159,0,null,null,0,"span",[["class","text-danger"],["id","fotoagg"]],null,null,null,null,null)),(t()(),Po(160,0,null,null,3,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(161,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,["Ajouter Employe "])),(t()(),Po(163,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(t()(),Po(164,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(165,0,null,null,1,"h5",[["class","text-dark"]],null,null,null,null,null)),(t()(),Bo(166,null,["",""])),(t()(),Po(167,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(168,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(169,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(170,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(171,0,null,null,4,"div",[["class","alert alert-warning alert-dismissible fade show text-center"],["role","alert"],["style"," font-family: 'Chewy', cursive; font-size : 18px;"]],null,null,null,null,null)),(t()(),Bo(172,null,["\nIl existe "," Employ\xe9s !\n"])),(t()(),Po(173,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(t()(),Po(174,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Bo(-1,null,["\xd7"])),(t()(),Po(176,0,null,null,22,"table",[["class","table table-light text-center table-hover"],["style","font-family: 'Bree Serif', serif; font-size : 18px;"]],null,null,null,null,null)),(t()(),Po(177,0,null,null,18,"thead",[],null,null,null,null,null)),(t()(),Po(178,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Fonction "])),(t()(),Po(180,0,null,null,0,"i",[["class","fa fa-briefcase"]],null,null,null,null,null)),(t()(),Po(181,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Image "])),(t()(),Po(183,0,null,null,0,"i",[["class","fa fa-camera"]],null,null,null,null,null)),(t()(),Po(184,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Nom Et Pr\xe9nom "])),(t()(),Po(186,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(187,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Email "])),(t()(),Po(189,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(190,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Phone "])),(t()(),Po(192,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(193,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Options "])),(t()(),Po(195,0,null,null,0,"i",[["class","fa fa-cog"]],null,null,null,null,null)),(t()(),Po(196,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,xg)),Yr(198,278528,null,0,gs,[Tn,En,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,10,0,"/admin"),t(e,22,0,n.adminForm),t(e,34,0,""),t(e,35,0,"[0-9]{8}"),t(e,38,0,"cin"),t(e,47,0,""),t(e,50,0,"nom"),t(e,59,0,""),t(e,62,0,"email"),t(e,71,0,""),t(e,72,0,"[0-9]{6}"),t(e,75,0,"mtp"),t(e,84,0,""),t(e,87,0,"fonction"),t(e,97,0,""),t(e,100,0,"datenais"),t(e,109,0,""),t(e,112,0,"adresse"),t(e,122,0,""),t(e,123,0,"[0-9]{8}"),t(e,126,0,"phone"),t(e,135,0,""),t(e,136,0,"[0-9]{6}"),t(e,139,0,"mtp2"),t(e,149,0,""),t(e,152,0,"img"),t(e,158,0,n.fileUploadedAgentAdm),t(e,198,0,n.bcat)}),(function(t,e){var n=e.component;t(e,9,0,Ur(e,10).target,Ur(e,10).href),t(e,20,0,Ur(e,24).ngClassUntouched,Ur(e,24).ngClassTouched,Ur(e,24).ngClassPristine,Ur(e,24).ngClassDirty,Ur(e,24).ngClassValid,Ur(e,24).ngClassInvalid,Ur(e,24).ngClassPending),t(e,31,0,Ur(e,34).required?"":null,Ur(e,35).pattern?Ur(e,35).pattern:null,Ur(e,40).ngClassUntouched,Ur(e,40).ngClassTouched,Ur(e,40).ngClassPristine,Ur(e,40).ngClassDirty,Ur(e,40).ngClassValid,Ur(e,40).ngClassInvalid,Ur(e,40).ngClassPending),t(e,45,0,Ur(e,47).required?"":null,Ur(e,52).ngClassUntouched,Ur(e,52).ngClassTouched,Ur(e,52).ngClassPristine,Ur(e,52).ngClassDirty,Ur(e,52).ngClassValid,Ur(e,52).ngClassInvalid,Ur(e,52).ngClassPending),t(e,57,0,Ur(e,59).required?"":null,Ur(e,64).ngClassUntouched,Ur(e,64).ngClassTouched,Ur(e,64).ngClassPristine,Ur(e,64).ngClassDirty,Ur(e,64).ngClassValid,Ur(e,64).ngClassInvalid,Ur(e,64).ngClassPending),t(e,69,0,Ur(e,71).required?"":null,Ur(e,72).pattern?Ur(e,72).pattern:null,Ur(e,77).ngClassUntouched,Ur(e,77).ngClassTouched,Ur(e,77).ngClassPristine,Ur(e,77).ngClassDirty,Ur(e,77).ngClassValid,Ur(e,77).ngClassInvalid,Ur(e,77).ngClassPending),t(e,82,0,Ur(e,84).required?"":null,Ur(e,89).ngClassUntouched,Ur(e,89).ngClassTouched,Ur(e,89).ngClassPristine,Ur(e,89).ngClassDirty,Ur(e,89).ngClassValid,Ur(e,89).ngClassInvalid,Ur(e,89).ngClassPending),t(e,95,0,Ur(e,97).required?"":null,Ur(e,102).ngClassUntouched,Ur(e,102).ngClassTouched,Ur(e,102).ngClassPristine,Ur(e,102).ngClassDirty,Ur(e,102).ngClassValid,Ur(e,102).ngClassInvalid,Ur(e,102).ngClassPending),t(e,107,0,Ur(e,109).required?"":null,Ur(e,114).ngClassUntouched,Ur(e,114).ngClassTouched,Ur(e,114).ngClassPristine,Ur(e,114).ngClassDirty,Ur(e,114).ngClassValid,Ur(e,114).ngClassInvalid,Ur(e,114).ngClassPending),t(e,119,0,Ur(e,122).required?"":null,Ur(e,123).pattern?Ur(e,123).pattern:null,Ur(e,128).ngClassUntouched,Ur(e,128).ngClassTouched,Ur(e,128).ngClassPristine,Ur(e,128).ngClassDirty,Ur(e,128).ngClassValid,Ur(e,128).ngClassInvalid,Ur(e,128).ngClassPending),t(e,133,0,Ur(e,135).required?"":null,Ur(e,136).pattern?Ur(e,136).pattern:null,Ur(e,141).ngClassUntouched,Ur(e,141).ngClassTouched,Ur(e,141).ngClassPristine,Ur(e,141).ngClassDirty,Ur(e,141).ngClassValid,Ur(e,141).ngClassInvalid,Ur(e,141).ngClassPending),t(e,147,0,Ur(e,149).required?"":null,Ur(e,154).ngClassUntouched,Ur(e,154).ngClassTouched,Ur(e,154).ngClassPristine,Ur(e,154).ngClassDirty,Ur(e,154).ngClassValid,Ur(e,154).ngClassInvalid,Ur(e,154).ngClassPending),t(e,161,0,!n.adminForm.valid),t(e,166,0,n.Msg),t(e,172,0,n.totcat)}))}function kg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Bloqu\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-ban"]],null,null,null,null,null))],null,null)}function Og(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Active "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null))],null,null)}function Ng(t){return Wo(0,[(t()(),Po(0,0,null,null,83,"div",[["class","container"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,1,"h1",[["class","text-center"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"img",[["height","180"],["src","../../assets/img/undraw_profile_6l1l.svg"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Po(4,0,null,null,59,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,9,"div",[["class","col-lg-4 text-center"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,0,"img",[["height","250"],["style","border-radius: 50%;"]],[[8,"src",4]],null,null,null,null)),(t()(),Po(7,0,null,null,3,"h1",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(8,null,[" "," "])),(t()(),Po(9,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(10,null,[" ",""])),(t()(),Po(11,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,2,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.opertaion="")&&r),r}),null,null)),(t()(),Po(13,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Retour"])),(t()(),Po(15,0,null,null,48,"div",[["class","col-lg-8"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(17,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,20,"div",[["class","col-lg-6"],["style","font-weight: bold; font-family: 'Lobster', cursive; font-size: 20px;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Num\xe9ro Carte Cin "])),(t()(),Po(20,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nNum\xe9ro T\xe9l\xe9phone "])),(t()(),Po(23,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nE-Mail "])),(t()(),Po(26,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nAdresse Locale "])),(t()(),Po(29,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nDate De Naissance "])),(t()(),Po(32,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(33,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Date Cr\xe9ation Compte "])),(t()(),Po(35,0,null,null,0,"i",[["class","fas fa-users-cog"]],null,null,null,null,null)),(t()(),Po(36,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,["\nEtat Compte "])),(t()(),Po(38,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,18,"div",[["class","col-lg-6"],["style","font-size: 20px; font-weight: bold;"]],null,null,null,null,null)),(t()(),Bo(40,null,[" "," "])),(t()(),Po(41,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(42,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Bo(43,null,[" ",""])),(t()(),Po(44,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(45,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Bo(46,null,["",""])),(t()(),Po(47,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(48,null,["\n"," "])),(t()(),Po(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(50,null,["\n"," "])),(t()(),Po(51,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(52,null,["\n",""])),(t()(),Po(53,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,kg)),Yr(55,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Og)),Yr(57,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(58,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(59,0,null,null,4,"h5",[["style","font-family: 'Lobster', cursive; color: rgb(233, 13, 42);"]],null,null,null,null,null)),(t()(),Po(60,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Derni\xe9re Modification Du Compte : "])),(t()(),Po(62,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Bo(63,null,["",""])),(t()(),Po(64,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Po(65,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(66,0,null,null,3,"h1",[["class","text-center text-info"],["style","font-family: 'Chewy', cursive;"]],null,null,null,null,null)),(t()(),Po(67,0,null,null,0,"img",[["height","180"],["src","../../assets/img/undraw_server_q2pb.svg"]],null,null,null,null,null)),(t()(),Po(68,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Historique Acc\xe9es Serveurs "])),(t()(),Po(70,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Po(71,0,null,null,12,"table",[["class","table table-light text-center table-hover"],["style","font-family: 'Bree Serif', serif; font-size : 18px;"]],null,null,null,null,null)),(t()(),Po(72,0,null,null,6,"thead",[],null,null,null,null,null)),(t()(),Po(73,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Nom Serveur "])),(t()(),Po(75,0,null,null,0,"i",[["class","fa fa-server"]],null,null,null,null,null)),(t()(),Po(76,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Date Acc\xe9es "])),(t()(),Po(78,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),Po(79,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Po(80,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),Po(81,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@600&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(82,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Bo(-1,null,["2020"]))],(function(t,e){var n=e.component;t(e,55,0,"false"==n.p8),t(e,57,0,"true"==n.p8)}),(function(t,e){var n=e.component;t(e,6,0,pr(1,"",n.pimg,"")),t(e,8,0,n.p11),t(e,10,0,n.p1),t(e,40,0,n.p2),t(e,43,0,n.p3),t(e,46,0,n.p4),t(e,48,0,n.p5),t(e,50,0,n.p6),t(e,52,0,n.p7),t(e,63,0,n.p10)}))}function Pg(t){return Wo(0,[(t()(),Po(0,0,null,null,0,"meta",[["charset","utf-8"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"meta",[["content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","viewport"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"meta",[["content",""],["name","description"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"meta",[["content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","author"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,0,"meta",[["content","Jekyll v4.1.1"],["name","generator"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"title",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Dashboard Template \xb7 Bootstrap"])),(t()(),Po(7,0,null,null,0,"link",[["href","https://getbootstrap.com/docs/4.5/examples/dashboard/"],["rel","canonical"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,0,"link",[["crossorigin","anonymous"],["href","/docs/4.5/dist/css/bootstrap.min.css"],["integrity","sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/apple-touch-icon.png"],["rel","apple-touch-icon"],["sizes","180x180"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-32x32.png"],["rel","icon"],["sizes","32x32"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-16x16.png"],["rel","icon"],["sizes","16x16"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/manifest.json"],["rel","manifest"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"link",[["color","#563d7c"],["href","/docs/4.5/assets/img/favicons/safari-pinned-tab.svg"],["rel","mask-icon"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon.ico"],["rel","icon"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,0,"meta",[["content","/docs/4.5/assets/img/favicons/browserconfig.xml"],["name","msapplication-config"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"meta",[["content","#563d7c"],["name","theme-color"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,9,"nav",[["class","navbar navbar-dark sticky-top bg-info flex-md-nowrap p-0 shadow"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"a",[["class","navbar-brand col-md-3 col-lg-2 mr-0 px-3"],["href","#"],["style","font-family: 'Lobster', cursive;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Tunisie T\xe9l\xe9come"])),(t()(),Po(20,0,null,null,1,"button",[["aria-controls","sidebarMenu"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler position-absolute d-md-none collapsed"],["data-target","#sidebarMenu"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,4,"ul",[["class","navbar-nav px-3"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,3,"li",[["class","nav-item text-nowrap"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSignOut()&&r),r}),null,null)),(t()(),Bo(-1,null,["D\xe9connexion "])),(t()(),Po(26,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,34,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,25,"nav",[["class","col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"],["id","sidebarMenu"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,24,"div",[["class","sidebar-sticky pt-3"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,23,"ul",[["class","nav flex-column"],["style","font-family: 'Lobster', cursive;  "]],null,null,null,null,null)),(t()(),Po(32,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(33,0,null,null,4,"a",[["class","nav-link active"],["href","/admin"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,0,"span",[["data-feather","home"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Dashboard "])),(t()(),Po(36,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Bo(-1,null,["(current)"])),(t()(),Po(38,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"a",[["class","nav-link"],["href","/admins"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Admins "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(43,0,null,null,2,"a",[["class","nav-link"],["href","/employes"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Employ\xe9s "])),(t()(),Po(45,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(46,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(47,0,null,null,2,"a",[["class","nav-link"],["href","/serveurs"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Serveurs "])),(t()(),Po(49,0,null,null,0,"i",[["class","fa fa-link"]],null,null,null,null,null)),(t()(),Po(50,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,3,"a",[["class","nav-link"],["href","/as"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,0,"span",[["data-feather","bar-chart-2"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Acc\xe9s Serveurs "])),(t()(),Po(54,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(55,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(56,0,null,null,5,"main",[["class","col-md-9 ml-sm-auto col-lg-10 px-md-4"],["role","main"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Ag)),Yr(58,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(59,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Ng)),Yr(61,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,58,0,""==n.opertaion),t(e,61,0,"view"==n.opertaion)}),null)}function Dg(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-employes",[],null,null,null,Pg,Eg)),Yr(1,114688,null,0,Cg,[yf,jh,yp],null,null)],(function(t,e){t(e,1,0)}),null)}var Rg=xr("app-employes",Cg,Dg,{},{},[]);class Mg{constructor(t,e,n){this.fb=t,this.router=e,this.db=n,this.bcat=[],this.totcat=0,this.Msg="",this.errorMsg2="",this.opertaion="",this.serveurForm=new rf({hostname:new nf("",Nd.required),idMangement:new nf("",Nd.required),mtp:new nf("",Nd.required),idBackup:new nf("",Nd.required),type:new nf("",Nd.required),debit:new nf("",Nd.required)}),this.adminFormEdit=new rf({id:new nf("",Nd.required),hostname:new nf("",Nd.required),idMangement:new nf("",Nd.required),mtp:new nf("",Nd.required),ipBackup:new nf("",Nd.required),type:new nf("",Nd.required),debit:new nf("",Nd.required)})}formatDate(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}ngOnInit(){this.db.collection("serveurs").snapshotChanges().subscribe(t=>{this.bcat=[],this.totcat=0,t.forEach(t=>{this.totcat++;let e=t.payload.doc.data();e.id=t.payload.doc.id,this.bcat.push(e)})})}hh(){this.Msg="",this.db.collection("serveurs").add({hostname:this.serveurForm.get("hostname").value,mtp:this.serveurForm.get("mtp").value,idMangement:this.serveurForm.get("idMangement").value,ipBackup:this.serveurForm.get("idBackup").value,type:this.serveurForm.get("type").value,debit:this.serveurForm.get("debit").value,date:this.formatDate(new Date),active:"true",nbAccess:0}),this.Msg="Enregistrement Nouveau Serveur Web Avec Succ\xe9es !",this.serveurForm.get("hostname").setValue(""),this.serveurForm.get("type").setValue(""),this.serveurForm.get("mtp").setValue(""),this.serveurForm.get("idMangement").setValue(""),this.serveurForm.get("ipBackup").setValue(""),this.serveurForm.get("debit").setValue("")}edit(t){this.adminFormEdit.get("id").setValue(t.id),this.adminFormEdit.get("hostname").setValue(t.hostname),this.adminFormEdit.get("type").setValue(t.type),this.adminFormEdit.get("mtp").setValue(t.mtp),this.adminFormEdit.get("idMangement").setValue(t.idMangement),this.adminFormEdit.get("ipBackup").setValue(t.ipBackup),this.adminFormEdit.get("debit").setValue(t.debit)}onSignOut(){wf.auth().signOut()}update(){wf.storage().ref(),this.Msg="",this.db.doc("serveurs/"+this.adminFormEdit.get("id").value).update({hostname:this.adminFormEdit.get("hostname").value,mtp:this.adminFormEdit.get("mtp").value,idMangement:this.adminFormEdit.get("idMangement").value,ipBackup:this.adminFormEdit.get("ipBackup").value,type:this.adminFormEdit.get("type").value,debit:this.adminFormEdit.get("debit").value,modified:this.formatDate(new Date)}),this.opertaion=""}delete(t){this.db.doc("serveurs/"+t.id).delete()}bloquer(t){this.db.doc("serveurs/"+t.id).update({active:"false"})}debloquer(t){this.db.doc("serveurs/"+t.id).update({active:"true"})}}var Lg=qn({encapsulation:0,styles:[".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }",[""]],data:{}});function Fg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-success"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Active "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-check-square "]],null,null,null,null,null))],null,null)}function Ug(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"td",[["class","text-danger"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(-1,null,["D\xe9sactiv\xe9 "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-block"]],null,null,null,null,null))],null,null)}function Vg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.bloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" D\xe9activer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null))],null,null)}function jg(t){return Wo(0,[(t()(),Po(0,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.debloquer(t.parent.context.$implicit)&&r),r}),null,null)),(t()(),Bo(-1,null,[" R\xe9activer "])),(t()(),Po(2,0,null,null,0,"i",[["class","fa fa-lock-open"]],null,null,null,null,null))],null,null)}function qg(t){return Wo(0,[(t()(),Po(0,0,null,null,23,"tr",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@600&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,1,"td",[["class","text-primary"],["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(3,null,["",""])),(t()(),Po(4,0,null,null,1,"td",[["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(5,null,["",""])),(t()(),Po(6,0,null,null,1,"td",[["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(7,null,["",""])),(t()(),No(16777216,null,null,1,null,Fg)),Yr(9,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Ug)),Yr(11,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(12,0,null,null,1,"td",[["style","font-family: 'Roboto Slab', serif;"]],null,null,null,null,null)),(t()(),Bo(13,null,["",""])),(t()(),Po(14,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Vg)),Yr(16,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,jg)),Yr(18,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),Po(19,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),Po(20,0,null,null,1,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.opertaion="edit",r=!1!==i.edit(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(21,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete(t.context.$implicit)&&r),r}),null,null)),(t()(),Po(23,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],(function(t,e){t(e,9,0,"true"==e.context.$implicit.active),t(e,11,0,"true"!=e.context.$implicit.active),t(e,16,0,"true"==e.context.$implicit.active),t(e,18,0,"true"!=e.context.$implicit.active)}),(function(t,e){t(e,3,0,e.context.$implicit.hostname),t(e,5,0,e.context.$implicit.type),t(e,7,0,e.context.$implicit.debit),t(e,13,0,e.context.$implicit.nbAccess)}))}function Bg(t){return Wo(0,[(t()(),Po(0,0,null,null,137,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,4,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"img",[["class","animate__animated animate__zoomIn"],["height","200"],["src","../../assets/img/undraw_server_cluster_jwwq.svg"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,1,"h1",[["class","animate__animated animate__flipInX animate_delay-2s"],["style","font-family: 'Lobster', cursive; color: blue; "]],null,null,null,null,null)),(t()(),Bo(-1,null,["Gestion Serveurs "])),(t()(),Po(6,0,null,null,7,"nav",[["aria-label","breadcrumb"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,6,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,3,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,2,"a",[["routerLink","/admin"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ur(t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Yr(10,671744,null,0,qh,[jh,Oc,is],{routerLink:[0,"routerLink"]},null),(t()(),Bo(-1,null,["Accueil"])),(t()(),Po(12,0,null,null,1,"li",[["aria-current","page"],["class","breadcrumb-item active"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Serveurs "])),(t()(),Po(14,0,null,null,3,"p",[["class","text-left"],["style","font-family: 'Chewy', cursive;"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,2,"button",[["aria-controls","collapseExample"],["aria-expanded","false"],["class","btn btn-outline-info"],["data-target","#collapseExample"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Nouveau Serveur "])),(t()(),Po(17,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,88,"div",[["class","collapse"],["id","collapseExample"]],null,null,null,null,null)),(t()(),Po(19,0,null,null,87,"div",[["class","card card-body"]],null,null,null,null,null)),(t()(),Po(20,0,null,null,86,"form",[["class","was-validated text-center container"],["novalidate",""],["style","width: 50%;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,22).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,22).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.hh()&&r),r}),null,null)),Yr(21,16384,null,0,af,[],null,null),Yr(22,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(24,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(25,0,null,null,73,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(26,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Hostname "])),(t()(),Po(29,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","hostname"],["placeholder","Hostname...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,31)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,31).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,31)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,31)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(31,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(32,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(35,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(37,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(38,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" idManagement "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","idMangement"],["placeholder","Hostname...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,43)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,43).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,43)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,43)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(43,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(44,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(47,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(49,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(50,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Mtp "])),(t()(),Po(53,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(54,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","mtp"],["placeholder","Hostname...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,55)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,55).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,55)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,55)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(55,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(56,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(59,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(61,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(62,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(63,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" idBackup "])),(t()(),Po(65,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(66,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","idBackup"],["placeholder","Hostname...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,67)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,67).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,67)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,67)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(67,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(68,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(71,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(73,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(74,0,null,null,11,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(75,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" type "])),(t()(),Po(77,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(78,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","type"],["placeholder","Hostname...."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,79)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,79).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,79)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,79)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(79,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(80,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(83,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(85,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(86,0,null,null,12,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(87,0,null,null,2,"h4",[["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" debit "])),(t()(),Po(89,0,null,null,0,"i",[["class","fa fa-id-card"]],null,null,null,null,null)),(t()(),Po(90,0,null,null,8,"input",[["class","form-control is-invalid "],["formControlName","debit"],["placeholder","Hostname...."],["required",""],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,91)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,91).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,91)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,91)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ur(t,92).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ur(t,92).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,92).onTouched()&&r),r}),null,null)),Yr(91,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(92,16384,null,0,Fd,[rn,Je],null,null),Yr(93,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t,e){return[t,e]}),[bd,Fd]),Yr(96,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(98,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(99,0,null,null,3,"div",[["class","form-group container"]],null,null,null,null,null)),(t()(),Po(100,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,["Ajouter Serveur "])),(t()(),Po(102,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(t()(),Po(103,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(104,0,null,null,1,"h5",[["class","text-dark"]],null,null,null,null,null)),(t()(),Bo(105,null,["",""])),(t()(),Po(106,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(107,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(108,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(109,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Lobster&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(110,0,null,null,4,"div",[["class","alert alert-warning alert-dismissible fade show text-center"],["role","alert"],["style","font-family: 'Lobster', cursive; font-size : 18px;"]],null,null,null,null,null)),(t()(),Bo(111,null,[" Il existe "," Serveurs Chez T\xe9l\xe9come ! "])),(t()(),Po(112,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(t()(),Po(113,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Bo(-1,null,["\xd7"])),(t()(),Po(115,0,null,null,22,"table",[["class","table table-light text-center table-hover"],["style","font-family: 'Bree Serif', serif; font-size : 18px;"]],null,null,null,null,null)),(t()(),Po(116,0,null,null,18,"thead",[],null,null,null,null,null)),(t()(),Po(117,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Hostname "])),(t()(),Po(119,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(120,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Type "])),(t()(),Po(122,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(123,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" D\xe9bit "])),(t()(),Po(125,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(126,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Etat "])),(t()(),Po(128,0,null,null,0,"i",[["class","fa fa-th-large"]],null,null,null,null,null)),(t()(),Po(129,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Nb Acc\xe9s "])),(t()(),Po(131,0,null,null,0,"i",[["class","fa fa-th-large"]],null,null,null,null,null)),(t()(),Po(132,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Bo(-1,null,[" Options "])),(t()(),Po(134,0,null,null,0,"i",[["class","fa fa-th-large"]],null,null,null,null,null)),(t()(),Po(135,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,qg)),Yr(137,278528,null,0,gs,[Tn,En,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,10,0,"/admin"),t(e,22,0,n.serveurForm),t(e,32,0,""),t(e,35,0,"hostname"),t(e,44,0,""),t(e,47,0,"idMangement"),t(e,56,0,""),t(e,59,0,"mtp"),t(e,68,0,""),t(e,71,0,"idBackup"),t(e,80,0,""),t(e,83,0,"type"),t(e,93,0,""),t(e,96,0,"debit"),t(e,137,0,n.bcat)}),(function(t,e){var n=e.component;t(e,9,0,Ur(e,10).target,Ur(e,10).href),t(e,20,0,Ur(e,24).ngClassUntouched,Ur(e,24).ngClassTouched,Ur(e,24).ngClassPristine,Ur(e,24).ngClassDirty,Ur(e,24).ngClassValid,Ur(e,24).ngClassInvalid,Ur(e,24).ngClassPending),t(e,30,0,Ur(e,32).required?"":null,Ur(e,37).ngClassUntouched,Ur(e,37).ngClassTouched,Ur(e,37).ngClassPristine,Ur(e,37).ngClassDirty,Ur(e,37).ngClassValid,Ur(e,37).ngClassInvalid,Ur(e,37).ngClassPending),t(e,42,0,Ur(e,44).required?"":null,Ur(e,49).ngClassUntouched,Ur(e,49).ngClassTouched,Ur(e,49).ngClassPristine,Ur(e,49).ngClassDirty,Ur(e,49).ngClassValid,Ur(e,49).ngClassInvalid,Ur(e,49).ngClassPending),t(e,54,0,Ur(e,56).required?"":null,Ur(e,61).ngClassUntouched,Ur(e,61).ngClassTouched,Ur(e,61).ngClassPristine,Ur(e,61).ngClassDirty,Ur(e,61).ngClassValid,Ur(e,61).ngClassInvalid,Ur(e,61).ngClassPending),t(e,66,0,Ur(e,68).required?"":null,Ur(e,73).ngClassUntouched,Ur(e,73).ngClassTouched,Ur(e,73).ngClassPristine,Ur(e,73).ngClassDirty,Ur(e,73).ngClassValid,Ur(e,73).ngClassInvalid,Ur(e,73).ngClassPending),t(e,78,0,Ur(e,80).required?"":null,Ur(e,85).ngClassUntouched,Ur(e,85).ngClassTouched,Ur(e,85).ngClassPristine,Ur(e,85).ngClassDirty,Ur(e,85).ngClassValid,Ur(e,85).ngClassInvalid,Ur(e,85).ngClassPending),t(e,90,0,Ur(e,93).required?"":null,Ur(e,98).ngClassUntouched,Ur(e,98).ngClassTouched,Ur(e,98).ngClassPristine,Ur(e,98).ngClassDirty,Ur(e,98).ngClassValid,Ur(e,98).ngClassInvalid,Ur(e,98).ngClassPending),t(e,100,0,!n.serveurForm.valid),t(e,105,0,n.Msg),t(e,111,0,n.totcat)}))}function Hg(t){return Wo(0,[(t()(),Po(0,0,null,null,101,"div",[],null,null,null,null,null)),(t()(),Po(1,0,null,null,100,"form",[["class","text-center"],["novalidate",""],["style","font-family: 'Do Hyeon', sans-serif;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Ur(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ur(t,3).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.update()&&r),r}),null,null)),Yr(2,16384,null,0,af,[],null,null),Yr(3,540672,null,0,cf,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,Cd,null,[cf]),Yr(5,16384,null,0,xd,[[4,Cd]],null,null),(t()(),Po(6,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(7,0,null,null,1,"h3",[["class","text-center text-primary"],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Modifier Parnetaire "])),(t()(),Po(9,0,null,null,11,"div",[["class","form-group container"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Id Partenaire "])),(t()(),Po(12,0,null,null,0,"i",[["class","fa fa-leanpub"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,7,"input",[["class","form-control is-invalid "],["disabled",""],["formControlName","id"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,14)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,14).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,14)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,14)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(14,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(15,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(18,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),Jr(2048,null,Id,null,[pf]),Yr(20,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(21,0,null,null,11,"div",[["class","form-group container"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["hostname "])),(t()(),Po(24,0,null,null,0,"i",[["class","fa fa-leanpub"]],null,null,null,null,null)),(t()(),Po(25,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","hostname"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,26)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,26).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,26)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,26)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(26,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(27,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(30,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(32,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(33,0,null,null,11,"div",[["class","form-group container"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Mot de passe "])),(t()(),Po(36,0,null,null,0,"i",[["class","fa fa-leanpub"]],null,null,null,null,null)),(t()(),Po(37,0,null,null,7,"input",[["class","form-control is-invalid "],["formControlName","mtp"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,38)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,38).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,38)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,38)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(38,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(39,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(42,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(44,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(45,0,null,null,11,"div",[["class","form-group container"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Po(46,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Id Manegement "])),(t()(),Po(48,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(49,0,null,null,7,"textarea",[["class","form-control is-invalid "],["formControlName","idMangement"],["id","exampleFormControlTextarea1"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,50)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,50).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,50)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,50)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(50,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(51,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(54,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(56,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(57,0,null,null,11,"div",[["class","form-group container"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Po(58,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Id Backup "])),(t()(),Po(60,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(61,0,null,null,7,"textarea",[["class","form-control is-invalid "],["formControlName","ipBackup"],["id","exampleFormControlTextarea1"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,62)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,62).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,62)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,62)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(62,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(63,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(66,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(68,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(69,0,null,null,11,"div",[["class","form-group container"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Po(70,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Type "])),(t()(),Po(72,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(73,0,null,null,7,"textarea",[["class","form-control is-invalid "],["formControlName","type"],["id","exampleFormControlTextarea1"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,74)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,74).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,74)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,74)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(74,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(75,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(78,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(80,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(81,0,null,null,11,"div",[["class","form-group container"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Po(82,0,null,null,2,"h4",[["for",""],["style","font-family: 'Lobster', cursive; color: rgb(2, 2, 53);"]],null,null,null,null,null)),(t()(),Bo(-1,null,["Debit "])),(t()(),Po(84,0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(t()(),Po(85,0,null,null,7,"textarea",[["class","form-control is-invalid "],["formControlName","debit"],["id","exampleFormControlTextarea1"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ur(t,86)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ur(t,86).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ur(t,86)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ur(t,86)._compositionEnd(n.target.value)&&r),r}),null,null)),Yr(86,16384,null,0,bd,[rn,Je,[2,_d]],null,null),Yr(87,16384,null,0,gf,[],{required:[0,"required"]},null),Jr(1024,null,kd,(function(t){return[t]}),[gf]),Jr(1024,null,yd,(function(t){return[t]}),[bd]),Yr(90,671744,null,0,pf,[[3,Cd],[6,kd],[8,null],[6,yd],[2,uf]],{name:[0,"name"]},null),Jr(2048,null,Id,null,[pf]),Yr(92,16384,null,0,Sd,[[4,Id]],null,null),(t()(),Po(93,0,null,null,2,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Bo(-1,null,["Enregistrer Modifications "])),(t()(),Po(95,0,null,null,0,"i",[["class","fa fa-check-square"]],null,null,null,null,null)),(t()(),Po(96,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Po(97,0,null,null,1,"span",[["id","ki"]],null,null,null,null,null)),(t()(),Bo(98,null,["",""])),(t()(),Po(99,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.opertaion="")&&r),r}),null,null)),(t()(),Po(100,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Retour "]))],(function(t,e){t(e,3,0,e.component.adminFormEdit),t(e,15,0,""),t(e,18,0,"id",""),t(e,27,0,""),t(e,30,0,"hostname"),t(e,39,0,""),t(e,42,0,"mtp"),t(e,51,0,""),t(e,54,0,"idMangement"),t(e,63,0,""),t(e,66,0,"ipBackup"),t(e,75,0,""),t(e,78,0,"type"),t(e,87,0,""),t(e,90,0,"debit")}),(function(t,e){var n=e.component;t(e,1,0,Ur(e,5).ngClassUntouched,Ur(e,5).ngClassTouched,Ur(e,5).ngClassPristine,Ur(e,5).ngClassDirty,Ur(e,5).ngClassValid,Ur(e,5).ngClassInvalid,Ur(e,5).ngClassPending),t(e,13,0,Ur(e,15).required?"":null,Ur(e,20).ngClassUntouched,Ur(e,20).ngClassTouched,Ur(e,20).ngClassPristine,Ur(e,20).ngClassDirty,Ur(e,20).ngClassValid,Ur(e,20).ngClassInvalid,Ur(e,20).ngClassPending),t(e,25,0,Ur(e,27).required?"":null,Ur(e,32).ngClassUntouched,Ur(e,32).ngClassTouched,Ur(e,32).ngClassPristine,Ur(e,32).ngClassDirty,Ur(e,32).ngClassValid,Ur(e,32).ngClassInvalid,Ur(e,32).ngClassPending),t(e,37,0,Ur(e,39).required?"":null,Ur(e,44).ngClassUntouched,Ur(e,44).ngClassTouched,Ur(e,44).ngClassPristine,Ur(e,44).ngClassDirty,Ur(e,44).ngClassValid,Ur(e,44).ngClassInvalid,Ur(e,44).ngClassPending),t(e,49,0,Ur(e,51).required?"":null,Ur(e,56).ngClassUntouched,Ur(e,56).ngClassTouched,Ur(e,56).ngClassPristine,Ur(e,56).ngClassDirty,Ur(e,56).ngClassValid,Ur(e,56).ngClassInvalid,Ur(e,56).ngClassPending),t(e,61,0,Ur(e,63).required?"":null,Ur(e,68).ngClassUntouched,Ur(e,68).ngClassTouched,Ur(e,68).ngClassPristine,Ur(e,68).ngClassDirty,Ur(e,68).ngClassValid,Ur(e,68).ngClassInvalid,Ur(e,68).ngClassPending),t(e,73,0,Ur(e,75).required?"":null,Ur(e,80).ngClassUntouched,Ur(e,80).ngClassTouched,Ur(e,80).ngClassPristine,Ur(e,80).ngClassDirty,Ur(e,80).ngClassValid,Ur(e,80).ngClassInvalid,Ur(e,80).ngClassPending),t(e,85,0,Ur(e,87).required?"":null,Ur(e,92).ngClassUntouched,Ur(e,92).ngClassTouched,Ur(e,92).ngClassPristine,Ur(e,92).ngClassDirty,Ur(e,92).ngClassValid,Ur(e,92).ngClassInvalid,Ur(e,92).ngClassPending),t(e,93,0,!n.adminFormEdit.valid),t(e,98,0,n.errorMsg2)}))}function zg(t){return Wo(0,[(t()(),Po(0,0,null,null,0,"meta",[["charset","utf-8"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"meta",[["content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","viewport"]],null,null,null,null,null)),(t()(),Po(2,0,null,null,0,"meta",[["content",""],["name","description"]],null,null,null,null,null)),(t()(),Po(3,0,null,null,0,"meta",[["content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","author"]],null,null,null,null,null)),(t()(),Po(4,0,null,null,0,"meta",[["content","Jekyll v4.1.1"],["name","generator"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,1,"title",[],null,null,null,null,null)),(t()(),Bo(-1,null,["Dashboard Template \xb7 Bootstrap"])),(t()(),Po(7,0,null,null,0,"link",[["href","https://getbootstrap.com/docs/4.5/examples/dashboard/"],["rel","canonical"]],null,null,null,null,null)),(t()(),Po(8,0,null,null,0,"link",[["crossorigin","anonymous"],["href","/docs/4.5/dist/css/bootstrap.min.css"],["integrity","sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(9,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/apple-touch-icon.png"],["rel","apple-touch-icon"],["sizes","180x180"]],null,null,null,null,null)),(t()(),Po(10,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-32x32.png"],["rel","icon"],["sizes","32x32"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(11,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon-16x16.png"],["rel","icon"],["sizes","16x16"],["type","image/png"]],null,null,null,null,null)),(t()(),Po(12,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/manifest.json"],["rel","manifest"]],null,null,null,null,null)),(t()(),Po(13,0,null,null,0,"link",[["color","#563d7c"],["href","/docs/4.5/assets/img/favicons/safari-pinned-tab.svg"],["rel","mask-icon"]],null,null,null,null,null)),(t()(),Po(14,0,null,null,0,"link",[["href","/docs/4.5/assets/img/favicons/favicon.ico"],["rel","icon"]],null,null,null,null,null)),(t()(),Po(15,0,null,null,0,"meta",[["content","/docs/4.5/assets/img/favicons/browserconfig.xml"],["name","msapplication-config"]],null,null,null,null,null)),(t()(),Po(16,0,null,null,0,"meta",[["content","#563d7c"],["name","theme-color"]],null,null,null,null,null)),(t()(),Po(17,0,null,null,9,"nav",[["class","navbar navbar-dark sticky-top bg-info flex-md-nowrap p-0 shadow"]],null,null,null,null,null)),(t()(),Po(18,0,null,null,1,"a",[["class","navbar-brand col-md-3 col-lg-2 mr-0 px-3"],["href","#"],["style","font-family: 'Lobster', cursive;"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Tunisie T\xe9l\xe9come"])),(t()(),Po(20,0,null,null,1,"button",[["aria-controls","sidebarMenu"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler position-absolute d-md-none collapsed"],["data-target","#sidebarMenu"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Po(21,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Po(22,0,null,null,4,"ul",[["class","navbar-nav px-3"]],null,null,null,null,null)),(t()(),Po(23,0,null,null,3,"li",[["class","nav-item text-nowrap"]],null,null,null,null,null)),(t()(),Po(24,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSignOut()&&r),r}),null,null)),(t()(),Bo(-1,null,["D\xe9connexion "])),(t()(),Po(26,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(t()(),Po(27,0,null,null,32,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Po(28,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(t()(),Po(29,0,null,null,25,"nav",[["class","col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"],["id","sidebarMenu"]],null,null,null,null,null)),(t()(),Po(30,0,null,null,24,"div",[["class","sidebar-sticky pt-3"]],null,null,null,null,null)),(t()(),Po(31,0,null,null,23,"ul",[["class","nav flex-column"],["style","font-family: 'Lobster', cursive;  "]],null,null,null,null,null)),(t()(),Po(32,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(33,0,null,null,4,"a",[["class","nav-link active"],["href","/admin"]],null,null,null,null,null)),(t()(),Po(34,0,null,null,0,"span",[["data-feather","home"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Dashboard "])),(t()(),Po(36,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Bo(-1,null,["(current)"])),(t()(),Po(38,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(39,0,null,null,2,"a",[["class","nav-link"],["href","/admins"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Admins "])),(t()(),Po(41,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(t()(),Po(42,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(43,0,null,null,2,"a",[["class","nav-link"],["href","/employes"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Employ\xe9s "])),(t()(),Po(45,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Po(46,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(47,0,null,null,2,"a",[["class","nav-link"],["href","/serveurs"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Serveurs "])),(t()(),Po(49,0,null,null,0,"i",[["class","fa fa-link"]],null,null,null,null,null)),(t()(),Po(50,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Po(51,0,null,null,3,"a",[["class","nav-link"],["href","/as"]],null,null,null,null,null)),(t()(),Po(52,0,null,null,0,"span",[["data-feather","bar-chart-2"]],null,null,null,null,null)),(t()(),Bo(-1,null,[" Acc\xe9s Serveurs "])),(t()(),Po(54,0,null,null,0,"i",[["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Po(55,0,null,null,4,"main",[["class","col-md-9 ml-sm-auto col-lg-10 px-md-4"],["role","main"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Bg)),Yr(57,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Hg)),Yr(59,16384,null,0,vs,[Tn,En],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,57,0,""==n.opertaion),t(e,59,0,"edit"==n.opertaion)}),null)}function Wg(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-serveurs",[],null,null,null,zg,Lg)),Yr(1,114688,null,0,Mg,[yf,jh,yp],null,null)],(function(t,e){t(e,1,0)}),null)}var Gg=xr("app-serveurs",Mg,Wg,{},{},[]),Kg=qn({encapsulation:0,styles:[".bd-placeholder-img[_ngcontent-%COMP%] {\n    font-size: 1.125rem;\n    text-anchor: middle;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n\n  @media (min-width: 768px) {\n    .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n      font-size: 3.5rem;\n    }\n  }",[""]],data:{}});function $g(t){return Wo(0,[(t()(),Po(0,0,null,null,0,"link",[["crossorigin","anonymous"],["href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"],["integrity","sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(1,0,null,null,0,"link",[["href","https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Yr(3,212992,null,0,Wh,[zh,Tn,$e,[8,null],we],null,null),(t()(),Po(4,0,null,null,0,"link",[["href","https://fonts.googleapis.com/css2?family=Chewy&display=swap"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(5,0,null,null,0,"link",[["crossorigin","anonymous"],["href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"],["integrity","sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Po(6,0,null,null,0,"link",[["crossorigin","anonymous"],["href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"],["integrity","sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"],["rel","stylesheet"]],null,null,null,null,null))],(function(t,e){t(e,3,0)}),null)}function Qg(t){return Wo(0,[(t()(),Po(0,0,null,null,1,"app-root",[],null,null,null,$g,Kg)),Yr(1,114688,null,0,es,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Xg,Yg=xr("app-root",es,Qg,{},{},[]);n("6Joi");let Jg=Xg=class{static enablePersistence(t){return{ngModule:Xg,providers:[{provide:dp,useValue:!0},{provide:fp,useValue:t}]}}},Zg=class{constructor(t,e,n,r){const i=np(new ep(r),n);this.auth=r.runOutsideAngular(()=>cp(t,r,e).auth()),this.authState=new w(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new w(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(ua(t=>t?G(t.getIdToken()):As(null))),this.idTokenResult=this.user.pipe(ua(t=>t?G(t.getIdTokenResult()):As(null)))}},tm=class{},em=(()=>{class t{constructor(t){this.router=t}canActivate(){return new Promise((t,e)=>{wf.auth().onAuthStateChanged(e=>{e?t(!0):(this.router.navigate(["/loginAdmin"]),t(!1))})})}}return t.ngInjectableDef=dt({factory:function(){return new t(Nt(jh))},token:t,providedIn:"root"}),t})(),nm=(()=>{class t{constructor(t){this.router=t}canActivate(){return new Promise((t,e)=>{wf.auth().onAuthStateChanged(e=>{e?t(!0):(this.router.navigate(["/loginEmp"]),t(!1))})})}}return t.ngInjectableDef=dt({factory:function(){return new t(Nt(jh))},token:t,providedIn:"root"}),t})();class rm{}var im=Xl(Jl,[es],(function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===Ee&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[jn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([br(512,$e,Qe,[[8,[md,xp,Dp,Up,eg,lg,wg,Rg,Gg,Yg]],[3,$e],Rt]),br(5120,Oi,Ao,[[3,Oi]]),br(4608,ds,fs,[Oi,[2,hs]]),br(5120,fi,ko,[Ki]),br(5120,Ei,Ii,[]),br(5120,yn,So,[]),br(5120,_n,xo,[]),br(4608,fu,pu,[ws]),br(6144,ge,null,[fu]),br(4608,lu,au,[]),br(5120,Ma,(function(t,e,n,r,i,o,l,s){return[new iu(t,e,n),new du(r),new uu(i,o,l,s)]}),[ws,Ki,xi,ws,ws,lu,ki,[2,su]]),br(4608,La,La,[Ma,Ki]),br(135680,Va,Va,[ws]),br(4608,za,za,[La,Va,Ei]),br(6144,en,null,[za]),br(6144,Ua,null,[Va]),br(4608,to,to,[Ki]),br(5120,Oc,ad,[jh]),br(4608,Qh,Qh,[]),br(6144,Kh,null,[Qh]),br(135680,Xh,Xh,[jh,po,Li,Te,Kh]),br(4608,$h,$h,[]),br(5120,Yh,rd,[jh,Es,Jh]),br(5120,dd,hd,[ud]),br(5120,Ai,(function(t){return[t]}),[dd]),br(4608,Ud,Ud,[]),br(4608,yf,yf,[]),br(5120,ap,cp,[ip,Ki,[2,op]]),br(4608,yp,yp,[ip,[2,op],[2,dp],[2,pp],xi,Ki,[2,fp]]),br(4608,Zg,Zg,[ip,[2,op],xi,Ki]),br(4608,em,em,[jh]),br(1073742336,bs,bs,[]),br(1024,Ht,Cu,[]),br(1024,lo,(function(){return[ed()]}),[]),br(512,ud,ud,[Te]),br(1024,wi,(function(t,e){return[(n=t,Pa("probe",Ra),Pa("coreTokens",Object.assign({},Da,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Ra),cd(e)];var n}),[[2,lo],ud]),br(512,Ci,Ci,[[2,wi]]),br(131584,ho,ho,[Ki,ki,Te,Ht,$e,Ci]),br(1073742336,Oo,Oo,[ho]),br(1073742336,Eu,Eu,[[3,Eu]]),br(1024,Zh,od,[[3,jh]]),br(512,ac,uc,[]),br(512,zh,zh,[]),br(256,Jh,{},[]),br(1024,is,id,[ns,[2,os],Jh]),br(512,ls,ls,[is,ns]),br(512,Li,Li,[]),br(512,po,vo,[Li,[2,go]]),br(1024,Dh,(function(){return[[{path:"as",canActivate:[em],component:Cf},{path:"loginAdmin",component:kp},{path:"loginEmp",component:Rp},{path:"profile",canActivate:[nm],component:Vp},{path:"admin",canActivate:[em],component:ng},{path:"admins",canActivate:[em],component:sg},{path:"employes",canActivate:[em],component:Cg},{path:"serveurs",canActivate:[em],component:Mg},{path:"",component:Rp}]]}),[]),br(1024,jh,sd,[ho,ac,zh,ls,Te,po,Li,Dh,Jh,[2,Mh],[2,Nh]]),br(1073742336,nd,nd,[[2,Zh],[2,jh]]),br(1073742336,rm,rm,[]),br(1073742336,vf,vf,[]),br(1073742336,_f,_f,[]),br(1073742336,bf,bf,[]),br(1073742336,hp,hp,[xi]),br(1073742336,Jg,Jg,[]),br(1073742336,tm,tm,[]),br(1073742336,Jl,Jl,[]),br(256,Ee,!0,[]),br(256,ip,{apiKey:"AIzaSyB3sZ5jaQI4I8rDudJmSjIZgBqGZbwcr1M",authDomain:"telecome2020-53101.firebaseapp.com",databaseURL:"https://telecome2020-53101.firebaseio.com",projectId:"telecome2020-53101",storageBucket:"telecome2020-53101.appspot.com",messagingSenderId:"953242659954",appId:"1:953242659954:web:c39824d943f11f0b3be6eb",measurementId:"G-V53QVD8MTX"},[]),br(256,op,void 0,[])])}));(function(){if(Wt)throw new Error("Cannot enable prod mode after platform setup.");zt=!1})(),wu().bootstrapModuleFactory(im).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],l=i+1<t.length,s=l?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=(15&s)<<2|u>>6,h=63&u;a||(h=64,l||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var l=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,a=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==l||null==s||null==a)throw Error();r.push(o<<2|l>>4),64!==s&&(r.push(l<<4&240|s>>2),64!==a&&r.push(s<<6&192|a))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],l=o?m(o,r):"Error",s=this.serviceName+": "+l+" ("+i+").",a=new p(i,s),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in a&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),a[h]=r[h])}return a},t}();function m(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(u(o[0])||""),n=y(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(l){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,l=this.chain_[0],s=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^s&(a^u),o=1518500249):(i=s^a^u,o=1859775393):r<60?(i=s&a|u&(s|a),o=2400959708):(i=s^a^u,o=3395469782);var h=(l<<5|l>>>27)+i+c+o+n[r]&4294967295;c=u,u=a,a=4294967295&(s<<30|s>>>2),s=l,l=h}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=b,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=l,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=a,e.base64Decode=u,e.base64Encode=function(t){var e=s(t);return a.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.getUA=d,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=f,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var l=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(l<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);